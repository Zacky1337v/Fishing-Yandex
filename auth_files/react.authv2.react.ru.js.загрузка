!function(e){function t(t){for(var r,o,c=t[0],u=t[1],s=t[2],l=0,d=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);d.length;)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={26:0},i={26:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[];o[e]?t.push(o[e]):0!==o[e]&&{0:1,3:1,5:1,6:1,9:1,12:1,17:1,20:1,22:1,23:1,24:1}[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="../css/"+e+".react.authv2.cij.css",i=c.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=(f=a[u]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===r||s===i))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var f;if((s=(f=l[u]).getAttribute("data-href"))===r||s===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.href||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],d.parentNode.removeChild(d),n(a)},d.href=i,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){o[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=function(e){return c.p+"chunk-react.authv2-"+({0:"AmDebug",1:"AmFinish",2:"AuthWithLetterPage",3:"AvatarRequestPage",4:"BindConfirmPage",5:"BindHintPage",6:"BindPhonePage",7:"CaptchaPage",8:"Challenge",9:"ChangePassword",10:"EmailRequestPage",11:"MethodConfirmPage",12:"MethodPage",13:"NotifyPage",14:"PhoneRequestPage",15:"PreRegisterPage",16:"RegisterLiteEnterCode",17:"RegisterLiteEula",18:"RegisterLiteNameForm",19:"RegisterLitePasswordForm",20:"RestorePasswordFinish",21:"RestorePasswordStart",22:"SignUp",23:"SocialSuggest",24:"UserEntryFlow"}[e]||e)+".ru.js"}(e);var s=new Error;a=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,n[1](s)}i[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://yastatic.net/s3/passport-static/core/v0.2.190-14/js/",c.oe=function(e){throw console.error(e),e};var u=window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=s;a.push([0,25,27]),n()}({"+KfeYK7Qp7OX8tUNmyvn":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("2zFAvgXZRXm915c1LW+m"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("DoQaHn2w4kPN7lMBHsaC"),c=n("W3MgEIO55ELSFhldjoS/"),u=n("NH34m/YMyHs61nOqvuoz");function s(){return function(e,t){var n=t(),s=n.common,l=s.track_id,f=s.csrf,d=s.retpath,p=n.challenge,h=p.challengeType,m=p.fieldValue,b={track_id:l,csrf_token:f,challenge:h};"phone_confirmation"!==h&&(b.answer=m),m.trim()?(e(Object(i.ab)(!0)),r.a.request("auth/challenge/commit",b).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("ok"===t.status){var n="/auth/finish/?track_id=".concat(l),r="phone"===h?u.z:u.p;return d&&(n+="&retpath=".concat(encodeURIComponent(d))),c.a.send([u.o,r]),void(window.location.href=n)}e(Object(o.f)({code:"internal",text:"Что-то пошло не так. Попробуйте обновить страницу"})),e(Object(i.ab)(!1))})).fail((function(t){var n=Array.isArray(t.error)&&t.error[0],r="phone"===h?u.A:u.q;e(Object(a.a)(n)),e(Object(i.ab)(!1)),c.a.send([u.o,"".concat(r," ").concat(n)])}))):e(Object(a.a)("missingvalue"))}}},"/qp7eX9r2wPXqWUMVlz8":function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("WE2RsoBXx7uBcYbdhL/w");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,i=d(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.code,n=e.deviceInfo,r=e.showDescription,i=e.staticPath,a=e.text,c=n||"";return t?o.a.createElement("div",null,r&&o.a.createElement("p",{className:"al-send-popup__code-descr"},"Убедитесь, что видите на экране устройства %device вот эти символы:".replace("%device",c)),o.a.createElement("ul",{className:"al-send-popup__code"},t.map((function(e,t){return o.a.createElement("li",{className:"popup__code-item",key:t},o.a.createElement("img",{className:"popup__code-item-img",src:"".concat(i,"/i/magic-letter/").concat(e,".png"),alt:"magic link code image"}))}))),o.a.createElement("div",{className:"al-send-popup__code-descr",dangerouslySetInnerHTML:{__html:a}})):null}}])&&l(t.prototype,n),r&&l(t,r),a}(r.Component);t.a=Object(c.c)((function(e){var t=e.mailAuth,n=e.settings;return{code:t.code,staticPath:n.staticPath}}))(m);m.propTypes={text:a.a.string.isRequired,staticPath:a.a.string.isRequired,code:a.a.array.isRequired,deviceInfo:a.a.string,showDescription:a.a.bool}},0:function(e,t,n){n("+h7UfTLKjXbHXWpywHgl"),n("fNs8URMzmzj4QHVrJu6g"),n("hgkKwzIT+eL/6qzcjRKI"),n("UAQ85GJtm6u41pIEHZEO"),n("ECokeEvW7BRJVNYOkCqo"),n("U/VxiUzZ1Qh+ibskoCgt"),n("K0NH248o1LaiF3U0VmsW"),n("Asq7A/upj/nfp1VwfW9q"),n("vmuhQ7eiGzWlTVSldjD7"),n("0YlVRBWZZN6FNqrVWCqM"),n("H1BWzY4ho4B9Jy5K3DNr"),n("zKWDPP2RYZ3xoZrQ5cst"),n("adsmQZuiGKCMNkHEwNPO"),n("k7V0D/w5FLB1oQSrMXgP"),n("nKxhmH4udVi5Kon+Abzp"),n("TSJ1re/OipvzUWvPh4TG"),e.exports=n("44h7hCI1GVe1PKviiDF6")},"0xnSXkruYfyBM/j8Ku9B":function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("woy4sHNOI7s+OSvKAhVR"),s=n("ChNA47itMhrlI5HSOuk4"),l=n("hbhwtfwpwcJBep3jxV99"),f=n("DNml7VDdSAs10Z4giKjv"),d=n("Es9rmdkpPfO71ZhahEM7"),p=n("DykVKCzoc0ACbI/E+LI/"),h=n("Sv+DydT6rKBct5kRKGVV");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,e);var t,n,r,i=_(a);function a(){var e;v(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(S(e=i.call.apply(i,[this].concat(n))),"_handlePhoneChange",(function(t){(0,e.props.updatePhoneNumber)(t)})),j(S(e),"_sendConfirmationCode",(function(t){var n=e.props.sendConfirmationCode;t.preventDefault(),n()})),j(S(e),"_sendConfirmationCodeForSecurePhone",(function(t){var n=e.props,r=n.sendConfirmationCode,o=n.setConfirmProcessState;t.preventDefault(),o(!0),r()})),j(S(e),"_clearSecurePhoneNumber",(function(t){var n=e.props.clearSecurePhoneNumber;t.preventDefault(),n()})),j(S(e),"_maybeRenderClearForm",(function(){var t=e.props,n=t.isCaptchaRequired,r=t.errors,i=t.phoneNumber,a=t.securePhoneNumber,c=t.isSecurePhoneMode;return a?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null,"Для продолжения необходимо подтвердить номер телефона"),o.a.createElement(u.a,{handlePhoneChange:e._handlePhoneChange,sentConfirmationCode:e._sendConfirmationCode,phoneNumber:i,isCaptchaRequired:n,clearPhoneForm:e._clearPhoneForm,action:"add",errors:r,isSecurePhoneMode:c}))})),j(S(e),"_maybeRenderSecurePhoneConfirm",(function(){var t,n=e.props,r=n.securePhoneNumber,i=n.errors,a=n.isSecurePhoneMode,c=n.profilePhonesUrl;return i.length>0&&(t=h.a[i[0]]?h.a[i[0]]:h.a.internal),r?o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:"Для продолжения необходимо подтвердить ваш номер телефона %phone".replace("%phone","<b>".concat(r,"</b>"))}})),o.a.createElement(d.a,{dataT:"phone-confirm"},t&&o.a.createElement("div",{className:"passp-form-field__error",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{"data-t":"phone_submit",className:"passp-button"},o.a.createElement(f.a,{type:"submit",text:"Подтвердить",view:"action",width:"max",size:"l",onClick:e._sendConfirmationCodeForSecurePhone})),o.a.createElement("div",{"data-t":"phone_reset",className:"passp-button"},o.a.createElement(f.a,{type:a?"link":"submit",text:"Использовать другой номер",view:"pseudo",width:"max",size:"l",url:a?c:void 0,onClick:a?void 0:e._clearSecurePhoneNumber})))):null})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.trackId;return o.a.createElement(s.a,{cls:"phone-request",dataT:"phone-request"},o.a.createElement("input",{"data-t":"track_id",type:"hidden",value:e}),this._maybeRenderClearForm(),this._maybeRenderSecurePhoneConfirm())}}])&&g(t.prototype,n),r&&g(t,r),a}(o.a.PureComponent);C.propTypes={isCaptchaRequired:c.a.bool,phoneNumber:c.a.string,securePhoneNumber:c.a.string,trackId:c.a.string.isRequired,profilePhonesUrl:c.a.string.isRequired,errors:c.a.array,updatePhoneNumber:c.a.func.isRequired,sendConfirmationCode:c.a.func.isRequired,clearSecurePhoneNumber:c.a.func.isRequired,setConfirmProcessState:c.a.func.isRequired,isSecurePhoneMode:c.a.bool};var R={updatePhoneNumber:p.A,sendConfirmationCode:p.r,clearSecurePhoneNumber:p.o,setConfirmProcessState:p.s};t.a=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.phoneConfirm,n=void 0===t?{}:t,r=e.common,o=void 0===r?{}:r,i=o.track_id,a=o.profilePhonesUrl;return b(b({},n),{},{profilePhonesUrl:a,trackId:i})}),R)(C)},"1gSsJzCQncDI46a/COOJ":function(e,t,n){},"1hgyDyPvGAR756qJDrVH":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("Cn0bb7dlXdz9iLHfBkZ3"),i=n("2zFAvgXZRXm915c1LW+m"),a=n("BiY5T7IoWQd4oP5CD4Ck"),c=n("DoQaHn2w4kPN7lMBHsaC");function u(){return function(e,t){var n=t().common,u=n.challengeUrl,s=n.track_id,l=n.csrf,f={track_id:s,csrf_token:l};o.a.request("auth/challenge/submit",f).done((function(t){e(Object(i.e)(t.challenge)),e(Object(r.d)("".concat(u).concat(s)))})).fail((function(t){var n=Array.isArray(t.error)&&t.error[0];e(Object(c.a)(n)),"challenge.limit_exceeded"===n&&e(Object(r.d)("".concat(u).concat(s)))})).always((function(){e(Object(a.ab)(!1))}))}}},"1jvN8wU/W9IdmrFFHA7y":function(e,t,n){},"1lce8xruOK6mMIIEy6xu":function(e,t,n){},"2RwP39fxF+52d7V4pFC1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("FUZ6AA4Oce8/2wMDn7Ki"),o=n("EnGa9mvY6eOwANLjrgCs");function i(e,t){return function(n){var i=window.Howl,a=e.voice&&e.voice.url;if(i&&a){var c=new i({src:e.voice.url,html5:!0,preload:!0,format:["mp3"]});c.on("load",(function(){n(Object(r.o)(e.key,null,c)),t&&n(Object(o.a)())})),c.on("loaderror",(function(){return n(Object(r.n)())})),c.on("end",(function(){return n(Object(r.j)(!1))}))}else n(Object(r.n)())}}},"2XkOPxanlrPYxlYlnOFa":function(e,t,n){},"2yXe/EtftuNrWxm0Mlu4":function(e,t,n){},"2zFAvgXZRXm915c1LW+m":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l}));var r="SET_CHALLENGE_DATA",o="UPDATE_CHALLENGE_VALUE",i="SET_CHALLENGE_ERROR",a="UPDATE_CHALLENGE_TYPE";function c(e){return{type:r,data:e}}function u(e){return{type:o,value:e}}function s(e){return{type:i,error:e}}function l(e){return{type:a,newChallenge:e}}},"30SY6zyJjGxELFqjE9vf":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("O5/wDFcDcr7psfl422DM"),u=Object(c.a)("BackButton"),s=function(e){var t=e.onClick,n=e.place,r=e.mode,i=void 0===r?"back":r;return t?o.a.createElement("button",{type:"button",tabIndex:"-1",className:u("",{place:n,mode:i}),onClick:t}):null};s.propTypes={onClick:a.a.func,place:a.a.string,mode:a.a.oneOf(["back","close"])}},"3e/Srl1fAuUQPt0tkE5i":function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"p",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"q",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"r",(function(){return v})),n.d(t,"k",(function(){return g})),n.d(t,"s",(function(){return O})),n.d(t,"j",(function(){return _}));var r="PUBLIC_UPDATE_AVATAR_UPLOAD_METHOD",o="PUBLIC_UPDATE_AVATAR_SET_TRACK",i="PUBLIC_UPDATE_AVATAR_ERROR",a="PUBLIC_AVATAR_SET_PROCESSING_STATUS",c="PUBLIC_AVATAR_UPDATE_URL",u="PUBLIC_AVATAR_RESET_URL",s="PUBLIC_AVATAR_UPDATE_IMAGE_OPTIONS",l="PUBLIC_AVATAR_SET_LOADING_STATUS",f="PUBLIC_AVATAR_CHANGE_UPDATE_STATUS";function d(e){return{type:"PUBLIC_UPDATE_DISPLAYNAME_UPDATE_LOADING_STATUS",isLoading:e}}function p(e){return{type:"PUBLIC_UPDATE_DISPLAYNAME_ERROR",error:e}}function h(e){return{type:i,error:e}}function m(e){return{type:a,isProcessing:e}}function b(e){return{type:l,isLoading:e}}function y(e){return{type:o,trackId:e}}function v(e){return{type:c,urlData:e}}function g(e){return{type:u,resetUrl:e}}function O(e){return{type:s,options:e}}function _(e){return{type:f,isUpdated:e}}},"3jQNbST1kIlUrdI/RR8z":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("qyhOylcYgz7sofzu7jFu"),a=n("W3MgEIO55ELSFhldjoS/"),c=n("NH34m/YMyHs61nOqvuoz");function u(){return function(e,t){var n=t(),u=n.common,s=u.restorePasswordUrl,l=u.restorePasswordCaptchaUrl,f=u.addUserUrl,d=u.experiments.flags,p=n.restorePassword.errors,h=Boolean(p.code)?s:l;e(Object(o.wb)(f)),e(Object(i.w)(h)),e(Object(o.xb)("restore-password")),e(Object(r.d)(h)),a.a.send([c.yb,"".concat(c.bc,", эксперимент: ").concat(d)])}}},"44h7hCI1GVe1PKviiDF6":function(e,t,n){"use strict";n.r(t);n("dR5ZnFrewl6qTqkQvb8P"),n("9io7VbrBLAUj1A1fSgyq");var r,o,i=n("a4EMkKqamYWCMMPV7UeQ"),a=n.n(i),c=n("WE2RsoBXx7uBcYbdhL/w"),u=n("fdvIBlOQlZTMBA80mYxn"),s="3070",l="3036",f="react.inited",d=function(e){"undefined"!=typeof Ya&&Ya.Rum&&"function"==typeof Ya.Rum.sendTimeMark&&Ya.Rum.sendTimeMark(e)},p=n("orGJv1osmJpP2TM33F0c"),h=n("Cn0bb7dlXdz9iLHfBkZ3"),m=n("N6N5KCDRlmBrE6N3/28a"),b=n.n(m),y=n("W3MgEIO55ELSFhldjoS/"),v=n("7CdAhs8eUPk6XSbAucx2"),g=n.n(v),O={init:function(e){var t=e.getState();g.a.init(t.monitoring),this.initialized=!0},send:function(e){this.initialized&&g.a.send(e)}},_=n("dbQGcO8bADqwtDqc3mez"),E=n("BiY5T7IoWQd4oP5CD4Ck"),S=n("NH34m/YMyHs61nOqvuoz"),w=n("4CLY6EXHBdRASoqLgoNs"),j=n("buqWOCdf14bbF2aD2r0s"),C=n("icG+8Jgv+BJiTL/fPTrX"),R=n("xSpN8Kyw4VlgAPhFVdtL"),P={init:function(e){this.setStore(e)},start:function(e){this.restart(e)},restart:function(){var e=this,t=this.getStore().getState(),n=t.common,r=n.track_id,o=n.csrf;e.track_id=r,e.csrf_token=o,e.retpath=Object(C.f)(t),e.trackNotFoundErrorCount=0,e.stop(),e._interval=300,window.intervalTimeout=setTimeout((function(){e._interval=1e3}),6e4),window.redirectTimeout=setTimeout((function(){window.location.reload(!0)}),6e5),e._stopped=!1,e.restartPolling()},restartPolling:function(){var e=this;e._stopped||setTimeout((function(){e.poll()}),e._interval)},poll:function(){var e=this,t=this.getStore();$.ajax("/auth/letter/status/",{data:{track_id:e.track_id,csrf_token:e.csrf_token,retpath:e.retpath},dataType:"json",type:"POST"}).done((function(n){if(n.state&&"auth_challenge"===n.state)return e.stop(),void(window.location.href="/auth/challenges/?track_id=".concat(n.track_id));if("ok"===n.status&&n.magic_link_confirmed){e.stop(),y.a.send([S.Cc]);var r="/auth/finish/?track_id=".concat(n.track_id);return(n.retpath||e.retpath)&&(r+="&retpath=".concat(encodeURIComponent(n.retpath||e.retpath))),void(window.location.href=r)}if(n.errors){var o=(t.getState().auth.processedAccount||{}).primaryAliasType,i=Object(R.b)(o)===R.a.LITE,a="magic_link.invalidated"===n.errors[0]&&!i?"messenger_link.invalidated":n.errors[0],c=["track.not_found","track_id.empty"].includes(a);if(t.dispatch(Object(E.X)(!1)),c||(e.stop(),t.dispatch(Object(E.lb)(a))),"captcha.required"===a)return t.dispatch(Object(E.ub)("")),t.dispatch(Object(E.U)(!0)),t.dispatch(Object(E.jb)(!0)),void t.dispatch(Object(w.a)());if("magic_link.invalidated"===a||"messenger_link.invalidated"===a){var u=t.getState(),s=u.mailAuth.isUpdatedAuthLetterStatus,l=u.auth.processedAccount;if(1===l.allowed_auth_methods.length)return void t.dispatch(Object(j.a)());if(!s){var f=Object.assign({},l);f.allowed_auth_methods=f.allowed_auth_methods.filter((function(e){return"magic_link"!==e})),t.dispatch(Object(E.Y)(f))}}if(c){if(e.trackNotFoundErrorCount>5)return e.stop(),void t.dispatch(Object(E.lb)("global"));e.trackNotFoundErrorCount++,e.restartPolling()}}e.restartPolling()}))},setStore:function(e){r=e},getStore:function(){return r},stopPoll:function(){this._stopped=!0},stop:function(){clearTimeout(window.intervalTimeout),clearTimeout(window.redirectTimeout),this.stopPoll()}},T=n("qyhOylcYgz7sofzu7jFu");function k(e){return{type:"UPDATE_PASSWORD_VALUE",value:e}}function A(){return function(e){e((function(e){e({type:"SWITCH_TO_MAGIC"})}))}}function N(e){var t=document.createElement("form"),n=document.createElement("input");t.method="GET",t.action="/redirect",n.value=e,n.name="url",t.appendChild(n),document.body.appendChild(t),t.submit(),t.parentNode.removeChild(t)}function I(){return function(e){e({type:"SHOW_ACCOUNTS"}),h.a.request("accounts").done((function(t){e(Object(T.z)(t.csrf)),e({type:"SHOW_ACCOUNTS_SUCCESS",accounts:t.accounts})})).fail((function(t){e({type:"SHOW_ACCOUNTS_FAIL",res:t})}))}}var M={init:function(e){var t=this,n=document.getElementsByClassName("passport-ScreenBox-Content")[0];o=e,window.addEventListener?(window.addEventListener("message",t.onSuccess),n.addEventListener("transitionend",t.onProcessAnimationEnd,!1)):(window.attachEvent("onmessage",t.onSuccess),window.attachEvent("transitionend",t.onProcessAnimationEnd)),window.location.origin||(window.location.origin="".concat(window.location.protocol,"//").concat(window.location.hostname)),window.response=function(e){t.onSuccess({origin:location.origin,data:{asyncAuth:e}})}},onProcessAnimationEnd:function(e){o.dispatch(function(e){return function(t){"transform"===e.propertyName&&t({type:"PROCESS_ANIMATION_END",event:e})}}(e))},onSuccess:function(e){var t,n,r,i,a,c,u,s,l;if(e.origin===location.origin&&e.data.asyncAuth){if(n=(t=b.a.util.getUrlParamsV2(e.data.asyncAuth)).errors,r=t.source?"Экран саджеста":"Экран пустого домика",i="yes"===t.magic?"otp":"password",n&&y.a.send([r,"Показ ошибки",n]),"ok"===t.status&&"check"===t.action)return void o.dispatch((l=!0,{type:"CHECK_IFRAME",isPassed:l}));"ok"!==t.status||t.action||(y.a.goal("".concat("one_domik","_auth_success")),y.a.send([r,"Успешный вход",{method:i}])),"ok"===t.status&&"logout"!==t.action?o.dispatch((function(e,t){var n=t(),r=n.common.retpath||n.common.profile_url;e({type:"REDIRECT_TO_RETPATH"}),N(r)})):"yes"===t.magic?("suggested"!==t.source&&o.dispatch(A()),"password.not_matched"===n&&(n="password.not_matched_2fa"),o.dispatch(function(e){return function(t){e&&["password.not_matched_2fa","password.empty"].indexOf(e)>-1&&t(k("")),t({type:"SHOW_MAGIC_ERROR",errors:e})}}(n))):"other"!==t.status||!t.url||["account.disabled","account.disabled_on_deletion"].indexOf(t.errors)>-1?(o.dispatch((a=t,function(e,t){var n=t().one_domik;a.errors&&["password.not_matched","password.empty","rfc_otp.invalid","code.invalid","code.empty"].indexOf(a.errors)>-1&&e(k("")),n.captchaRequired&&a.errors&&["captcha.invalid","captcha.required"].indexOf(a.errors)>-1&&e(Object(w.a)()),e({type:"PROCESS_EMB_ANSWER",data:a})})),"ok"===t.status&&o.dispatch(I())):"rfc_totp"===t.state?o.dispatch((function(e){e({type:"SWITCH_TO_RFC_TOTP"})})):"email_code"===t.state?o.dispatch((function(e,t){var n=t().common,r=n.track_id,o=n.csrf;e({type:"SWITCH_TO_EMAIL_CODE"});var i={track_id:r,csrf_token:o};h.a.request("auth/multi_step/submit_email_code",i).done((function(){return e({type:"SUBMIT_EMAIL_CODE_SUCCESS"})})).fail((function(t){return e({type:"SUBMIT_EMAIL_CODE_FAIL",errors:t.errors&&t.errors[0]||"internal"})}))})):(c=decodeURIComponent(t.url),u=document.createElement("form"),s=document.createElement("input"),u.method="GET",u.action="/redirect",s.value=c,s.name="url",u.appendChild(s),document.body.appendChild(u),u.submit(),u.parentNode.removeChild(u)),o.dispatch({type:"DOMIK_IS_LOADING",loading:!1})}}},L=n("O5/wDFcDcr7psfl422DM"),D={init:function(e){var t=e.getState().common.isYandex,n=Object(L.f)(),r=n.retpath,o=n.mode,i=n.force_auth,a=n.no_pulse,c=this;"1"!==a&&(t||r&&"1"!==i&&-1===["add-user","edit"].indexOf(o)&&(setTimeout((function(){c.POLLING_TIMEOUT=5e3,c.LEADER_TIMEOUT=15e3}),6e4),Object(L.n)("localStorage")&&(window.addEventListener("storage",this.onStorage.bind(this)),this.chooseWay(null))))},POLLING_TIMEOUT:1e3,LEADER_TIMEOUT:3e3,chooseWay:function(e){var t=localStorage.getItem("pid");return e===t?this.startAsALeader():this.startAsANormie(t)},startAsALeader:function(){var e=this,t=this.generateId(10);localStorage.setItem("pid",t),setTimeout((function(){return e.singleRequest(t)}),this.POLLING_TIMEOUT)},startAsANormie:function(e){var t=this;setTimeout((function(){return t.chooseWay(e)}),this.LEADER_TIMEOUT)},finish:function(){localStorage.removeItem("pid"),this.reload()},onStorage:function(e){"pid"===e.key&&null===e.newValue&&this.reload()},reload:function(){window.location.search+="&no_pulse=1"},singleRequest:function(e){var t=this;b.a.api.request("/auth/pulse",{}).done((function(n){"ok"===n.status?t.finish():t.chooseWay(e)})).fail((function(){t.chooseWay(e)}))},dec2hex:function(e){return"0".concat(e.toString(16)).substr(-2)},generateId:function(e){var t=new Uint8Array((e||40)/2);return(window.crypto||window.msCrypto).getRandomValues(t),[].slice.call(t).map(this.dec2hex).join("")}},x=n("fi7sVlHuU93LEbukopgn"),q=n("gGLUm6icyW4lmihzoT4E"),U=n("dF74zivbHpQBxV7py66p"),B=function(e){var t=e.App,n=e.configureStore,r=e.metricsData,o=void 0===r?["показ страницы"]:r,i=e.withProvider,m=void 0===i||i,v=e.withMagic,g=void 0!==v&&v,E=e.withRouter,S=void 0!==E&&E,w=e.withCheckHuman,j=void 0!==w&&w,C=e.history,R=e.replaceHistory,T=e.replaceHistorySearch,k=void 0===T?location.search:T,A=e.broker,N=e.isOneDomik,I=void 0!==N&&N;d(s);var L=document.querySelector("#storeScript"),B=window.__REDUX_STORE__;R&&C.replace("".concat(R).concat(k).concat(location.hash));var F=m?n(B,C):B;R&&F.dispatch(Object(q.e)("".concat(R).concat(k).concat(location.hash)));var H=B.settings,W=void 0===H?{}:H,V=B.common,Y=void 0===V?{}:V,z=B.am,G=void 0===z?{}:z,X=W.language,Q=Y.track_id,K=Y.dev,J=Y.csrf;delete window.__REDUX_STORE__,L.parentNode.removeChild(L),m&&(h.a.init(F),b.a.init({trackId:Q,csrf:J}),g&&(_.a.init(F),P.init(F)),y.a.init(F),O.init(F),A&&A.init(F),I&&(M.init(F),D.init(F))),j&&b.a.api.request("checkjsload",{track_id:Q,language:X}),G.isAm&&(F.dispatch(Object(x.g)()),F.dispatch(Object(x.e)()),F.dispatch(Object(x.i)()));var Z=m?a.a.createElement(c.a,{store:F},S?a.a.createElement(U.a,{history:C},a.a.createElement(t,null)):a.a.createElement(t,null)):a.a.createElement(t,F);Object(u.hydrate)(Z,document.getElementById("root")),d(f),d(l),"undefined"!=typeof Ya&&Ya.Rum&&"function"==typeof Ya.Rum.sendHeroElement&&Ya.Rum.sendHeroElement(),j&&!K&&p.a.init({trackId:Q}),m&&(y.a.send(o),window.onload=function(){setTimeout((function(){O.send({event:"load"})}),0)})},F=n("YR4SqEXfdD7NE+trg0fI"),H=n.n(F),W=n("CCXVZ27A5l6hmPXwLTrH"),V=n("RtoYEtkbxQ+mibaABznE"),Y=n("ZDmX7r9YifVbosUR2qgY"),z=n("xFFaI0x356mCCN9B5+Ia"),G=n("UMkmG0pdT45h5d0ekVwb"),X=n.n(G),Q=n("pljtMiJ6cPwIsouCAJRc"),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.g:return Object.assign({},e,{actionForRepeat:{action:t.actionToCall,payload:t.payload}});case T.j:return Object.assign({},e,{edit:t.edit});case T.m:return Object.assign({},e,{showRegPopup:t.show});case T.a:var n=e.historyOnPassport;switch(t.historyEvent){case"POP":n-=1;break;case"PUSH":n+=1}return Object.assign({},e,{currentPage:t.currentPage,historyOnPassport:n});case T.f:return b.a.track_id=t.track_id,Object.assign({},e,{track_id:t.track_id});case T.p:return Object.assign({},e,{track_id:t.track_id});case T.o:return Object.assign({},e,{csrf:t.token});case T.h:return Object.assign({},e,{backPane:t.pane});case Q.a:return Object.assign({},e,{track_id:t.track_id,magic_csrf_token:t.csrf_token});case T.i:return Object.assign({},e,{pane:t.pane});case T.n:return Object.assign({},e,{isBackPaneVisible:t.isBackPaneVisible});case T.b:return Object.assign({},e,{countries:t.countries});case T.c:return Object.assign({},e,{timezones:t.timezones});case T.k:return Object.assign({},e,t.payload);default:return e}},J=n("OWyp9q5IAHy11NTyZQSA"),Z=n("3e/Srl1fAuUQPt0tkE5i"),ee=n("6QkgGlmAmJL/UXgTfwXy");function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.z:return Object.assign({},e,{loginError:t.error});case E.A:return Object.assign({},e,{isAbleToRestore:t.isAbleToRestore});case E.C:return Object.assign({},e,{passwordError:t.error});case E.w:return Object.assign({},e,{captchaError:t.error});case E.B:return Object.assign({},e,{magicError:t.error});case E.d:return Object.assign({},e,{form:Object.assign({},e.form,{isCanRegister:t.isCanRegister,registrationLogin:t.registrationLogin||"",registrationType:t.registrationType||"",registrationPhoneNumber:t.registrationPhoneNumber||"",registrationCountry:t.registrationCountry||""})});case E.k:return Object.assign({},e,{method:"password",processedAccount:t.account});case E.Q:return Object.assign({},e,{form:Object.assign({},e.form,{login:t.value||"",loginError:!t.value&&e.form.login?null:e.form.loginError,isForceOTP:t.value===e.form.login&&e.form.isForceOTP})});case E.S:return Object.assign({},e,{form:Object.assign({},e.form,{password:t.value})});case E.P:return Object.assign({},e,{form:Object.assign({},e.form,{captcha_answer:t.value})});case E.e:return Object.assign({},e,{authorizedAccountsDefaultUid:t.uid});case E.q:return Object.assign({},e,{method:t.account.preferred_auth_method,processedAccount:t.account});case E.p:return Object.assign({},e,{inputLogins:Object.assign({},e.inputLogins,t.inputLogin)});case E.F:var n=t.accounts,r=n.authorizedAccounts,o=n.authorizedAccountsDefaultUid,i=n.unitedAccounts,a=n.suggestedAccounts;return Object.assign({},e,{authorizedAccounts:r,authorizedAccountsDefaultUid:o,unitedAccounts:i,suggestedAccounts:a});case E.E:return Object.assign({},e,{errors:{},loading:!1});case E.G:return Object.assign({},e,{mode:"addingAccount"});case E.H:return Object.assign({},e,{mode:"edit"});case E.M:return Object.assign({},e,{mode:"welcome"});case E.I:return Object.assign({},e,{isFromLoginSuggest:Boolean(t.isFromLoginSuggest)});case E.J:return Object.assign({},e,{mode:"restoreLogin"});case E.K:return Object.assign({},e,{mode:"restoreLoginProcess"});case E.L:return Object.assign({},e,{mode:"restoreLoginResult"});case E.r:return Object.assign({},e,{mode:t.mode});case E.f:return Object.assign({},e,{isCaptchaRequired:t.isCaptchaRequired});case E.n:return Object.assign({},e,{form:Object.assign({},e.form,{isForceOTP:t.isForceOTP})});case E.m:return Object.assign({},e,{loading:t.loading});case Z.c:return Object.assign({},e,{loading:t.isLoading});case E.R:return Object.assign({},e,{magicCSRF:t.csrf,magicTrack:t.track});case J.m:return Object.assign({},e,{mode:"registerLite"});case ee.b:return Object.assign({},e,{authBySMS:t.payload});default:return e}}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.a.UPDATE_SAVED_EXPERIMENTS:return Object.assign({},e,{experiments:Object.assign({},e.experiments||{},t.payload.experiments)});default:return e}}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.c:return Object.assign({},e,{isAuthMailSent:!0,code:t.code});case E.b:return Object.assign({},e,{isAuthConfirmed:!0,retpath:t.retpath});case E.a:return Object.assign({},e,{isAuthCancelled:t.status});case E.O:return Object.assign({},e,{isAuthMailConfirmationVisible:t.isVisible});case E.u:return Object.assign({},e,{mailAuthError:t.error});case E.Q:return Object.assign({},e,{isAuthMailSent:!1,isAuthConfirmed:!1,isAuthCancelled:!1,isAuthMailConfirmationVisible:!1,mailAuthError:"",isUpdatedAuthLetterStatus:!1});case E.v:return Object.assign({},e,{isUpdatedAuthLetterStatus:t.isUpdated});case E.s:return Object.assign({},e,{isEnabled:!1});case E.t:return Object.assign({},e,{isEnabled:!0});default:return e}}var oe=n("exOCWzlfu86/I8jXI0mZ");function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.a:return Object.assign({},e,{isSent:!0,code:t.code});case oe.b:return Object.assign({},e,{error:t.error});case E.a:return Object.assign({},e,{isCancelled:t.status});case E.u:return Object.assign({},e,{error:t.error});default:return e}}var ae="[RESTORE_LOGIN] CHANGE_PHONE",ce="[RESTORE_LOGIN] CHANGE_LAST_NAME",ue="[RESTORE_LOGIN] SET_ERRORS";function se(e){return{type:"[RESTORE_LOGIN] SET_SUGGESTED_ACCOUNTS",accounts:e}}function le(e){return{type:"[RESTORE_LOGIN] CHANGE_CHECK_PHONE_STATUS",isPhoneCheckSent:e}}function fe(e){return{type:"[RESTORE_LOGIN] CHANGE_PHONE_VALIDATION_STATUS",isValidPhone:e}}function de(e){return{type:"[RESTORE_LOGIN] CHANGE_PHONE_OVERHEAT_STATUS",isPhoneOverheated:e}}function pe(e){return{type:ue,errors:e}}function he(e){return{type:"[RESTORE_LOGIN] SWITCH_CONFIRM_METHOD",confirmMethod:e}}function me(e){return{type:"UPDATE_PHONE_CONFIRMATION_CALL_NUMBER",callingNumberStr:e}}var be={phone:"",firstName:"",lastName:"",confirmationCode:"",isPhoneCheckSent:!1,callingNumberTemplate:"+7 901 XXX-ХХ-ХХ",accounts:[],errors:{},confirmMethod:"by_sms",isCallExp:!1,isFlashCallExp:!1,isValidPhone:!1,isPhoneOverheated:!1};function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.J:var n="by_sms";return e.isCallExp&&(n="by_call"),e.isFlashCallExp&&(n="by_flash_call"),Object.assign({},be,{confirmMethod:n,isCallExp:e.isCallExp,isFlashCallExp:e.isFlashCallExp});case ae:return Object.assign({},e,{phone:t.phone,isValidPhone:!1,isPhoneOverheated:!1});case"[RESTORE_LOGIN] CHANGE_PHONE_OVERHEAT_STATUS":return Object.assign({},e,{isPhoneOverheated:t.isPhoneOverheated});case"[RESTORE_LOGIN] CHANGE_FIRST_NAME":return Object.assign({},e,{firstName:t.firstName});case ce:return Object.assign({},e,{lastName:t.lastName});case"[RESTORE_LOGIN] CHANGE_CONFIRMATION_CODE":return Object.assign({},e,{confirmationCode:t.confirmationCode});case"[RESTORE_LOGIN] SET_SUGGESTED_ACCOUNTS":return Object.assign({},e,{accounts:t.accounts});case"UPDATE_PHONE_CONFIRMATION_CALL_NUMBER":return Object.assign({},e,{callingNumberTemplate:t.callingNumberStr});case"[RESTORE_LOGIN] CHANGE_CHECK_PHONE_STATUS":return Object.assign({},e,{isPhoneCheckSent:t.isPhoneCheckSent});case"[RESTORE_LOGIN] SWITCH_CONFIRM_METHOD":return Object.assign({},e,{confirmMethod:t.confirmMethod});case ue:return Object.assign({},e,{errors:t.errors});case"[RESTORE_LOGIN] CLEAR_ERRORS":return Object.assign({},e,{errors:{}});case"[RESTORE_LOGIN] CHANGE_PHONE_VALIDATION_STATUS":return Object.assign({},e,{isValidPhone:t.isValidPhone});default:return e}}var ve=n("9s/32m/Ov0dlcLEPGLU+"),ge=n("QgjbgVDbzfInN/CjWaXi"),Oe={trackId:null,isCaptchaRepeatRequired:!1,methods:[],selectedMethod:"",logins:[],errors:{},urls:{}};function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve.a:return Object.assign({},e,{trackId:t.payload.trackId,logins:t.payload.logins,urls:t.payload.urls});case ve.b:return Object.assign({},e,{methods:t.methods});case ve.g:return Object.assign({},e,{selectedMethod:t.method,methodInfo:t.methodInfo});case ve.e:return Object.assign({},e,{errors:t.error});case ve.f:var n=Object.assign({},e.processState,t.processState);return Object.assign({},e,{processState:n});case ve.d:return Object.assign({},e,{isCaptchaRepeatRequired:t.isRequired});case ve.c:return Object.assign({},e,{isPhoneValidForCall:t.isValidForCall,number:t.number});case T.l:return Object.assign({},e,{questionsList:t.questions});case ve.h:return Object.assign({},e,{bindHint:Object.assign({},e.bindHint||{},t.payload)});case ge.a:return Object.assign({},e,{trackId:null});default:return e}}var Ee={track_id:"",login:"",firstname:"",lastname:"",password:"",confirmationCode:"",errors:{},passwordWarning:"",passwordErrorDescription:"",isLoginRequired:!1,isPasswordValid:!1};function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.l:return Object.assign({},Ee,{track_id:t.track_id});case J.b:return Object.assign({},e,{firstname:t.firstname});case J.c:return Object.assign({},e,{lastname:t.lastname});case J.a:return Object.assign({},e,{confirmationCode:t.confirmationCode});case J.e:return Object.assign({},e,{password:t.password});case J.f:return Object.assign({},e,{passwordConfirm:t.passwordConfirm});case J.d:return Object.assign({},e,{login:t.login});case J.j:return Object.assign({},e,{errors:t.errors});case J.g:return Object.assign({},e,{isLoginRequired:!0});case J.i:return Object.assign({},e,{passwordWarning:t.warning});case J.h:return Object.assign({},e,{passwordErrorDescription:t.text});case J.k:return Object.assign({},e,{isPasswordValid:t.isValid});default:return e}}function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.h:return Object.assign({},e,{isShowMobileMenu:t.visible,mobileMenuType:t.visible?e.mobileMenuType:null});case E.g:return Object.assign({},e,{mobileMenuType:t.mobileMenuType});case E.D:return Object.assign({},e,{processedAccountUid:t.processedAccountUid});default:return e}}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.j:return Object.assign({},e,{isShowPagePopup:t.visible,pagePopupType:t.visible?e.pagePopupType:null});case E.i:return Object.assign({},e,{pagePopupType:t.pagePopupType});case"@@router/LOCATION_CHANGE":return Object.assign({},e,{isShowPagePopup:!1,pagePopupType:null});default:return e}}var Ce=n("FUZ6AA4Oce8/2wMDn7Ki"),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce.a:return Object.assign({},e,{playing:t.playing});case Ce.b:return Object.assign({},e,{type:"text"===e.type?"audio":"text"});case Ce.h:return Object.assign({},e,{loading:!0,loadingAudio:!0});case Ce.d:return Object.assign({},e,{loadingAudio:!0});case Ce.g:var n={loading:!1,key:t.key,imageUrl:t.imageUrl};return Object.assign({},e,n);case Ce.f:var r={loadingAudio:!1,key:t.key};return t.introSound&&(r.introSound=t.introSound),t.captchaSound?r.captchaSound=t.captchaSound:r.captchaSound=null,Object.assign({},e,r);case Ce.e:return Object.assign({},e,{loadingAudio:!1});case Ce.c:return Object.assign({},e,{loading:!1,loadingAudio:!1,playing:!1,type:"text",key:null,imageUrl:null,introSound:null,captchaSound:null,trackId:null});case Ce.i:return Object.assign({},e,{trackId:t.trackId});default:return e}},Pe=n("NoFeXeyUaLnlF3HDY2SY");function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe.a:return Object.assign({},e,{captchaAnswer:t.captchaAnswer});case Pe.b:return Object.assign({},e,{isCaptchaRequired:t.isCaptchaRequired});case Pe.f:return Object.assign({},e,{phone:Object.assign(e.phone,{number:t.phoneNumber})});case Pe.e:return Object.assign({},e,{email:t.email});case Pe.c:return Object.assign({},e,{confirmationCode:t.confirmationCode});case Pe.d:return Object.assign({},e,{isConfirmationCodeSent:t.isConfirmationCodeSent});case Pe.h:return Object.assign({},e,{isConfirmationCodeSent:!0});case Pe.i:var n=t.payload;return Object.assign({},e,{phone:Object.assign(e.phone,{number:n.number.original}),denyResendUntil:1e3*n.deny_resend_until,isConfirmationCodeSent:!0});case Pe.g:return Object.assign({},e,{errors:[]});case Pe.j:var r=t.errors,o=Boolean(r.join(",").match(/captcha\./));return Object.assign({},e,{errors:r,isCaptchaRequired:o});case E.o:var i=t.payload,a={};if(Object.assign(a,{status:"ok",isConfirmationCodeSent:!1,isCaptchaRequired:!1,confirmationCode:"",errors:[],denyResendUntil:null}),i&&i.state){var c=i.phone,u=i.email,s=i.social,l=i.track_id;Object.assign(a,{state:i.state,action:i.action,track_id:l}),"email"===i.state?a[i.state]=u||"":a[i.state]=c||s||{},"phone"===i.state&&(a.phone.id=String(a.phone.id||""),a.phone.number=String(a.phone.number||""))}return Object.assign({},a);default:return e}}var ke={track_id:null,default_300:"",avatarSize_300:"",avatarPrev:"",isProcessing:!1,isLoading:!1,fileType:"jpeg",compression:.6,isCropNotSupported:!1,error:"",isOptionalStep:!0,isUpdated:!1};function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.i:return Object.assign({},e,{uploadMethod:t.method});case Z.h:return Object.assign({},e,{track_id:t.trackId});case Z.g:return Object.assign({},e,{error:t.error});case Z.d:return Object.assign({},e,{isProcessing:t.isProcessing});case Z.c:return Object.assign({},e,{isLoading:t.isLoading});case Z.f:return Object.assign({},e,{avatarSize_300:t.urlData.url||e.avatarSize_300,avatarPrev:t.urlData.prevUrl||e.default_300});case Z.b:return Object.assign({},e,{avatarSize_300:t.resetUrl});case Z.e:return Object.assign({},e,{fileType:t.options.type,compression:t.options.compression});case Z.a:return Object.assign({},e,{isUpdated:t.isUpdated});default:return e}}var Ne=n("2zFAvgXZRXm915c1LW+m");function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ne.a:return Object.assign({},e,t.data);case Ne.d:return Object.assign({},e,{fieldValue:t.value});case Ne.b:var n=t.error,r=n.text,o=n.code;return Object.assign({},e,{errorText:r,errorCode:o});case Ne.c:return Object.assign({},e,{alternative:{challengeType:e.challengeType,hint:e.hint},challengeType:t.newChallenge.type,hint:t.newChallenge.hint});default:return e}}var Me=n("DykVKCzoc0ACbI/E+LI/"),Le={phoneNumber:"",internationalPhoneNumber:"",securePhoneNumber:"",errors:[],confirmationCode:"",isConfirmationCodeSent:!1,isCaptchaRequired:!1,phoneConfirmMethod:"by_sms",denyResendUntil:"",callingNumberTemplate:"",shouldCheckPhone:!1,isPasswordRequired:!1},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case Me.g:case Me.e:case Me.k:case Me.h:case Me.f:case Me.i:case Me.c:case Me.d:case Me.b:return Object.assign({},e,o);case Me.n:var i=o.phoneNumber;return Object.assign({},e,{phoneNumber:i});case Me.m:var a=o.confirmationCode;return Object.assign({},e,{confirmationCode:a});case Me.j:var c=o.errors;return Object.assign({},e,{errors:c});case Me.l:return Object.assign({},e,{denyResendUntil:Number(new Date)+3e4});case Me.a:return Object.assign({},e,{securePhoneNumber:""});default:return e}},xe=n("JR0gMBnH1G7ZT7pBXXBz"),qe={mode:"",step:"",suggestToRestore:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case xe.a:var i=o.step;return Object.assign({},e,{step:i});case xe.d:var a=o.suggestToRestore;return Object.assign({},e,{suggestToRestore:a});case xe.c:var c=o.mode;return Object.assign({},e,{mode:c});case xe.b:return Object.assign({},e,{step:"",suggestToRestore:!1});default:return e}},Be=n("Yp2QB2jYYmLrYZQDlfoW");function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He={firstname:"",lastname:"",login:"",email:"",password:"",password_confirm:"",hint_question_id:"",hint_question:"",hint_question_custom:"valid",hint_answer:"",captcha:"",phone:"",phoneCode:"",phoneCodeStatus:""};function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve={name:"",firstname:"",lastname:"",surname:"",login:"",email:"",password:"",password_confirm:"",hint_question_id:"",hint_question:"",hint_question_custom:"",hint_answer:"",captcha:"",phone:"",phoneCode:"",publicId:""};function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze={active:"",hintActive:!1,firstname:{code:"",text:""},lastname:{code:"",text:""},login:{code:"",text:""},email:{code:"",text:""},password:{code:"",text:"",warning:!1},password_confirm:{code:"",text:""},hint_question_id:{code:"",text:""},hint_question:{code:"",text:""},hint_question_custom:{code:"",text:""},hint_answer:{code:"",text:""},captcha:{code:"",text:""},phone:{code:"",text:""},phoneCode:{code:"",text:""},phoneCodeStatus:""};var Ge={method:"phone",humanConfirmationDone:!1};var Xe=Object(Y.c)({states:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.C:return Object.assign({},e,Fe({},t.data.field,t.data.status));case Be.x:return Object.assign({},e,{hint_question:t.data.status,hint_question_id:t.data.status});case Be.w:return Object.assign({},e,{hint_question_custom:t.data.status});case Be.y:return Object.assign({},e,{phoneCode:t.status});case Be.z:return Object.assign({},e,{phone:"",phoneCode:"",phoneCodeStatus:""});case Be.s:return Object.assign({},e,t.fields);case Be.d:return He;default:return e}},values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.E:return Object.assign({},e,We({},t.data.field,t.data.value));case Be.A:return Object.assign({},e,{phone:"",phoneCode:""});case Be.B:return Object.assign({},e,{hint_question_id:t.data.hint_question_id,hint_question:t.data.hint_question});case Be.d:return Ve;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.t:var n,r=Object.assign({},e,(Ye(n={active:t.data.active?t.data.field:""},t.data.field,t.data.error),Ye(n,"errorDescription",t.data.errorDescription||""),n));return t.data.warning&&(r.warning=t.data.warning),t.data.active||t.data.field===e.active||(r.active=e.active),r;case Be.u:return Object.assign({},e,Ye({active:e.active===t.field?"":e.active,errorDescription:""},t.field,{code:"",text:""}));case Be.l:return Object.assign({},e,t.data);case Be.v:return Object.assign({},e,{hintActive:t.status});case Be.k:return Object.assign({},e,{active:t.field});case Be.d:return ze;default:return e}},validation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.D:return Object.assign({},e,{method:t.method});case Be.g:return Object.assign({},e,{humanConfirmationDone:t.state});case"EMAIL_CONFIRMATION_DONE":return Object.assign({},e,{emailConfirmationDone:t.state});case Be.F:return Object.assign({},e,{isValidPhoneForCall:t.isValid});case Be.c:return Object.assign({},e,{phoneConfirmationType:t.phoneConfirmationType});case Be.m:return Object.assign({},e,{magicConfirmationCode:t.code});case Be.h:return Object.assign({},e,{callConfirmationTimer:t.timer});case Be.b:return Object.assign({},e,{isCallConfirmationInProcess:t.process});case Be.e:return Object.assign({},e,{isForceCheckedConfirmationCode:!0});case Be.j:return Object.assign({},e,{confirmationCodeLength:t.codeLength});case Be.d:return Ge;default:return e}},humanConfirmation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.f:return Object.assign({},e,{questionList:t.questions});case Be.r:return Object.assign({},e,{isFetching:t.data.isFetching});default:return e}},confirmationRetryCountdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return e},isEulaCheckedByDefault:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},isPhoneCanBePrefilled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isPhoneCallConfirmationAvailable:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isForcePhoneCallConfirmation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isDiscardCallConfirmation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isMobileRecallBtnRemoved:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isMobileCallConfirmationOnly:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isEulaShowedInPopup:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},canSwitchConfirmationMethod:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},keepUnsubscribedValue:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Be.q?t.isChecked:e},keepUnsubscribedShown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},activeField:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===Be.a?t.field:e},captchaRequired:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Be.i?t.isRequired:e},formErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},captchaErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},type:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e},prefix:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e},isPasswordVisible:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type===Be.p?!e:e},passwordWeight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.type===Be.n){var n=t.payload,r=void 0===n?{}:n,o=r.passwordWeight;return o}return e},suggestedPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.type===Be.o){var n=t.payload,r=void 0===n?{}:n,o=r.suggestedPassword;return o}return e}});function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke={},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case ge.c:var i=o.type,a=o.id;return Object.assign({},e,Qe({},"".concat(i,"TrackId"),a));case ge.a:var c=o.type;return Object.assign({},e,Qe({},"".concat(c,"TrackId"),void 0));default:return e}},Ze=n("s7ETookYgfkMG6aMgioe"),$e={status:"ok",code:"",text:"",descriptionText:""};function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.h:return Object.assign({},e,{status:t.data.status,code:t.data.code,text:t.data.text,descriptionText:t.data.descriptionText});default:return e}}var tt={loginsList:[],isFetching:!1,isValidating:!1};function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.b:return Object.assign({},e,{loginsList:t.data.logins,isFetching:t.data.isFetching||!1});case Ze.g:return Object.assign({},e,{isValidating:t.isValidating});case Ze.a:return Object.assign({},e,{loginsList:[]});default:return e}}var rt=n("ZhSnxcFTtIAlY+v3R+s6"),ot={step:"",processedUid:"",processError:{status:"ok",code:"",text:"",descriptionText:""},isCaptchaRequired:!1},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case rt.b:var i=o.step;return Object.assign({},e,{step:i});case rt.e:var a=o.processError;return Object.assign({},e,{processError:a});case rt.f:var c=o.processedUid;return Object.assign({},e,{processedUid:c});case rt.d:return ot;case rt.c:return Object.assign({},e,{processError:ot.processError});case rt.a:var u=o.isCaptchaRequired;return Object.assign({},e,{isCaptchaRequired:u});default:return e}},at=n("mnQejR5GxZY5Mi6PE0Mk"),ct={accounts:[]},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case at.a:var i=o.accounts;return Object.assign({},e,{accounts:i});default:return e}},st=n("WlPi4ffSX0L5iiVPiVYK");function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st.a:return Object.assign({},e,t.payload);case st.e:return Object.assign({},e,{step:t.payload});case st.b:return Object.assign({},e,{status:t.payload});case st.d:return Object.assign({},e,{question:t.payload});case st.f:return Object.assign({},e,{isPhoneNumberUpdated:t.payload});case st.c:return Object.assign({},e,{isPhoneOperationConflict:t.payload});default:return e}}var ft=n("pxNQ4avko4wnceO2xkt9"),dt={registerLiteState:{},registerSocialState:{},isChangeFIO:!1},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ft.d:case ft.a:return Object.assign({},e,r);case ft.e:return Object.assign({},e,{registerLiteState:r});case ft.f:return Object.assign({},e,{registerSocialState:r});case ft.c:return Object.assign({},e,{isChangeFIO:!0});case ft.b:return dt;default:return e}},ht={uid:"",visible:!1,anchor:void 0,type:"logout"},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case E.D:return Object.assign({},e,{uid:t.processedAccountUid});case E.N:return Object.assign({},e,{visible:r});case E.x:return Object.assign({},e,{anchor:r});case E.y:return Object.assign({},e,{type:r});case E.l:return Object.assign({},e,{uid:"",visible:!1});default:return e}},bt=n("WBoglmoudMUSk9XWNuxe");function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},gt=function(e,t){var n=("object"===("undefined"==typeof window?"undefined":yt(window))&&window.__REDUX_DEVTOOLS_EXTENSION__,function(e){return e}),r=[X.a,Object(z.a)(t)];return"object"===("undefined"==typeof window?"undefined":yt(window))&&e.am&&e.am.isAm&&r.push(Object(bt.e)(e)),Object(Y.e)(function(e){return Object(Y.c)({router:Object(U.b)(e),common:K,captcha:Re,additionalDataRequest:Te,avatar:Ae,mailAuth:re,messengerAuth:ie,auth:te,am:ne,mobileMenu:we,restoreLogin:ye,restorePassword:_e,changePassword:lt,challenge:Ie,registerLite:Se,pagePopup:je,metrics:vt,monitoring:vt,social:vt,customs:vt,settings:vt,phoneConfirm:De,signup:Ue,form:Xe,tracks:Je,registrationErrors:et,logins:nt,experimentsList:vt,userEntryFlow:it,accountsSuggest:ut,socialSuggest:pt,contextMenu:mt})}(t),e,Object(Y.d)(Y.a.apply(void 0,r),n))},Ot=n("2XiBpSUPIXqJnJWBL+lj"),_t=n.n(Ot),Et=n("7EJmH/ENw73EH68lZJfu"),St=n("MJovFwNIrFAmLe5Xoo3c"),wt=n.n(St),jt=n("B/+x7wOHvlrE/6Q4CYQo");function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var It=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(i,e);var t,n,r,o=kt(i);function i(){return Rt(this,i),o.apply(this,arguments)}return t=i,r=[{key:"mapStateToProps",value:function(e){var t=e.auth,n=void 0===t?{}:t,r=e.isLoading,o=e.mobileMenu,i=void 0===o?{}:o;return{loading:n.loading||r,isShowMobileMenu:i.isShowMobileMenu}}}],(n=[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.isShowMobileMenu;return a.a.createElement("div",{className:wt()("passp-page-overlay",{"passp-page-overlay_showed":t||n,"passp-page-overlay_mobile-menu":n})},t&&a.a.createElement(jt.a,{className:"passp-page-overlay__loader",progress:!0,size:"l"}))}}])&&Pt(t.prototype,n),r&&Pt(t,r),i}(i.Component);It.defaultProps={loading:!1,isShowMobileMenu:!1},It.propTypes={loading:_t.a.bool.isRequired,isShowMobileMenu:_t.a.bool.isRequired};var Mt=Object(c.c)(It.mapStateToProps)(It),Lt=n("WwZV+0g8pRxIfTSFjg9I"),Dt=n("FO5VaR1qDYhXlc1jCgw9"),xt=n("LzmKygd9FPlNlMcSJp0Y"),qt=n("z/Ug44arcHnnmInRoI/0");function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?Vt(e):t}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=Object(xt.cn)("PreviousStepButton"),Gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(i,e);var t,n,r,o=Ht(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=Vt(t),a=function(){var e=t.props,n=e.process,r=e.step;return Object(Lt.h)(n,r)},(r="isUserEntryFlowProcessSecondaryStep")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.handleBack=t.handleBack.bind(Vt(t)),t}return t=i,(n=[{key:"handleBack",value:function(e){e.preventDefault();var t=this.props,n=t.link,r=t.backPane,o=t.historyPush,i=t.mode,a=t.onBack,c=t.type,u=t.onClick;if("closer"!==c||"function"!=typeof u){if(this.isUserEntryFlowProcessSecondaryStep()&&"function"==typeof a)a();else if(r)o(r,{isPreviousStep:!0});else if(n){var s={addingAccount:S.oc,edit:S.xc,welcome:S.rc};y.a.send([s[i],S.n]),window.location=n}}else u()}},{key:"render",value:function(){var e=this.props,t=e.backPane,n=e.link,r=e.isBackPaneVisible,o=e.isWebView,i=e.type,c=e.isAM,u=e.isAm;return c||!u&&o&&!t&&"closer"!==i||!(t||n||this.isUserEntryFlowProcessSecondaryStep()||"closer"===i)||!r&&"closer"!==i?null:a.a.createElement("a",{"data-t":"closer"===i?"closer":"backpane",href:t||n||"#",onClick:this.handleBack,className:zt({type:i,isAm:u})},a.a.createElement("span",{"data-pane":t,"data-link":n}))}}])&&Bt(t.prototype,n),r&&Bt(t,r),i}(i.Component);Gt.propTypes={backPane:_t.a.string,link:_t.a.string,mode:_t.a.string,step:_t.a.string,historyPush:_t.a.func.isRequired,onBack:_t.a.func,isBackPaneVisible:_t.a.bool,isWebView:_t.a.bool,isAM:_t.a.bool,isAm:_t.a.bool,process:_t.a.oneOf([qt.i,qt.c,qt.b,qt.g,qt.f,qt.e]),type:_t.a.oneOf(["closer"]),onClick:_t.a.func};var Xt={onBack:Dt.b,historyPush:q.d},Qt=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?{}:t,r=e.common,o=r.pane,i=r.backPane,a=r.retpath,c=r.backpath,u=r.noreturn,s=r.isBackPaneVisible,l=r.isWebView,f=r.isAM,d=e.auth,p=void 0===d?{}:d,h=e.userEntryFlow,m=void 0===h?{}:h,b=e.am,y=void 0===b?{}:b,v=m.step,g=(n.location||{}).pathname,O=Object(Lt.c)(e);return{backPane:o===i||g===i?null:i,link:!u&&(c||a),isBackPaneVisible:void 0===s||s,isWebView:l,isAM:f,isAm:y.isAm,process:O,mode:p.mode,step:v}}),Xt)(Gt),Kt=n("/qp7eX9r2wPXqWUMVlz8"),Jt=n("NYgweBU7we5NQJrgDZbv");function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=on(e);if(t){var o=on(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rn(this,n)}}function rn(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(i,e);var t,n,r,o=nn(i);function i(){return $t(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){P.start()}},{key:"componentWillUnmount",value:function(){P.stop()}},{key:"render",value:function(){return a.a.createElement("div",null)}}])&&en(t.prototype,n),r&&en(t,r),i}(i.Component),cn=function(e){var t=e.children,n=e.dataT;return a.a.createElement("div",{"data-t":n?"page:popup:".concat(n):"page:popup"},t)};cn.propTypes={dataT:_t.a.string,children:_t.a.node.isRequired};var un=cn,sn=n("ysMlxi1yQ/4ftbKMQCqh"),ln=n("eidTN+99QhledymTSSqQ");function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yn(e);if(t){var o=yn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mn(this,n)}}function mn(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?bn(e):t}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(i,e);var t,n,r,o=hn(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleCloseClick=t.handleCloseClick.bind(bn(t)),t}return t=i,r=[{key:"mapStateToProps",value:function(e){var t=e.auth.processedAccount||{},n=t.email,r=void 0===n?"":n,o=t.allowed_auth_methods,i=void 0===o?[]:o;return{email:r,isMagicLinkOnly:1===i.length&&"magic_link"===i[0]||i.includes("sms_code")&&i.includes("magic_link")&&2===i.length&&!Object(C.j)(e,"sms-auth-on")}}}],(n=[{key:"handleCloseClick",value:function(){var e=this.props,t=e.dispatch;(0,e.closePopup)(),t(Object(Jt.a)())}},{key:"render",value:function(){var e=this.props,t=e.email,n=e.isMagicLinkOnly,r="Письмо отправлено\nна <strong>%s</strong>".replace("%s",t);return a.a.createElement(un,{dataT:"auth-letter"},a.a.createElement(sn.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:r}})),a.a.createElement(Kt.a,{text:"Когда вы нажмёте на кнопку в письме, увидите на экране три символа<br/>\nУбедитесь, что там те же символы, что здесь"}),!n&&a.a.createElement(ln.a,{pseudo:!0,onClick:this.handleCloseClick},"Другой способ входа"),a.a.createElement(an,null))}}])&&dn(t.prototype,n),r&&dn(t,r),i}(i.PureComponent),gn=Object(c.c)(vn.mapStateToProps)(vn);vn.propTypes={email:_t.a.string.isRequired,isMagicLinkOnly:_t.a.bool.isRequired,closePopup:_t.a.func.isRequired,dispatch:_t.a.func.isRequired};var On=n("AFgMZ7oQJHD2/+zDS46y"),_n=n("E7tECPK7daWDXj1IZwt+"),En=n("6OWwt9yvRw7ShcN4G3nV"),Sn=n("DNml7VDdSAs10Z4giKjv"),wn=n("WiYX8/zkxBCHx90Q2RVM");function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pn=n("yi2HOavEOLsMrMN95lAZ"),Tn={changeNativeInputValue:Pn.a,updateConfirmationCode:Me.z,sendConfirmationCode:Me.r,submitConfirmationCode:Me.y,setErrors:Me.t},kn=n("Sv+DydT6rKBct5kRKGVV"),An=n("hbhwtfwpwcJBep3jxV99"),Nn=n("Es9rmdkpPfO71ZhahEM7");function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Un(e);if(t){var o=Un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xn(this,n)}}function xn(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?qn(e):t}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(i,e);var t,n,r,o=Dn(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Bn(qn(t=o.call(this,e)),"ref",a.a.createRef()),Bn(qn(t),"_handleConfirmationCodeChange",(function(e){(0,t.props.updateConfirmationCode)(e)})),Bn(qn(t),"_approvePhone",(function(e){var n=t.props.submitConfirmationCode;e.preventDefault(),n()})),Bn(qn(t),"_sendConfirmationCode",(function(e){var n=t.props.sendConfirmationCode;e.preventDefault(),n()})),Bn(qn(t),"_startTimer",(function(){t.timerInterval=setInterval((function(){var e=Number(new Date);t.setState({currentTimestamp:e}),e>=Number(t.props.denyResendUntil)&&t._stopTimer()}),1e3)})),Bn(qn(t),"_stopTimer",(function(){t.timerInterval&&(clearInterval(t.timerInterval),t.timerInterval=null)})),Bn(qn(t),"_getSendAgainButtonText",(function(e){var n=t.props.denyResendUntil,r=t.state.currentTimestamp;return e?a.a.createElement("span",null,"Отправить ещё код","  ",a.a.createElement(wn.a,{startTime:r,endTime:Number(n)})):"Отправить ещё код"})),Bn(qn(t),"_getPopupTitle",(function(){var e=t.props,n=e.phoneNumber,r=e.securePhoneNumber,o=r?r.replace(/ /gi,"&nbsp;"):n.replace(/ /gi,"&nbsp;");return"Введите код из СМС, отправленный на номер %phone".replace("%phone","<b>".concat(o,"</b>"))})),t.timerInterval=null,t.state={currentTimestamp:Number(new Date)},t}return t=i,(n=[{key:"componentDidMount",value:function(){this._stopTimer(),this._startTimer(),this.ref&&this.ref.current&&this.ref.current.focus()}},{key:"componentWillUpdate",value:function(e){this.props.denyResendUntil!==e.denyResendUntil&&(this.setState({currentTimestamp:Number(new Date)}),this._startTimer())}},{key:"componentWillUnmount",value:function(){this._handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code",""),this.props.setErrors([]),this._stopTimer()}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,r=e.denyResendUntil,o=e.errors,i=e.isPasswordRequired,c=e.confirmationCodeFieldType,u=this.state.currentTimestamp+1e3<Number(r),s=null;o.length&&(s=kn.a[o[0]]?kn.a[o[0]]:kn.a.internal);var l=this._getSendAgainButtonText(u);return a.a.createElement(un,{cls:"phone-confirmation",dataT:"phone-confirmation"},a.a.createElement(An.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:this._getPopupTitle()}})),a.a.createElement(Nn.a,{cls:"phone-confirmation",dataT:"phone-confirmation"},a.a.createElement(On.b,{size:"l",label:"Код из смс",value:t,name:"confirmation_code",type:c,options:{inputMode:"number"===c?"numeric":"text"},error:s,onChange:this._handleConfirmationCodeChange,view:"floating-label",ref:this.ref}),i&&a.a.createElement(_n.a,{view:"floating-label",label:"Введите пароль",skipFocus:!0}),n&&a.a.createElement(En.a,{isCaptchaRequired:!0,isShowCaptcha:!0}),a.a.createElement("div",{"data-t":"phone_enter_confirmation_code_submit",className:"passp-button"},a.a.createElement(Sn.a,{type:"submit",text:"Подтвердить",view:"action",size:"l",width:"max",onClick:this._approvePhone})),a.a.createElement("div",{"data-t":"phone_send_again",className:"passp-button"},a.a.createElement(Sn.a,{type:"button",view:"pseudo",size:"l",width:"max",disabled:u,onClick:this._sendConfirmationCode},l))))}}])&&Mn(t.prototype,n),r&&Mn(t,r),i}(a.a.PureComponent);Fn.propTypes={confirmationCode:_t.a.string,phoneNumber:_t.a.string,securePhoneNumber:_t.a.string,isCaptchaRequired:_t.a.bool,denyResendUntil:_t.a.number,errors:_t.a.array,changeNativeInputValue:_t.a.func.isRequired,updateConfirmationCode:_t.a.func.isRequired,sendConfirmationCode:_t.a.func.isRequired,submitConfirmationCode:_t.a.func.isRequired,setErrors:_t.a.func.isRequired,confirmationCodeFieldType:_t.a.string.isRequired,isPasswordRequired:_t.a.bool};var Hn=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.phoneConfirm,n=void 0===t?{}:t,r=e.am,o=void 0===r?{}:r;return Cn(Cn({},n),{},{confirmationCodeFieldType:o.isAm?"number":"text"})}),Tn)(Fn),Wn=n("iNRce/Fj4hsy7dcqXXz2"),Vn=n.n(Wn);var Yn=n("mdXLC9fJiJb4bctGYyqB"),zn=n("iYno3SKv/BW0tduPFmp1");var Gn=n("gW+kGIULm/gsAM1O/w51"),Xn=n("KqgSckgMJM5UoE4swPks"),Qn=n("AeLhLclXWlGhw6c78Mpd");function Kn(e){return function(t,n){if(!e||!e.trim())return t(Object(Pe.q)(["key.empty"])),void t(Object(E.ab)(!1));var r=n(),o=r.additionalDataRequest.track_id,i=r.auth,a=i.processedAccount,c=i.defaultAccount,u=r.common.csrf,s=a||c,l={key:e,csrf_token:u,track_id:o,uid:s?s.uid:""};t(Object(Pe.n)()),h.a.request("email/confirm/by_code_v2",l).done((function(){t(Object(Yn.a)("submit_email_confirmation_code","Показ привязки емейла","Успешная привязка")),t(Object(Xn.a)("no"))})).fail((function(e){for(var n=e.errors.length,r=0;r<n;r++){var o=e.errors[r];if("password.required"===o)return void t(Object(Qn.a)());if("email.already_confirmed"===o)return void t(Object(Gn.a)())}t(Object(Pe.q)(e.errors)),t(Object(E.ab)(!1))}))}}var Jn=n("YGKqAHV1POlG7uih+owy");function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=or(e);if(t){var o=or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nr(this,n)}}function nr(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?rr(e):t}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(i,e);var t,n,r,o=tr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleConfirmationCodeChange=t.handleConfirmationCodeChange.bind(rr(t)),t.approveEmail=t.approveEmail.bind(rr(t)),t.sentConfirmationCode=t.sentConfirmationCode.bind(rr(t)),t.goBack=t.goBack.bind(rr(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,this.props.sendAdditionalDataRequestMetrics)("show_email",null,"Показ")}},{key:"componentWillUnmount",value:function(){this.props.clearErrors(),this.handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code","")}},{key:"handleConfirmationCodeChange",value:function(e){(0,this.props.changeConfirmationCode)(e)}},{key:"approveEmail",value:function(e){e.preventDefault();var t=this.props;(0,t.sendApiRequest)(Kn,t.confirmationCode)}},{key:"sentConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,r=t.email;n(Jn.a,r)}},{key:"goBack",value:function(){var e=this.props,t=e.sendApiRequest;(0,e.sendAdditionalDataRequestMetrics)("skip_email",null,"Отложить"),t(Xn.a)}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,r=e.errors,o=e.email,i=null;return r.length&&(i=kn.a[r[0]]?kn.a[r[0]]:kn.a.internal),a.a.createElement(un,{cls:"email-confirmation",dataT:"email-confirmation"},a.a.createElement(An.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"Код подтверждения отправлен на почту %1, введите его в поле ниже:".replace("%1","<b>".concat(Vn()(o),"</b>"))}})),a.a.createElement(Nn.a,{cls:"email-confirmation",dataT:"email-confirmation"},a.a.createElement(On.b,{size:"l",label:"Код из письма",value:t,name:"confirmation_code",type:"text",error:i,onChange:this.handleConfirmationCodeChange,view:"floating-label"}),n&&a.a.createElement(En.a,null),a.a.createElement("div",{"data-t":"email_enter_confirmation_code_submit",className:"passp-button"},a.a.createElement(Sn.a,{type:"submit",text:"Подтвердить",view:"action",size:"l",width:"max",onClick:this.approveEmail})),a.a.createElement("div",{"data-t":"email_send_again",className:"passp-button"},a.a.createElement(Sn.a,{type:"button",text:"Отправить ещё код",view:"pseudo",size:"l",width:"max",onClick:this.sentConfirmationCode})),a.a.createElement("div",{"data-t":"email_enter_confirmation_code_skip",className:"passp-button"},a.a.createElement(Sn.a,{type:"button",text:"Подтвердить позже",view:"pseudo",size:"l",width:"max",onClick:this.goBack}))))}}])&&$n(t.prototype,n),r&&$n(t,r),i}(i.Component);ir.propTypes={confirmationCode:_t.a.string,email:_t.a.string,isCaptchaRequired:_t.a.bool,errors:_t.a.array,sendAdditionalDataRequestMetrics:_t.a.func.isRequired,changeConfirmationCode:_t.a.func.isRequired,changeNativeInputValue:_t.a.func.isRequired,sendApiRequest:_t.a.func.isRequired,clearErrors:_t.a.func.isRequired};var ar=Object(c.c)((function(e){var t=e.additionalDataRequest;return{email:t.email,confirmationCode:t.confirmationCode,isConfirmationCodeSent:t.isConfirmationCodeSent,isCaptchaRequired:t.isCaptchaRequired,action:t.action,denyResendUntil:t.denyResendUntil,errors:t.errors}}),(function(e){var t={sendAdditionalDataRequestMetrics:Yn.a,changeConfirmationCode:Pe.k,sendApiRequest:zn.a,clearErrors:Pe.n,changeNativeInputValue:Pn.a};return Object.assign({},Object(Y.b)(t,e),{dispatch:e})}))(ir);function cr(){return function(e,t){var n=t(),r=n.common.restoreLoginResultUrl;"restoreLoginResult"!==n.auth.mode&&(e(Object(E.Db)()),e(Object(q.d)(r)))}}function ur(e){var t={};if(!Array.isArray(e))return t;var n=e.find((function(e){return"captcha.not_matched"===e})),r=e.find((function(e){return"phone_number.invalid"===e||"number.invalid"===e})),o=e.find((function(e){return"phone.empty"===e||"phone_number.empty"===e})),i=e.find((function(e){return"captcha.empty"===e})),a=e.find((function(e){return"phone_secure.not_found"===e})),c=e.find((function(e){return"sms_limit.exceeded"===e})),u=e.find((function(e){return"calls_limit.exceeded"===e})),s=e.find((function(e){return"rate.limit_exceeded"===e}));return e.find((function(e){return"internal"===e}))&&(t.phone="internal"),n&&(t.captcha="notMatched"),r&&(t.phone="invalid"),o&&(t.phone="empty"),i&&(t.captcha="empty"),a&&(t.phone="notFound",t.code="notFound"),c&&(t.phone="smsLimitExceeded",t.code="smsLimitExceeded"),u&&(t.phone="callsLimitExceeded",t.code="callsLimitExceeded"),s&&(t.phone="rateLimitExceeded"),t}var sr={check:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r){var o=r(),i=o.restoreLogin,a=i.phone,c=i.confirmMethod,u=i.isValidPhone,s=i.isPhoneOverheated,l=i.errors,f=l.code,d=l.phone,p={phone_number:a,track_id:o.common.track_id,display_language:o.settings.lang,confirm_method:c},m="by_sms"===c;if(m||!("callsLimitExceeded"===f||"callsLimitExceeded"===d)&&!s||(n(he("by_sms")),p.confirm_method="by_sms",m=!0),n({type:"[RESTORE_LOGIN] CLEAR_ERRORS"}),n(Object(E.ab)(!0)),!m&&!u)return n(e.validate(t)),void n(Object(E.ab)(!1));h.a.request("auth/restore_login/check_phone",p).done((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(le(!0)),n(Object(E.W)("restoreLoginEnterConfirmationCode")),n(Object(E.X)(!0)),y.a.send([S.pb,S.kb]),e.calling_number_template&&n(me(e.calling_number_template)),lr(r(),t)})).fail((function(e){var o=e.errors||[];if(o.includes("user.not_verified"))return n(Object(E.W)("restoreLoginEnterCaptcha")),n(Object(E.X)(!0)),void n(Object(E.U)(!0));o.includes("phone_secure.not_found")&&(n(Object(E.X)(!1)),n(Object(E.W)("")),n(se([])),n(cr())),o.includes("calls_limit.exceeded")&&n(de(!0)),n(pe(ur(o)));var i=o.some((function(e){return"captcha.not_matched"===e||"captcha.empty"===e}));y.a.send(i?[S.pb,S.gb]:[S.pb,S.jb,o[0]]),lr(r(),t,o)})).always((function(){return n(Object(E.ab)(!1))}))}},validate:function(e){var t=this;return function(n,r){var o=r(),i=o.restoreLogin.phone,a=o.common,c={phone_number:i,validate_for_call:!0,check_speech:!0,track_id:a.track_id,csrf_token:a.csrf},u=function(){n(he("by_sms")),n(fe(!1))};h.a.request("auth/validate_phone",c).done((function(e){Boolean(e.valid_for_call)&&"ok"===e.status?n(fe(!0)):u()})).fail(u).always((function(){return n(t.check(e))}))}}};function lr(e,t,n){var r=e.restoreLogin,o=r.isCallExp,i=r.isFlashCallExp,a=r.confirmMethod,c=[S.pb],u="by_sms"===a;if(o?c.push(S.db):i?c.push(S.eb):c.push(S.fb),Array.isArray(n)&&n.length)c.push(u?S.nb:S.lb),c.push(n.join(","));else{var s=t?S.ub:S.sb,l=t?S.xb:S.vb;c.push(u?l:s)}y.a.send(c)}function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yr(e);if(t){var o=yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mr(this,n)}}function mr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?br(e):t}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vr={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",phone:{undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",invalid:"Недопустимый формат номера",callsLimitExceeded:"Превышен лимит звонков, попробуйте позже",smsLimitExceeded:"Превышен лимит отправляемых сообщений, попробуйте позже",rateLimitExceeded:"Превышено количество попыток подтверждения телефона. Попробуйте еще раз позже"}},gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(i,e);var t,n,r,o=hr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).submitForm=t.submitForm.bind(br(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){y.a.send([S.pb,S.qb])}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.checkPhone()}},{key:"render",value:function(){var e=this.props.phoneError,t=e&&(vr.phone[e]||vr.internal)||"";return a.a.createElement(un,{cls:"restore-login-enter-captcha",dataT:"enter-captcha"},a.a.createElement(An.a,null,"Введите символы"),a.a.createElement(Nn.a,{onSubmit:this.submitForm,cls:"enter-captcha",dataT:"enter-captcha"},a.a.createElement(En.a,{isShowCaptcha:!0,forcedError:t}),a.a.createElement("div",{"data-t":"submit-captcha-btn",className:"passp-button"},a.a.createElement(Sn.a,{text:"Далее",type:"submit",view:"action",size:"l",width:"max"}))))}}])&&dr(t.prototype,n),r&&dr(t,r),i}(i.Component);gr.propTypes={checkPhone:_t.a.func.isRequired,phoneError:_t.a.string.isRequired};var Or=Object(c.c)((function(e){return{phoneError:e.restoreLogin.errors.phone||""}}),(function(e){return{checkPhone:function(){return e(Object(zn.a)(sr.check))}}}))(gr);function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rr(e);if(t){var o=Rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cr(this,n)}}function Cr(e,t){return!t||"object"!==_r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(i,e);var t,n,r,o=jr(i);function i(){return Er(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.text,n=e.staticPath,r=e.code,o=r?t:"Внутренняя ошибка: обновите страницу и попробуйте еще раз";return a.a.createElement("div",null,r&&a.a.createElement("ul",{className:"al-send-popup__code"},r.map((function(e,t){return a.a.createElement("li",{className:"popup__code-item",key:t},a.a.createElement("img",{className:"popup__code-item-img",src:"".concat(n,"/i/magic-letter/").concat(e,".png"),alt:"magic link code image"}))}))),a.a.createElement("div",{className:"al-send-popup__code-descr",dangerouslySetInnerHTML:{__html:o}}))}}])&&Sr(t.prototype,n),r&&Sr(t,r),i}(i.Component),Tr=Object(c.c)((function(e){var t=e.messengerAuth,n=e.settings;return{code:t.code,staticPath:n.staticPath}}))(Pr);function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dr(e);if(t){var o=Dr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mr(this,n)}}function Mr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?Lr(e):t}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Pr.propTypes={text:_t.a.string.isRequired,staticPath:_t.a.string.isRequired,code:_t.a.array.isRequired};var xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(i,e);var t,n,r,o=Ir(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleCloseClick=t.handleCloseClick.bind(Lr(t)),t}return t=i,(n=[{key:"handleCloseClick",value:function(){var e=this.props,t=e.dispatch;(0,e.closePopup)(),t(Object(Jt.a)())}},{key:"render",value:function(){return a.a.createElement(un,{cls:"al-send-popup",dataT:"messenger-auth"},a.a.createElement(An.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"Откройте сообщение от Яндекс.Паспорта в %icon <b>Чатах</b> и сравните символы:".replace("%icon",'<span class="auth-messenger-icon"></span>')}})),a.a.createElement(Tr,{text:"Если символы на экране и в сообщении совпадают, подтвердите вход."}),a.a.createElement("span",{role:"button",className:"al-send-popup__close-link link_theme_normal",onClick:this.handleCloseClick},"Войти с помощью пароля"),a.a.createElement(an,null))}}])&&Ar(t.prototype,n),r&&Ar(t,r),i}(i.Component),qr=Object(c.c)((function(e){return{messengerAuth:e.messengerAuth}}))(xr);xr.propTypes={dispatch:_t.a.func.isRequired,closePopup:_t.a.func.isRequired};var Ur=n("xk86jm087z7uHPch9i2c");function Br(e){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zr(e);if(t){var o=zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yr(this,n)}}function Yr(e,t){return!t||"object"!==Br(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(i,e);var t,n,r,o=Vr(i);function i(){return Fr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.sendRequestToMessenger,n=e.closePopup;return a.a.createElement(un,{cls:"al-send-popup",dataT:"messenger-auth-info"},a.a.createElement(An.a,{cls:"auth-messenger_popup-title"},"У вас не установлено приложение или вы не вошли в аккаунт"),a.a.createElement("h4",{className:"auth-messenger_title"},a.a.createElement("div",{className:"passp-magic-promo-title__image"}),a.a.createElement("span",null,"Как войти с помощью приложения Яндекс")),a.a.createElement("ol",{className:"auth-messenger-how-to_list"},a.a.createElement("li",null,"Установите приложение Яндекс на ваше устройство",a.a.createElement("div",{className:"auth-messenger_app-btns"},a.a.createElement("a",{className:"passp-install-yandex-app-link",target:"_blank",href:"https://redirect.appmetrica.yandex.com/serve/458404701881276453?c=passport_bage",title:"Google Play",rel:"noopener noreferrer"},a.a.createElement("div",{className:"passp-gplay-icon"})),a.a.createElement("a",{className:"passp-install-yandex-app-link",target:"_blank",href:"https://redirect.appmetrica.yandex.com/serve/386347106450828605?c=passport_bage",title:"App Store",rel:"noopener noreferrer"},a.a.createElement("div",{className:"passp-appstore-icon"})))),a.a.createElement("li",null,"Откройте приложение и войдите в ваш аккаунт"),a.a.createElement("li",null,"Теперь вы можете подтверждать вход в аккаунт не вводя пароль")),a.a.createElement("div",{className:"auth-messenger_links"},a.a.createElement(ln.a,{className:"popup-action",pseudo:!0,onClick:t},"Попробовать еще раз"),a.a.createElement(ln.a,{className:"popup-action",pseudo:!0,onClick:n},"Войти с помощью пароля")))}}])&&Hr(t.prototype,n),r&&Hr(t,r),i}(i.Component),Xr=Object(c.c)((function(e){return{messengerAuth:e.messengerAuth}}),(function(e){var t={sendRequestToMessenger:Ur.a,invalidateAuthFromLetter:Jt.a};return Object(Y.b)(t,e)}))(Gr);Gr.propTypes={messengerAuth:_t.a.obj,sendRequestToMessenger:_t.a.func.isRequired,invalidateAuthFromLetter:_t.a.func.isRequired,closePopup:_t.a.func.isRequired};var Qr=n("nPO+y6YDb3bA1kgNAiHj"),Kr=n("+KfeYK7Qp7OX8tUNmyvn"),Jr=n("DoQaHn2w4kPN7lMBHsaC");function Zr(e){return{type:"LOADING_STATUS",isLoading:e}}function $r(){return function(e,t){var n=t(),r=n.common,o=r.track_id,i=r.csrf,a=n.challenge,c=a.challengeType,u=a.fieldValue,s={track_id:o,csrf_token:i,challenge:c};"phone_confirmation"!==c&&(s.answer=u),u.trim()?(e(Zr(!0)),h.a.request("user-validate/commit",s).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.status,r=t.retpath;"ok"===n&&r?location.href=r:(e(Zr(!1)),e(Object(Ne.f)({code:"internal",text:"Что-то пошло не так. Попробуйте обновить страницу"})))})).fail((function(t){var n=Array.isArray(t.error)&&t.error[0];e(Object(Jr.a)(n)),e(Zr(!1))}))):e(Object(Jr.a)("missingvalue"))}}var eo=n("mpwtxDFM8rSrgjcCjkSH"),to=n("OX/wkVklJcgTEff1wL6D"),no=n("JLFc6U7sd0PMI6Bh60mb");function ro(e){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=so(e);if(t){var o=so(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return co(this,n)}}function co(e,t){return!t||"object"!==ro(t)&&"function"!=typeof t?uo(e):t}function uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}(c,e);var t,n,r,o=ao(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),lo(uo(t=o.call(this,e)),"ref",a.a.createRef()),lo(uo(t),"focus",(function(){t.ref.current&&t.ref.current.focus&&t.ref.current.focus()})),lo(uo(t),"updateFieldValue",(function(e){t.props.dispatch(Object(Ne.h)(e))})),lo(uo(t),"sendSms",(function(){var e=t.props.dispatch;e(Object(Ne.e)({isConfirmWithCall:!1})),e(Object(to.a)()),t.updateRepeatBtnAction()})),lo(uo(t),"callAgain",(function(){(0,t.props.dispatch)(Object(eo.a)()),t.updateRepeatBtnAction()})),lo(uo(t),"submitForm",(function(e){e.preventDefault(),t.props.dispatch((function(e,t){var n=t(),r=n.challenge,o=r.fieldValue,i=r.isStandAloneChallenge,a=n.common,c={code:o,track_id:a.track_id,csrf_token:a.csrf};e(Object(E.ab)(!0)),e(Object(Ne.f)({code:"",text:""})),h.a.request("phone-confirm-code",c).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("ok"===t.status){if(i)return void e($r());e(Object(Kr.a)()),y.a.send([S.o,S.y])}else e(Object(Jr.a)("internal")),e(Object(E.ab)(!1))})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Array.isArray(t.errors)&&t.errors[0];e(Object(E.ab)(!1)),"confirmations_limit.exceeded"!==n?(e(Object(Jr.a)(n)),y.a.send([S.o,"".concat(S.t," ").concat(n)])):e(Object(Jr.a)("challenge.confirmations_limit.exceeded"))}))}))})),lo(uo(t),"updateRepeatBtnAction",(function(){t.setState((function(e){return{isRepeatActionBtnDisabled:!e.isRepeatActionBtnDisabled}}))})),lo(uo(t),"getSendAgainButtonText",(function(){var e=t.props.smsBtnText;return a.a.createElement(i.Fragment,null,e,t.state.isRepeatActionBtnDisabled&&a.a.createElement(Qr.a,{onTimerEnd:t.updateRepeatBtnAction}))})),t.state={isRepeatActionBtnDisabled:!0},t}return t=c,(n=[{key:"componentDidMount",value:function(){setTimeout(this.focus,300),y.a.send([S.o,S.u])}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(Ne.e)({errorText:"",errorCode:"",fieldValue:""}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.errorText,r=e.value,o=e.maxFieldLength,i=this.getSendAgainButtonText();return a.a.createElement(un,{cls:"restore-login-enter-confirmation-code",dataT:"challenges-call"},a.a.createElement(An.a,null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})),a.a.createElement(Nn.a,{onSubmit:this.submitForm,cls:"enter-confirmation-code",dataT:"challenges-call"},a.a.createElement(On.b,{size:"l",ref:this.ref,label:"",value:r,name:no.a.PHONE_CODE,type:"tel",error:n,options:{maxLength:o},onChange:this.updateFieldValue,view:"floating-label"}),a.a.createElement("div",{"data-t":"submit-phone-code-btn",className:"passp-button"},a.a.createElement(Sn.a,{text:"Далее",type:"submit",view:"action",size:"l",width:"max"})),a.a.createElement("div",{"data-t":"send-code-again-btn",className:"passp-button passp-send-again-btn challenge-submit"},a.a.createElement(Sn.a,{text:i,type:"button",view:"pseudo",size:"l",width:"max",disabled:this.state.isRepeatActionBtnDisabled,onClick:this.sendSms}))))}}])&&oo(t.prototype,n),r&&oo(t,r),c}(i.Component),po=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.challenge,n=t.errorText,r=t.fieldValue,o=t.callFrom,i=t.smsTo,a=t.isConfirmWithCall,c=a?"Сейчас вам поступит звонок с номера %s. Введите последние четыре цифры номера".replace("%s",o):"Введите код из СМС, отправленный на номер %1".replace("%1",'<span class="passp-phone-template">'.concat(i,"</span>")),u=a?"Перезвонить еще раз":" Отправить код еще раз",s=a?"Подтвердить по СМС":"Отправить ещё код",l=a?4:6;return{isConfirmWithCall:a,errorText:n,title:c,btnText:u,smsBtnText:s,value:r,maxFieldLength:l}}))(fo);function ho(e){return function(t,n){if(!e||!e.trim())return t(Object(Pe.q)(["code.empty"])),void t(Object(E.ab)(!1));var r=n(),o=r.additionalDataRequest.track_id,i=r.common.csrf,a={code:e,track_id:o,csrf_token:i};t(Object(Pe.n)()),h.a.request("phone/confirm_and_bind_secure/commit_v2",a).done((function(){t(Object(Yn.a)("submit_phone_confirmation_code","Показ привязки телефона","Успешная привязка")),t(Object(Xn.a)("no"))})).fail((function(e){for(var n=e.errors.length,r=0;r<n;r++){var o=e.errors[r];if("password.required"===o)return void t(Object(Qn.a)());if("phone_secure.bound_and_confirmed"===o)return void t(Object(Gn.a)())}t(Object(Pe.q)(e.errors)),t(Object(E.ab)(!1))}))}}fo.propTypes={isConfirmWithCall:_t.a.bool,errorText:_t.a.string,title:_t.a.string,btnText:_t.a.string,smsBtnText:_t.a.string,value:_t.a.string,maxFieldLength:_t.a.number,dispatch:_t.a.func.isRequired};var mo=n("aS2ZYnAbJ8g/EILNnmO/");function bo(e){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vo(e,t){return(vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function go(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Eo(e);if(t){var o=Eo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oo(this,n)}}function Oo(e,t){return!t||"object"!==bo(t)&&"function"!=typeof t?_o(e):t}function _o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var So=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vo(e,t)}(i,e);var t,n,r,o=go(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleConfirmationCodeChange=t.handleConfirmationCodeChange.bind(_o(t)),t.approvePhone=t.approvePhone.bind(_o(t)),t.sendConfirmationCode=t.sendConfirmationCode.bind(_o(t)),t.goBack=t.goBack.bind(_o(t)),t.startTimer=t.startTimer.bind(_o(t)),t.stopTimer=t.stopTimer.bind(_o(t)),t.timerInterval=null,t.state={currentTimestamp:Number(new Date)},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.stopTimer(),this.startTimer()}},{key:"componentWillUpdate",value:function(e){this.props.denyResendUntil!==e.denyResendUntil&&(this.setState({currentTimestamp:Number(new Date)}),this.startTimer())}},{key:"componentWillUnmount",value:function(){this.handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code",""),this.props.clearErrors(),this.stopTimer()}},{key:"handleConfirmationCodeChange",value:function(e){(0,this.props.changeConfirmationCode)(e)}},{key:"approvePhone",value:function(e){e.preventDefault();var t=this.props;(0,t.sendApiRequest)(ho,t.confirmationCode)}},{key:"sendConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,r=t.phoneNumber;n(mo.a,r)}},{key:"goBack",value:function(){var e=this.props,t=e.sendApiRequest;(0,e.sendAdditionalDataRequestMetrics)("skip_phone",null,"Отложить"),t(Xn.a)}},{key:"startTimer",value:function(){var e=this;this.timerInterval=setInterval((function(){var t=Number(new Date);e.setState({currentTimestamp:t}),t>=Number(e.props.denyResendUntil)&&e.stopTimer()}),1e3)}},{key:"stopTimer",value:function(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}},{key:"getSendAgainButtonText",value:function(e){var t=this.props.denyResendUntil,n=this.state.currentTimestamp;return e?a.a.createElement("span",null,"Отправить ещё код","  ",a.a.createElement(wn.a,{startTime:n,endTime:Number(t)})):"Отправить ещё код"}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,r=e.denyResendUntil,o=e.popupTitle,i=e.errors,c=this.state.currentTimestamp+1e3<Number(r),u=null;i.length&&(u=kn.a[i[0]]?kn.a[i[0]]:kn.a.internal);var s=this.getSendAgainButtonText(c);return a.a.createElement(un,{cls:"phone-confirmation",dataT:"additional-data-request-phone-confirmation"},a.a.createElement(An.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:o}})),a.a.createElement(Nn.a,{cls:"phone-confirmation",dataT:"additional-data-request-phone-confirmation"},a.a.createElement(On.b,{size:"l",label:"Код из смс",value:t,name:"confirmation_code",type:"text",error:u,onChange:this.handleConfirmationCodeChange,view:"floating-label"}),n&&a.a.createElement(En.a,null),a.a.createElement("div",{"data-t":"phone_enter_confirmation_code_submit",className:"passp-button"},a.a.createElement(Sn.a,{type:"submit",text:"Подтвердить",view:"action",size:"l",width:"max",onClick:this.approvePhone})),a.a.createElement("div",{"data-t":"phone_send_again",className:"passp-button"},a.a.createElement(Sn.a,{type:"button",text:s,view:"pseudo",size:"l",width:"max",disabled:c,onClick:this.sendConfirmationCode})),a.a.createElement("div",{"data-t":"phone_enter_confirmation_code_skip",className:"passp-button"},a.a.createElement(Sn.a,{type:"button",text:"Подтвердить позже",view:"pseudo",size:"l",width:"max",onClick:this.goBack}))))}}])&&yo(t.prototype,n),r&&yo(t,r),i}(i.Component);So.propTypes={confirmationCode:_t.a.string,phoneNumber:_t.a.string,popupTitle:_t.a.string,isCaptchaRequired:_t.a.bool,denyResendUntil:_t.a.number,errors:_t.a.array,changeConfirmationCode:_t.a.func.isRequired,sendAdditionalDataRequestMetrics:_t.a.func.isRequired,sendApiRequest:_t.a.func.isRequired,changeNativeInputValue:_t.a.func.isRequired,clearErrors:_t.a.func.isRequired};var wo=Object(c.c)((function(e){var t=e.additionalDataRequest,n=t.phone,r=t.confirmationCode,o=t.isConfirmationCodeSent,i=t.isCaptchaRequired,a=t.action,c=t.denyResendUntil,u=t.errors,s=n.number.replace(/ /gi,"&nbsp;");return{confirmationCode:r,isConfirmationCodeSent:o,isCaptchaRequired:i,action:a,denyResendUntil:c,errors:u,popupTitle:"Код подтверждения отправлен на номер %1, введите его в поле ниже:".replace("%1","<b>".concat(s,"</b>")),phoneNumber:n.number,phoneId:n.id}}),(function(e){var t={changeConfirmationCode:Pe.k,sendAdditionalDataRequestMetrics:Yn.a,sendApiRequest:zn.a,clearErrors:Pe.n,changeNativeInputValue:Pn.a};return Object.assign({},Object(Y.b)(t,e),{dispatch:e})}))(So),jo=n("FLZM5ol4wiAgBtKWcFyx"),Co=n.n(jo);function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Io(e);if(t){var o=Io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ao(this,n)}}function Ao(e,t){return!t||"object"!==Ro(t)&&"function"!=typeof t?No(e):t}function No(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mo=/^.$/,Lo={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",notMatched:"Неправильный код подтверждения",callsLimitExceeded:"Превышен лимит звонков, попробуйте позже",smsLimitExceeded:"Превышен лимит отправляемых сообщений, попробуйте позже",rateLimitExceeded:"Превышен лимит проверки кода подтверждения. Отмените операцию или запросите код повторно"},Do=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(i,e);var t,n,r,o=ko(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleChange=t.handleChange.bind(No(t)),t.getValue=t.getValue.bind(No(t)),t.getInputByNum=t.getInputByNum.bind(No(t)),t.handleKeyDown=t.handleKeyDown.bind(No(t)),t.getInputs=t.getInputs.bind(No(t)),t.state={isAutomaticallySend:!0,confirmationCodeInputs:t.getInputs()},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.getInputByNum(1);e&&setTimeout((function(){return e.focus()}),100)}},{key:"componentDidUpdate",value:function(e){e.confirmationCodeLength!==this.props.confirmationCodeLength&&this.setState({confirmationCodeInputs:this.getInputs()})}},{key:"getInputs",value:function(){return Co()(1,this.props.confirmationCodeLength+1)}},{key:"getInputByNum",value:function(e){return document.getElementById("".concat("confirmation_code_input_").concat(e))}},{key:"handleKeyDown",value:function(e,t){var n=this.getInputByNum(t);if(!n)return!0;if(8!==e.keyCode)return e.target.value&&Mo.test(e.key)&&(n.value=""),!0;if(e.preventDefault(),!e.target.value.slice(-1)){if(1!==t){var r=this.getInputByNum(t-1);r&&r.focus()}return!0}return n.value="",!0}},{key:"getValue",value:function(){var e=this;return this.state.confirmationCodeInputs.map((function(t){var n=e.getInputByNum(t);return n?(n.value||"").trim():""})).join("")}},{key:"handleChange",value:function(e,t){e.preventDefault();var n=this.getInputByNum(t);if(n){var r=this.props,o=r.confirmationCodeLength,i=r.changeCode,a=r.sendCode;if((n.value||"").trim().length>1&&(n.value=e.target.value.slice(-1)),t<o){var c=this.getInputByNum(t+1);c&&c.focus()}var u=this.getValue();i(u),u.length===o&&this.state.isAutomaticallySend&&(this.setState({isAutomaticallySend:!1}),a())}}},{key:"render",value:function(){var e=this,t=this.props,n=t.confirmMethod,r=t.codeError,o=r&&(Lo[r]||Lo.internal)||"";return a.a.createElement("div",{className:"passp-confirmation-code-field"},a.a.createElement("div",{className:"passp-confirmation-code-inputs"},this.state.confirmationCodeInputs.map((function(t){return a.a.createElement("input",{onKeyDown:function(n){return e.handleKeyDown(n,t)},onChange:function(n){return e.handleChange(n,t)},key:"".concat(n).concat(t),type:"text",id:"".concat("confirmation_code_input_").concat(t),autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}))),o&&a.a.createElement("div",{className:"passp-form-field__error",dangerouslySetInnerHTML:{__html:o}}))}}])&&Po(t.prototype,n),r&&Po(t,r),i}(i.Component);Do.propTypes={sendCode:_t.a.func.isRequired,changeCode:_t.a.func.isRequired,codeError:_t.a.string,confirmationCodeLength:_t.a.number.isRequired,confirmMethod:_t.a.string.isRequired};var xo=Do;function qo(){return function(e,t){var n=t(),r={track_id:n.common.track_id,code:n.restoreLogin.confirmationCode};e({type:"[RESTORE_LOGIN] CLEAR_ERRORS"}),h.a.request("auth/restore_login/confirm_phone",r).done((function(){e(Object(E.X)(!1)),e(Object(E.W)("")),e((function(e,t){var n=t(),r=n.common.restoreLoginProcessUrl;"restoreLoginProcess"!==n.auth.mode&&(e(Object(E.Cb)()),e(Object(q.d)(r)))})),y.a.send([S.pb,S.ib]),Uo(t())})).fail((function(n){var r=n.errors||[];r.includes("calls_limit.exceeded")&&e(de(!0)),e(pe(function(e){var t={};if(!Array.isArray(e))return t;var n=e.find((function(e){return"code.empty"===e})),r=e.find((function(e){return"code.invalid"===e})),o=e.find((function(e){return"phone_secure.not_found"===e})),i=e.find((function(e){return"rate.limit_exceeded"===e||"confirmations_limit.exceeded"===e})),a=e.find((function(e){return"calls_limit.exceeded"===e}));return e.find((function(e){return"internal"===e}))&&(t.code="internal"),n&&(t.code="empty"),r&&(t.code="notMatched"),i&&(t.code="rateLimitExceeded"),o&&(t.phone="notFound"),a&&(t.phone="callsLimitExceeded",t.code="callsLimitExceeded"),t}(r))),y.a.send([S.pb,S.hb]),Uo(t(),r)}))}}function Uo(e,t){var n=e.restoreLogin,r=n.isCallExp,o=n.isFlashCallExp,i=n.confirmMethod,a=[S.pb],c="by_sms"===i;r?a.push(S.db):o?a.push(S.eb):a.push(S.fb),Array.isArray(t)&&t.length?(a.push(c?S.ob:S.mb),a.push(t.join(","))):a.push(c?S.wb:S.tb),y.a.send(a)}function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zo(e);if(t){var o=zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vo(this,n)}}function Vo(e,t){return!t||"object"!==Bo(t)&&"function"!=typeof t?Yo(e):t}function Yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zo(e){return(zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(i,e);var t,n,r,o=Wo(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).getSendAgainButtonText=t.getSendAgainButtonText.bind(Yo(t)),t.submitForm=t.submitForm.bind(Yo(t)),t.enableConfirmationCodeResend=t.enableConfirmationCodeResend.bind(Yo(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){y.a.send([S.pb,S.rb]),this.props.changeCode("")}},{key:"componentDidUpdate",value:function(e){e.codeError,this.props.codeError}},{key:"enableConfirmationCodeResend",value:function(){this.props.changeCheckPhoneStatus(!1)}},{key:"getSendAgainButtonText",value:function(){var e=this.props,t=e.isPhoneCheckSent,n=e.sendAgainBtnText;return a.a.createElement("span",null,n,t&&a.a.createElement(Qr.a,{onTimerEnd:this.enableConfirmationCodeResend}))}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.confirmPhone()}},{key:"render",value:function(){var e=this.props,t=e.confirmPhone,n=e.checkPhone,r=e.changeCode,o=e.codeError,i=e.title,c=e.isPhoneCheckSent,u=e.canSwitchConfirmMethod,s=e.confirmationCodeLength,l=e.switchConfirmationMethod,f=e.isCallConfirmationDisabled,d=e.confirmMethod,p=this.getSendAgainButtonText();return a.a.createElement(un,{cls:"restore-login-enter-confirmation-code",dataT:"enter-confirmation-code"},a.a.createElement(An.a,null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}})),a.a.createElement(Nn.a,{onSubmit:this.submitForm,cls:"enter-confirmation-code",dataT:"enter-confirmation-code"},a.a.createElement(xo,{confirmationCodeLength:s,confirmMethod:d,changeCode:r,sendCode:t,codeError:o}),a.a.createElement("div",{"data-t":"submit-phone-code-btn",className:"passp-button"},a.a.createElement(Sn.a,{type:"submit",text:"Далее",view:"action",size:"l",width:"max"})),a.a.createElement("div",{"data-t":"send-code-again-btn",className:"passp-button passp-send-again-btn"},a.a.createElement(Sn.a,{text:p,type:"button",view:"pseudo",disabled:c||f,onClick:n,size:"l",width:"max"})),u&&a.a.createElement("div",{"data-t":"switch-confirmation-method-btn",className:"passp-button"},a.a.createElement(Sn.a,{text:"Подтвердить по СМС",type:"button",view:"pseudo",disabled:c,onClick:l,size:"l",width:"max"}))))}}])&&Fo(t.prototype,n),r&&Fo(t,r),i}(i.Component);Go.propTypes={confirmPhone:_t.a.func.isRequired,changeCheckPhoneStatus:_t.a.func.isRequired,checkPhone:_t.a.func.isRequired,changeCode:_t.a.func.isRequired,switchConfirmationMethod:_t.a.func.isRequired,isPhoneCheckSent:_t.a.bool.isRequired,canSwitchConfirmMethod:_t.a.bool.isRequired,codeError:_t.a.string.isRequired,isCallConfirmationDisabled:_t.a.bool.isRequired,title:_t.a.string.isRequired,sendAgainBtnText:_t.a.string.isRequired,confirmMethod:_t.a.string.isRequired,confirmationCodeLength:_t.a.number.isRequired};var Xo=Object(c.c)((function(e){var t=e.restoreLogin,n=t.phone,r=t.isPhoneCheckSent,o=t.isPhoneOverheated,i=t.callingNumberTemplate,a=t.errors,c=a.code,u=a.phone,s=t.confirmMethod,l=(n||"").trim().replace(/ /gi,"&nbsp;"),f="Введите код из СМС, отправленный на номер %1".replace("%1",l),d=6,p="Отправить ещё код",h=!1,m="callsLimitExceeded"===c||"callsLimitExceeded"===u;return"by_sms"!==s&&(p="Перезвонить ещё раз",h=!0),"by_call"===s&&(f="Сейчас мы вам позвоним. Пожалуйста, введите ниже код, который мы назовём."),"by_flash_call"===s&&(f="Сейчас вам поступит звонок с номера %s. Введите последние четыре цифры номера".replace("%s","<span class='passp-phone-template'>".concat(i,"</span>")),d=4),{codeError:c||"",confirmMethod:s,isCallConfirmationDisabled:(o||m)&&h,title:f,isPhoneCheckSent:r,confirmationCodeLength:d,sendAgainBtnText:p,canSwitchConfirmMethod:h}}),(function(e){return{confirmPhone:function(){return e(qo())},checkPhone:function(){return e(sr.check(!0))},changeCheckPhoneStatus:function(t){return e(le(t))},changeCode:function(t){return e({type:"[RESTORE_LOGIN] CHANGE_CONFIRMATION_CODE",confirmationCode:t})},switchConfirmationMethod:function(){e(he("by_sms")),e(sr.check())}}}))(Go),Qo=n("E9IGm0Yn7bS+QmLsuwLk");function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ni(e);if(t){var o=ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ti(this,n)}}function ti(e,t){return!t||"object"!==Ko(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(i,e);var t,n,r,o=ei(i);function i(){return Jo(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount()}},{key:"render",value:function(){var e=this.props,t=e.commitAuthBySMS,n=e.submitAuthBySMS;return a.a.createElement(un,{cls:"AuthConfirmationBySMSPopup",dataT:"auth-confirmation-by-sms-popup"},a.a.createElement(Nn.a,{withoutOffset:!0,cls:"AuthConfirmationBySMSForm",dataT:"auth-confirmation-by-sms-popup"},a.a.createElement(Qo.a,{onConfirm:t,onRetry:n,place:"auth"})))}}])&&Zo(t.prototype,n),r&&Zo(t,r),i}(a.a.PureComponent);ri.propTypes={commitAuthBySMS:_t.a.func.isRequired,submitAuthBySMS:_t.a.func.isRequired,onMount:_t.a.func.isRequired};var oi={submitAuthBySMS:ee.e,commitAuthBySMS:ee.c,onMount:x.d},ii=Object(c.c)(null,oi)(ri);function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function li(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pi(e);if(t){var o=pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fi(this,n)}}function fi(e,t){return!t||"object"!==ai(t)&&"function"!=typeof t?di(e):t}function di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(i,e);var t,n,r,o=li(i);function i(){var e;ci(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hi(di(e=o.call.apply(o,[this].concat(n))),"onConfirm",(function(){(0,e.props.commitNeoPhonishAuth)()})),hi(di(e),"onRetry",(function(){var t=e.props;(0,t.retryToRequestPhoneConfirmationCode)(t.trackId)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){y.a.send("Показ экрана подтверждения телефона с помощью СМС для неофониша")}},{key:"render",value:function(){return a.a.createElement(un,{cls:"NeoPhonishAuthConfirmationBySMSPopup",dataT:"neophonish-auth-confirmation-by-sms"},a.a.createElement(Nn.a,{withoutOffset:!0,cls:"NeoPhonishAuthConfirmationBySMSPopup",dataT:"neophonish-auth-confirmation-by-sms"},a.a.createElement(Qo.a,{onConfirm:this.onConfirm,onRetry:this.onRetry,place:"auth"})))}}])&&ui(t.prototype,n),r&&ui(t,r),i}(a.a.PureComponent);mi.propTypes={retryToRequestPhoneConfirmationCode:_t.a.func.isRequired,commitNeoPhonishAuth:_t.a.func.isRequired,trackId:_t.a.string.isRequired};var bi=n("bgXyrsqSC6Iqs5Ce6LQm"),yi={retryToRequestPhoneConfirmationCode:Me.q,commitNeoPhonishAuth:bi.a},vi=Object(c.c)((function(e){return{trackId:Object(C.h)(e,ge.b.AUTH)}}),yi)(mi);function gi(){return(gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Oi=Object(xt.cn)("Logo"),_i=function(e){var t=e.onShowDebugInfo,n=e.lang,r=e.tld,o=e.isAm,c=e.isWhite,u=e.isStatic,s=e.size,l=void 0===s?"m":s,f=e.className,d=a.a.useRef(null),p=a.a.useRef(0),h=!n||["ru","uk"].includes(n),m=u?"span":"a",b={};return u||(b.href="//yandex.".concat(r),b.tabIndex="-1"),Object(i.useEffect)((function(){if(o){var e=function(e){e.target===d.current?p.current=p.current+1:p.current=0,p.current>=bt.b&&t()};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}}),[o,d,p,t]),a.a.createElement(m,gi({},b,{className:"".concat(Oi({ru:h,en:!h,size:l,isWhite:c})," ").concat(f||""),ref:d}))};_i.propTypes={className:_t.a.string,lang:_t.a.string,size:_t.a.oneOf(["s","m","l"]),tld:_t.a.string,isWhite:_t.a.bool,isStatic:_t.a.bool,isAm:_t.a.bool,onShowDebugInfo:_t.a.func.isRequired};var Ei=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.isStatic,r=e.settings,o=void 0===r?{}:r,i=e.common,a=void 0===i?{}:i,c=e.am,u=void 0===c?{}:c,s=o.tld,l=u.isAm,f=void 0!==l&&l,d=a.isWebView,p=a.isAM;return{isStatic:n||d||p,lang:Object(C.d)(e),tld:s,isAm:f}}),(function(e){return{onShowDebugInfo:function(){e(Object(x.j)())}}}))(_i),Si=Object(xt.cn)("Header"),wi=function(e){var t=e.serviceLogo;return t?a.a.createElement("span",{className:Si("service"),style:{backgroundImage:"url(".concat(t,")")}}):null};wi.propTypes={serviceLogo:_t.a.string.isRequired,fullLogo:_t.a.bool};var ji=function(e){var t=e.serviceLogo,n=e.isAvailable,r=e.isServiceLogoAvailable,o=e.isNewLogoExp,i=e.isRuLogo;return n?o?a.a.createElement("div",{className:Si("")},a.a.createElement("div",{className:Si("yaLogoBlock")},a.a.createElement("div",{className:Si("yaLogo",{logoRu:i,logoEn:!i})}))):a.a.createElement("div",{className:Si("")},a.a.createElement("div",{className:Si("logo")},r?a.a.createElement(wi,{serviceLogo:t}):a.a.createElement(Ei,null))):null};ji.propTypes={serviceLogo:_t.a.string,isAvailable:_t.a.bool,isServiceLogoAvailable:_t.a.bool,isNewLogoExp:_t.a.bool,isRuLogo:_t.a.bool};var Ci=["/auth","/auth/add","/auth/list","/auth/welcome"],Ri=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customs,n=void 0===t?{}:t,r=e.auth,o=void 0===r?{}:r,i=e.router,a=void 0===i?{}:i,c=e.settings,u=void 0===c?{}:c,s=a.location,l=void 0===s?{}:s,f=n.serviceLogo,d=o.mode,p=l.pathname,h=u.lang;return{serviceLogo:f,isAvailable:"magic"!==d,isServiceLogoAvailable:Boolean(f)&&Ci.includes(p),isNewLogoExp:Object(C.j)(e,"passport-new-logo-on"),isRuLogo:!h||["ru","uk"].includes(h)}}))(ji);function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t){return(ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mi(e);if(t){var o=Mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ni(this,n)}}function Ni(e,t){return!t||"object"!==Pi(t)&&"function"!=typeof t?Ii(e):t}function Ii(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Li=Object(xt.cn)("PagePopup"),Di={authLetter:gn,additionalDataRequestPhoneConfirmation:wo,phoneConfirmation:Hn,authConfirmationBySMS:ii,emailConfirmation:ar,restoreLoginEnterCaptcha:Or,restoreLoginEnterConfirmationCode:Xo,authMessenger:qr,authMessengerInfo:Xr,challengeCall:po,neoPhonishAuthConfirmationBySMS:vi},xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ki(e,t)}(i,e);var t,n,r,o=Ai(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=Ii(t),a=function(){(0,t.props.changePagePopupVisibility)(!1)},(r="closePopup")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.isRuLogo=!e.language||["ru","uk"].includes(e.language),t.logoName="ys-".concat(t.isRuLogo?"ru":"en","-").concat(t.isRuLogo?"98":"102","x42"),t}return t=i,(n=[{key:"render",value:function(){var e=this.props.pagePopupType,t=!["authLetter","authMessenger"].includes(e),n=Di[e];return a.a.createElement("div",{className:Li()},t&&a.a.createElement(Qt,{type:"closer",onClick:this.closePopup}),a.a.createElement(Ri,null),n&&a.a.createElement(n,{closePopup:this.closePopup}))}}])&&Ti(t.prototype,n),r&&Ti(t,r),i}(i.Component);xi.propTypes={pagePopupType:_t.a.string,changePagePopupVisibility:_t.a.func.isRequired,tld:_t.a.string.isRequired,language:_t.a.string.isRequired};var qi={changePagePopupVisibility:E.X},Ui=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pagePopup,n=t.isShowPagePopup,r=t.pagePopupType,o=e.settings.tld;return{isShowPagePopup:n,pagePopupType:r,tld:o,language:Object(C.d)(e)}}),qi)(xi);function Bi(e){return(Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hi(e,t){return(Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zi(e);if(t){var o=zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vi(this,n)}}function Vi(e,t){return!t||"object"!==Bi(t)&&"function"!=typeof t?Yi(e):t}function Yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gi=Object(xt.cn)("AuthFooter"),Xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hi(e,t)}(i,e);var t,n,r,o=Wi(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).toggleLangswitcherPopup=t.toggleLangswitcherPopup.bind(Yi(t)),t.onOutsideClick=t.onOutsideClick.bind(Yi(t)),t.state={langPopupOpen:!1},t}return t=i,r=[{key:"handleEnterKey",value:function(e){13===e.keyCode&&e.target.click()}}],(n=[{key:"componentDidMount",value:function(){window.addEventListener?window.addEventListener("click",this.onOutsideClick):window.attachEvent("onclick",this.onOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener?window.removeEventListener("click",this.onOutsideClick):window.detachEvent("onclick",this.onOutsideClick)}},{key:"toggleLangswitcherPopup",value:function(e){e.stopPropagation(),this.setState((function(e){return{langPopupOpen:!e.langPopupOpen}}))}},{key:"onOutsideClick",value:function(){this.setState({langPopupOpen:!1})}},{key:"render",value:function(){var e=this.props,t=e.tld,n=e.lang,r=e.options,o=e.currentYear,c=e.helpLink,u=e.hasSwitcher,s=e.isWebView,l=e.isMobile,f=this.state.langPopupOpen;return a.a.createElement("footer",{className:Gi()},a.a.createElement("div",{className:Gi("wrapper")},!s&&!l&&a.a.createElement("div",{className:Gi("incognitoLink")},a.a.createElement("span",{className:Gi("item")},["ru","com","com.tr","ua","by","kz","uz"].includes(t)&&a.a.createElement(ln.a,{onClick:function(){y.a.send(["Нажатие на ссылку инкогнито в футере"])},target:"_blank",href:"https://yandex.".concat(t,"/support/common/browsers-settings/incognito.html")},"Используйте режим инкогнито на чужом компьютере")||"Используйте режим инкогнито на чужом компьютере")),a.a.createElement("div",{className:Gi("mainBlock",{single:s||l})},u&&a.a.createElement("span",{onKeyUp:i.handleEnterKey,className:Gi("item"),"aria-expanded":f},a.a.createElement(ln.a,{onClick:this.toggleLangswitcherPopup,pseudo:!0,className:Gi("itemCap")},n),a.a.createElement("span",{className:Gi("langList",{opened:f,closed:!f})},a.a.createElement("ul",null,r.map((function(e,t){return a.a.createElement("li",{className:Gi("langListItem"),key:t},a.a.createElement(ln.a,{href:e.url},e.text))}))))),!s&&a.a.createElement("span",{className:Gi("item")},a.a.createElement(ln.a,{href:c,target:"_blank"},"Помощь")),a.a.createElement("span",{className:Gi("item")},a.a.createElement("span",{className:Gi("copyright")},"© ".concat("ru"===t?"2001-":"").concat(o,", ")),s?"Яндекс":a.a.createElement(ln.a,{href:"//yandex.".concat(t)},"Яндекс")))))}}])&&Fi(t.prototype,n),r&&Fi(t,r),i}(i.Component);Xi.propTypes={tld:_t.a.string.isRequired,lang:_t.a.string.isRequired,options:_t.a.array.isRequired,helpLink:_t.a.string.isRequired,currentYear:_t.a.number.isRequired,hasSwitcher:_t.a.bool.isRequired,isWebView:_t.a.bool,isMobile:_t.a.bool};var Qi=Object(c.c)((function(e){var t,n=e.settings,r=n.tld,o=n.env,i=n.help,a=n.lang,c=n.language,u=n.langlist,s=e.common.isWebView,l=(new Date).getFullYear(),f=r;["az","com.am","com.ge","kg","md","tj","tm","uz"].indexOf(f)>-1?f="ru":["co.il","fr","lv","lt","ee","fi","pl","eu"].indexOf(f)>-1&&(f="com"),t=u&&"intranet"!==o.name?u.filter((function(e){return e.id!==a&&e.id!==c})).map((function(e){return{text:e.name,url:e.link}})):[];var d=((i||{}).passport||"#").replace("%tld%",f),p="intranet"===o.name,h="com"!==r&&!p&&t.length>0;return{tld:r,lang:a||c,options:t,helpLink:d,currentYear:l,hasSwitcher:h,isWebView:s,isMobile:Object(C.l)(e)}}))(Xi),Ki=function(e){var t=e.bgNumber;return t&&a.a.createElement("div",{className:"passp-bg passp-bg_".concat(t)})};Ki.propTypes={bgNumber:_t.a.string};var Ji=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.common,n=void 0===t?{}:t,r=n.bgNumber;return{bgNumber:r}}))(Ki);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t){return(ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function na(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oa(e);if(t){var o=oa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ra(this,n)}}function ra(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ia=Object(xt.cn)("NoJS"),aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ta(e,t)}(i,e);var t,n,r,o=na(i);function i(){return $i(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.isFloat,n=e.tld,r=void 0===n?"ru":n,o="https://yandex.".concat("ua"===r?"ru":r,"/support/common/browsers-settings/browsers-java-js-settings.xml");return a.a.createElement("div",{className:ia({isFloat:t})},a.a.createElement("div",{className:ia("message")},a.a.createElement("div",{className:ia("title")},"Необходимо включить JavaScript"),"Для корректной работы этого сайта",a.a.createElement(ln.a,{href:o,target:"_blank"}," ","включите JavaScript",".")))}}])&&ea(t.prototype,n),r&&ea(t,r),i}(i.Component);aa.propTypes={tld:_t.a.string.isRequired,isFloat:_t.a.bool};var ca=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings,n=void 0===t?{}:t,r=n.tld;return{tld:r}}))(aa),ua=n("Q+bL5cPDAKnwQPClvMDx"),sa=function(e){var t=e.minimal,n=e.isShowPagePopup,r=e.isAM,o=e.isNativeAm,c=e.children,u=e.isShowBG,s=e.isChallenge,l=e.isMobile,f=e.isNewLogoExp,d=e.onOpenDebugPage,p=e.tld,h=a.a.useRef(null),m=a.a.useRef(0);return Object(i.useEffect)((function(){V.a.maybeEmitEventWithDataFromStorage()}),[]),Object(i.useEffect)((function(){if(o){var e=function(e){e.target===h.current?m.current=m.current+1:m.current=0,m.current>=bt.a&&d()};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}}),[h,m,o,d]),a.a.createElement("div",{className:wt()("passp-flex-wrapper",{"passp-flex-wrapper_isAm":o})},a.a.createElement(ca,{isFloat:!l}),a.a.createElement("div",{className:wt()("passp-page",{"passp-page_minimal":t})},u&&a.a.createElement(Ji,null),a.a.createElement("div",{className:"passp-flex-wrapper"},a.a.createElement("div",{className:wt()("passp-content")},a.a.createElement("div",{className:wt()("passp-auth",{newLogoExp:f})},a.a.createElement(Mt,null),n?a.a.createElement(Ui,null):a.a.createElement(a.a.Fragment,null,!s&&a.a.createElement(Qt,null),a.a.createElement("div",{className:"passp-auth-content",ref:h},a.a.createElement(Ri,null),c)),f&&a.a.createElement("div",{className:"yaIdPromoText",dangerouslySetInnerHTML:{__html:Object(ua.a)("Яндекс ID — ключ от всех сервисов %link_start%Узнать больше%link_end%","https://id.yandex.".concat(p,"/about"))}})))),!r&&!o&&a.a.createElement(Qi,null)))};sa.propTypes={isShowPagePopup:_t.a.bool,isShowBG:_t.a.bool,isChallenge:_t.a.bool,minimal:_t.a.bool,children:_t.a.node.isRequired,isAM:_t.a.bool,isNativeAm:_t.a.bool,isMobile:_t.a.bool,isNewLogoExp:_t.a.bool,onOpenDebugPage:_t.a.func.isRequired,tld:_t.a.string};var la=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pagePopup.isShowPagePopup,n=e.common,r=n.pane,o=n.isWebView,i=n.isAM,a=e.settings,c=a.ua,u=c.isMobile,s=c.isTablet,l=a.tld,f=e.customs.minimal,d=e.router,p=void 0===d?{}:d,h=e.am,m=void 0===h?{}:h,b=p.location,y=void 0===b?{}:b;return{isMobile:u,isTablet:s,minimal:f,isShowPagePopup:t,pane:r,isWebView:o,isAM:i,isNativeAm:m.isAm,isShowBG:s||!u,isChallenge:"/auth/challenge"===y.pathname,isNewLogoExp:Object(C.j)(e,"passport-new-logo-on"),tld:l}}),(function(e){return{onOpenDebugPage:function(){e(Object(x.h)())}}}))(sa),fa=n("FHPjC2lA9iEcIB5mQuCy"),da=n("COVn1u3UnbZdyfj+LKpx");function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=va(e);if(t){var o=va(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ya(this,n)}}function ya(e,t){return!t||"object"!==pa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ga={enter:300,exit:300},Oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}(i,e);var t,n,r,o=ba(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={transitionClassName:"",historyKeys:[]},t}return t=i,(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.location,o=n.isLoading,i=e.location,a=e.history,c=e.isLoading,u=this.state,s=u.transitionClassName,l=u.historyKeys,f="/auth"===r.pathname?"/auth/add":r.pathname,d="/auth"===i.pathname?"/auth/add":i.pathname,p=r.search,h=i.search;return s!==t.transitionClassName||l.length!==t.historyKeys.length||o!==c||(f!==d||p!==h)&&"replace"!==a.action.toLowerCase()}},{key:"componentDidUpdate",value:function(e){var t=e.location,n=this.state.historyKeys,r=this.props,o=r.location,i=r.history;if(t!==o&&t.pathname!==o.pathname)if(o.state&&o.state.isPreviousStep)this.setState((function(e){return{transitionClassName:"passp-route-back",historyKeys:e.historyKeys.concat([o.key])}}));else if("push"!==i.action.toLowerCase()){var a=n[n.length-1-1];o.key!==a?this.setState((function(e){return{transitionClassName:"passp-route-forward",historyKeys:e.historyKeys.concat([o.key])}})):this.setState((function(e){return{transitionClassName:"passp-route-back",historyKeys:e.historyKeys.slice(0,-1)}}))}else this.setState((function(e){return{transitionClassName:"passp-route-forward",historyKeys:e.historyKeys.concat([o.key])}}))}},{key:"render",value:function(){var e=this.props.location,t=this.state.transitionClassName;return a.a.createElement(fa.a,{className:t},a.a.createElement(da.a,{key:e.key,timeout:ga,classNames:"passp-route",appear:!0},a.a.createElement("div",{className:"passp-route"},this.props.children)))}}])&&ha(t.prototype,n),r&&ha(t,r),i}(i.Component);Oa.propTypes={location:_t.a.object,history:_t.a.object,accounts:_t.a.object,magicError:_t.a.string,loginError:_t.a.string,passwordError:_t.a.string,captchaError:_t.a.string,additionalDataErrors:_t.a.array,isShowMobileMenu:_t.a.bool,isLoading:_t.a.bool,isCaptchaRequired:_t.a.bool,isCanRegister:_t.a.bool,children:_t.a.node.isRequired};var _a=Object(c.c)((function(e){var t=e.auth,n=t.unitedAccounts,r=t.form,o=void 0===r?{}:r,i=t.isCaptchaRequired,a=t.magicError,c=t.loginError,u=t.passwordError,s=t.loading,l=t.captchaError,f=e.mobileMenu.isShowMobileMenu,d=e.pagePopup.isShowPagePopup,p=e.additionalDataRequest.errors;return{isCanRegister:Boolean(o.isCanRegister),isLoading:s,accounts:n,isCaptchaRequired:i,magicError:a,loginError:c,passwordError:u,captchaError:l,isShowMobileMenu:f,isShowPagePopup:d,additionalDataErrors:p}}))(Oa),Ea=n("mNaMim9b+xb4df3rV6hq");function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,t){return(ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ta(e);if(t){var o=Ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ra(this,n)}}function Ra(e,t){return!t||"object"!==Sa(t)&&"function"!=typeof t?Pa(e):t}function Pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ja(e,t)}(i,e);var t,n,r,o=Ca(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).addBrowserPageVisibilityStateHandler=t.addBrowserPageVisibilityStateHandler.bind(Pa(t)),t.handleBrowserPageVisibilityState=t.handleBrowserPageVisibilityState.bind(Pa(t)),t.removeBrowserPageVisibilityStateHandler=t.removeBrowserPageVisibilityStateHandler.bind(Pa(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.addBrowserPageVisibilityStateHandler()}},{key:"componentWillUnmount",value:function(){this.removeBrowserPageVisibilityStateHandler()}},{key:"addBrowserPageVisibilityStateHandler",value:function(){document.addEventListener?document.addEventListener("visibilitychange",this.handleBrowserPageVisibilityState,!1):document.attachEventListener("onvisibilitychange",this.handleBrowserPageVisibilityState,!1)}},{key:"removeBrowserPageVisibilityStateHandler",value:function(){document.removeEventListener?document.removeEventListener("visibilitychange",this.handleBrowserPageVisibilityState,!1):document.detachEvent("onvisibilitychange",this.handleBrowserPageVisibilityState,!1)}},{key:"handleBrowserPageVisibilityState",value:function(){var e=this.props.dispatch;"visible"===document.visibilityState&&e(Object(Ea.a)())}},{key:"render",value:function(){return a.a.createElement("div",{className:"passp-page-visibility"})}}])&&wa(t.prototype,n),r&&wa(t,r),i}(i.Component);ka.propTypes={dispatch:_t.a.func.isRequired};var Aa=Object(c.c)()(ka),Na=n("WKSiwh2w4AbQ7M4ZZhXj");function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ma=function(e){var t=e.location,n=e.history,r=e.isAdditionalDataRequestEnabled,o=e.isAmDebugPageEnabled,i=Object(Na.a)({isAdditionalDataRequestEnabled:r,isAmDebugPageEnabled:o});return a.a.createElement(la,{location:t},a.a.createElement(Aa,null),a.a.createElement(_a,{location:t,history:n},a.a.createElement(Et.c,{location:t},i.map((function(e){return a.a.createElement(Et.a,Ia({key:e.path},e))})))))};Ma.propTypes={location:_t.a.shape({key:_t.a.string,pathname:_t.a.string.isRequired}).isRequired,history:_t.a.shape({action:_t.a.string.isRequired}).isRequired,isAdditionalDataRequestEnabled:_t.a.bool,isAmDebugPageEnabled:_t.a.bool};var La=Object(Et.e)(Object(c.c)((function(e){var t=e.auth.isAdditionalDataRequestEnabled,n=e.am,r=void 0===n?{}:n;return{isAdditionalDataRequestEnabled:t,isAmDebugPageEnabled:r.isAm&&r.debug}}))(Ma));Object(W.b)((function(){var e=window.__REDUX_STORE__,t=e.common,n=void 0===t?{}:t,r=e.social,o=void 0===r?{}:r,i=n.pane,a=H()();B({App:La,configureStore:gt,withMagic:!0,withRouter:!0,history:a,replaceHistory:i,replaceHistorySearch:Object(bt.d)(e),broker:o.brokerParams?V.a:void 0})}))},"4CLY6EXHBdRASoqLgoNs":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("znTbw0iOKLShrW2tHvtf"),o=n("Cn0bb7dlXdz9iLHfBkZ3"),i=n("2RwP39fxF+52d7V4pFC1"),a=n("IWyIY6v871rrx6jPCZuR"),c=n("FUZ6AA4Oce8/2wMDn7Ki");function u(){return function(e,t){"text"===t().captcha.type?e(Object(r.a)()):e((function(e,t){var n=t(),r=n.common,u=r.track_id,s=r.uid,l=n.settings.language,f=n.captcha.trackId||u;e(Object(a.a)()),e(Object(c.m)()),o.a.request("audiocaptcha",{track_id:f,uid:s,language:l},{abortPrevious:!0}).done((function(t){return e(Object(i.a)(t,!0))})).fail((function(t){return e(Object(c.n)(t))}))}))}}},"4VU7qOHh/ogq2ohJTqdm":function(e,t,n){},"5F+6fz9+ivUTWfn90aaq":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("s7ETookYgfkMG6aMgioe"),i=n("Yp2QB2jYYmLrYZQDlfoW"),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.form,c=void 0===a?{}:a,u=t.tracks,s=void 0===u?{}:u,l=t.logins,f=void 0===l?{}:l,d=f.loginsList,p=void 0===d?[]:d,h=c.values,m=void 0===h?{}:h,b=s.registerTrackId,y=p[0]===m.login,v={trackId:b,login:p.includes(m.login)?"":m.login||"",firstname:m.firstname||"",lastname:m.lastname||""};return new Promise((function(t){return r.a.getSuggestedLogins(v).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.logins,c=void 0===a?[]:a;e(Object(o.k)({logins:c})),n&&c.length&&(y||!m.login)&&e(Object(i.P)({field:"login",value:c[0]})),t()})).catch((function(){t([]),e(Object(o.k)({logins:[]}))}))}))},c=function(){return function(e,t){return a(e,t())}}},"5JYr1wX0R8/HykYVD6Pg":function(e,t,n){"use strict";t.a={"magic_link.expired":"Ссылка для входа устарела","magic_link.not_sent":"Ссылка для входа недействительна","magic_link.secret_not_matched":"Ссылка для входа недействительна","magic_link.invalidated":"Вы отменили вход с помощью письма","account.auth_passed":"По этой ссылке уже был совершен вход в аккаунт","action.not_required":"По этой ссылке уже был совершен вход в аккаунт","track.not_found":"Ссылка для входа устарела","rate.limit_exceeded":"Не удается отправить письмо, попробуйте другой способ входа в аккаунт","account.global_logout":"Ссылка для входа недействительна"}},"6+BtJaUHYMmXudm3kyza":function(e,t,n){},"6CfwbgLKXFyZjsgUqg6/":function(e,t,n){},"6OWwt9yvRw7ShcN4G3nV":function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("fdvIBlOQlZTMBA80mYxn"),c=n.n(a),u=n("2XiBpSUPIXqJnJWBL+lj"),s=n.n(u),l=n("BiY5T7IoWQd4oP5CD4Ck"),f=n("Sv+DydT6rKBct5kRKGVV");var d=n("AFgMZ7oQJHD2/+zDS46y"),p=n("z3qqbj39i+miilZ9Wcps");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,i=y(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onChangeCaptcha=t.onChangeCaptcha.bind(g(t)),t.focusOnCaptchaField=t.focusOnCaptchaField.bind(g(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.isCaptchaRequired&&this.focusOnCaptchaField()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.isCaptchaRequired!==e.isCaptchaRequired&&e.isCaptchaRequired&&setTimeout((function(){t.focusOnCaptchaField()}),0)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e(Object(l.U)(!1)),e(Object(l.Ib)(""))}},{key:"onChangeCaptcha",value:function(e){(0,this.props.dispatch)(Object(l.Ib)(e))}},{key:"focusOnCaptchaField",value:function(){if(!this.props.isNoTabletTouch){var e=c.a.findDOMNode(this.captchaField).querySelector("input");e.focus(),e.click()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCaptchaRequired,r=t.isShowCaptcha,i=t.introSound,a=t.captchaSound,c=t.imageUrl,u=t.loading,s=t.loadingAudio,l=t.playing,f=t.type,h=t.captchaKey,m=t.captchaAnswer,b=t.lang,y=t.fieldError,v=t.dispatch,g=t.forcedError,O=t.env;return n||r?o.a.createElement("div",{className:"passp-captcha-field"},o.a.createElement(p.a,{isMobile:!1,lang:b,introSound:i,captchaSound:a,imageUrl:c,env:O,captchaKey:h,loading:u,loadingAudio:s,playing:l,type:f,dispatch:v,visible:!0}),o.a.createElement("input",{type:"hidden",name:"captcha_key",value:h||""}),o.a.createElement(d.b,{size:"l",ref:function(t){e.captchaField=t},label:"Введите символы с картинки",value:m,name:"captcha_answer",type:"text",error:y||g,link:null,onChange:this.onChangeCaptcha,view:"floating-label"})):null}}])&&m(t.prototype,n),r&&m(t,r),a}(r.Component);_.defaultProps={captcha:{captchaKey:""},isShowCaptcha:!1},_.propTypes={isCaptchaRequired:s.a.bool.isRequired,isShowCaptcha:s.a.bool.isRequired,introSound:s.a.string,captchaSound:s.a.string,imageUrl:s.a.string,env:s.a.shape({type:s.a.string}),loading:s.a.bool,loadingAudio:s.a.bool,playing:s.a.bool,type:s.a.string,captchaKey:s.a.string,captchaAnswer:s.a.string.isRequired,lang:s.a.string.isRequired,fieldError:s.a.string,forcedError:s.a.string,dispatch:s.a.func.isRequired,isNoTabletTouch:s.a.bool};t.a=Object(i.c)((function(e){var t=e.settings,n=t.isNoTabletTouch,r=t.lang,o=t.env,i=void 0===o?{}:o,a=e.auth,c=a.isCaptchaRequired,u=a.captchaError,s=a.form.captcha_answer,l=e.captcha,d=l.introSound,p=l.captchaSound,h=l.imageUrl,m=l.loading,b=l.loadingAudio,y=l.playing,v=l.type,g=l.key,O=null;return u&&(O=f.a[u]||f.a.global),{isNoTabletTouch:n,captchaAnswer:s,isCaptchaRequired:c,lang:r,fieldError:O,introSound:d,captchaSound:p,imageUrl:h,loading:m,loadingAudio:b,playing:y,type:v,captchaKey:g,env:i}}))(_)},"6QkgGlmAmJL/UXgTfwXy":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return v}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("icG+8Jgv+BJiTL/fPTrX"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("Yp2QB2jYYmLrYZQDlfoW"),c=n("1hgyDyPvGAR756qJDrVH"),u=n("NH34m/YMyHs61nOqvuoz"),s=n("DykVKCzoc0ACbI/E+LI/"),l=n("koIp2P181fHTfc4gFYRx"),f=n("fi7sVlHuU93LEbukopgn"),d=n("O5/wDFcDcr7psfl422DM"),p=n("W3MgEIO55ELSFhldjoS/"),h="phoneCode",m="SET_AUTH_BY_SMS_STATE",b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{phone:"",denyResendUntil:""};return{type:m,payload:e}},y=function(){return function(e,t){var n=t(),a=n.am,c=void 0===a?{}:a,u={trackId:Object(o.h)(n,"common"),language:Object(o.d)(n),mode:"tracked"};c.isAm&&c.platform===l.d.ANDROID&&(u.gpsPackageName=c.appId),e(Object(i.ab)(!0)),r.a.requestPhoneConfirmationCode(u).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.denyResendUntil,r=t.phone,o=t.internationalPhoneNumber;e(Object(s.w)(n)),e(Object(s.A)(r)),e(Object(s.x)(o)),e(b({error:""})),e(Object(i.X)(!0)),e(Object(i.W)("authConfirmationBySMS")),e(Object(i.ab)(!1)),e(Object(f.d)())})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,r=void 0===n?[]:n,o=r[0]||"global";e(b({error:o})),e(Object(i.ab)(!1))}))}},v=function(){return function(e,t){var n=t(),s=Object(o.c)(n)[h],l=Object(o.h)(n,"common"),f=Object(o.f)(n),m=n.am,b=void 0===m?{}:m;e(Object(i.ab)(!0));var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,r=void 0===n?[]:n,o=r[0]||"global";e(Object(a.M)({field:h,error:o?Object(d.e)(h,o):{}})),e(Object(i.ab)(!1))};r.a.checkPhoneConfirmationCode({trackId:l,mode:"tracked",code:s}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.status;if("ok"===n)return r.a.multiStepCommitSMSCode({trackId:l,retpath:f}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.status,r=t.redirectUrl,o=t.state,a=t.retpath;if("ok"===n){if("auth_challenge"===o)return e(Object(i.ab)(!1)),void e(Object(c.a)());var s=function(){return o&&r?window.location=r:(p.a.goal(u.Bc),p.a.send([u.Ec]),window.location=a||f)};return b.isAm?(e(Object(i.ab)(!1)),setTimeout((function(){s()}))):s()}y(t)})).catch(y);y(t)})).catch(y)}}},"6gDC7n7pTRL5D9l5RPkO":function(e,t,n){},"7/9pYbQkeaSMYb1NzrDG":function(e,t,n){"use strict";function r(){return function(e,t){var n=t().captcha.captchaSound;n&&"function"==typeof n.play&&n.play()}}n.d(t,"a",(function(){return r}))},"7CdAhs8eUPk6XSbAucx2":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r){"use strict";"object"===t(e)&&e.exports?e.exports=r():n.Monitoring=r()}(this,(function(){function e(){for(var e,n={},r=0;r<arguments.length;r++)if("object"===t(e=arguments[r])&&e)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}return{inited:!1,_data:null,init:function(t){"undefined"!=typeof window&&(this.inited=!0,this._data=e({app:"passport"},t))},send:function(t){if(this.inited){var n=[],r=e(this._data,t,"load"===t.event?this.preparePerformanceData():{}),o=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");for(var i in r)r.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(r[i]));o.open("GET","/monitoring?"+n.join("&"),!0),o.withCredentials=!0,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send()}},preparePerformanceData:function(){var e,t;return"performance"in window&&"timing"in window.performance&&"navigation"in window.performance?(e=performance.timing,t=performance.navigation,{"tm.navigationStart":e.navigationStart,"tm.unloadEventStart":e.unloadEventStart,"tm.unloadEventEnd":e.unloadEventEnd,"tm.redirectStart":e.redirectStart,"tm.redirectEnd":e.redirectEnd,"tm.fetchStart":e.fetchStart,"tm.domainLookupStart":e.domainLookupStart,"tm.domainLookupEnd":e.domainLookupEnd,"tm.connectStart":e.connectStart,"tm.connectEnd":e.connectEnd,"tm.secureConnectionStart":e.secureConnectionStart,"tm.requestStart":e.requestStart,"tm.responseStart":e.responseStart,"tm.responseEnd":e.responseEnd,"tm.domLoading":e.domLoading,"tm.domInteractive":e.domInteractive,"tm.domContentLoadedEventStart":e.domContentLoadedEventStart,"tm.domContentLoadedEventEnd":e.domContentLoadedEventEnd,"tm.domComplete":e.domComplete,"tm.loadEventStart":e.loadEventStart,"tm.loadEventEnd":e.loadEventEnd,"nav.type":t.type,"nav.redirectCount":t.redirectCount}):{}}}}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},"7TCbyYjgn9TyxV6Ti5jh":function(e,t,n){},"9MMf4QJJB4plhCJEgZnY":function(e,t,n){},"9s/32m/Ov0dlcLEPGLU+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"o",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"m",(function(){return v}));var r="RESTORE_PASSWORD_SET_INITIAL_DATA",o="RESTORE_PASSWORD_SET_METHODS",i="RESTORE_PASSWORD_UPDATE_SELECTED_METHOD",a="RESTORE_PASSWORD_UPDATE_ERROR",c="RESTORE_PASSWORD_UPDATE_PROCESS_STATE",u="RESTORE_PASSWORD_UPDATE_CAPTCHA_STATUS",s="RESTORE_PASSWORD_SET_PHONE_STATUS",l="RESTORE_UPDATE_HINT_DATA";function f(e){return{type:r,payload:e}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:o,methods:e}}function p(e){var t=e.method,n=void 0===t?"semiauto":t,r=e.methodInfo;return{type:i,method:n,methodInfo:void 0===r?{}:r}}function h(e){return{type:a,error:e}}function m(e){return{type:c,processState:e}}function b(e){return{type:u,isRequired:e}}function y(e){var t=e.number,n=e.isValidForCall;return{type:s,number:t,isValidForCall:n}}function v(e){return{type:l,payload:e}}},"AFgMZ7oQJHD2/+zDS46y":function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return ie}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=n("Yp2QB2jYYmLrYZQDlfoW"),i=n("a4EMkKqamYWCMMPV7UeQ"),a=n.n(i),c=n("2XiBpSUPIXqJnJWBL+lj"),u=n.n(c),s=n("KPxOwTsDQXV5/GX8af14"),l=n.n(s),f=n("LzmKygd9FPlNlMcSJp0Y"),d=n("6xqEtxIjWYePk0CSapzW"),p=n.n(d),h=n("uNsBkTB0tkTcZcJjw4EW"),m=n("1i/I0NfxC1HkZ/9lQ7J5"),b=n("ZsimL7prjY0S1ys/iUAi"),y=n("4imXa7VMqWFl7Obkh29o"),v=n("CwWQ6oOGsS93eeX+wwFC"),g=n("wUFBsGH+F/P3u4/4n7AC"),O=n("IyoT8kwsQCt/AjFO1KEf"),_=n("qxvf4CthBAfet3K/dNQV"),E=n("7ZiukNCcVYxXm5YmfhZa"),S=n("lpwk82uvw/1oaqEiTp6b"),w=Object(h.withBemMod)(Object(S.b)(),{view:"one-border"}),j=Object(h.withBemMod)(Object(S.b)(),{filled:!0}),C=Object(h.withBemMod)(Object(S.b)(),{view:"floating-label"}),R=Object(h.withBemMod)(Object(S.b)(),{size:"l"}),P=Object(h.withBemMod)(Object(S.b)(),{size:"xl"});function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var A=Object(h.compose)(b.a,w,C,j,y.a,v.a,R,P,g.a,O.a,_.a)(E.a),N=Object(m.cn)("Textinput"),I=function(e){var t=e.size,n=void 0===t?"m":t,r=e.view,o=void 0===r?"default":r,i=e.type,c=void 0===i?"text":i,u=e.name,s=e.dataT,l=e.state,f=e.hint,d=e.description,p=k(e,["size","view","type","name","dataT","state","hint","description"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(A,T({size:n,view:o,type:c,name:u,"data-t":"field:input-".concat(s||u),state:l},p)),f&&a.a.createElement("div",{className:N("Hint",{state:l}),dangerouslySetInnerHTML:{__html:f}}),d&&a.a.createElement("div",{className:N("Hint",{state:l}),dangerouslySetInnerHTML:{__html:d}}))};I.propTypes={name:p.a.string.isRequired,dataT:p.a.string,size:p.a.oneOf(["s","m","l","xl"]),type:p.a.oneOf(["text","password","tel"]),view:p.a.oneOf(["one-border","default","floating-label"]),state:p.a.oneOf(["error","success"]),hint:p.a.string,description:p.a.string};var M=n("eidTN+99QhledymTSSqQ"),L=n("JLFc6U7sd0PMI6Bh60mb"),D=n("O5/wDFcDcr7psfl422DM"),x=n("W3MgEIO55ELSFhldjoS/");function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=Object(f.cn)("Field"),Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(i,e);var t,n,r,o=W(i);function i(){var e;B(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return G(Y(e=o.call.apply(o,[this].concat(n))),"state",{isFocused:!1}),G(Y(e),"ref",a.a.createRef()),G(Y(e),"focus",(function(){return Object(D.b)(e.field)})),G(Y(e),"onKeyUp",(function(){var t=e.props.onKeyUp;"function"==typeof t&&t()})),G(Y(e),"onChange",(function(t){var n=t.target,r=(void 0===n?{}:n).value,o=e.props,i=o.name,a=o.updateValues,c=o.onChange;o.isValueForced&&c||a({field:i,value:r}),c&&"function"==typeof c&&c(r)})),G(Y(e),"onFieldChange",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.props,r=n.name,o=n.updateValues,i=n.onChange,a=n.isValueForced;a&&i||o({field:r,value:t}),i&&"function"==typeof i&&i(t)})),G(Y(e),"_validate",(function(){var t=e.props,n=t.name,r=t.value,o=t.updateErrors,i=t.validate,a=t.setPasswordWeight,c=t.shouldValidate,u=t.isErrorForced,s=t.validationTrack;if(!u)return c?void i(n,{validationTrack:s}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,i=e.status;if(t&&x.a.send("Показ ошибки поля ".concat(n,": ").concat(t)),"password"===n)if(r&&!t||["weak","tooshort"].includes(t)){if(a(t||"strong"),"warning"===i)return void o({field:n,error:t?Object(D.e)(n,t,!0):{}})}else a("");o({field:n,error:"error"===i&&t?Object(D.e)(n,t):{}})})):o({field:n,error:{}})})),G(Y(e),"validate",l()(e._validate,100)),G(Y(e),"onFocus",(function(){return e.setState({isFocused:!0})})),G(Y(e),"onBlur",(function(){var t=e.props.onBlur;e.setState({isFocused:!1}),"function"==typeof t&&t()})),G(Y(e),"maybeRenderLink",(function(){var t=e.props,n=t.name,r=t.link;return!(!t.isShowFieldLink||!r)&&a.a.createElement("div",{className:X("link"),"data-t":"field:link-".concat(n)},a.a.createElement(M.a,{href:r.url,onClick:r.onClick,pseudo:r.pseudo||!1,weight:"medium"},r.text))})),G(Y(e),"maybeRenderLabel",(function(){var t=e.props,n=t.label,r=t.name,o=t.hideLabel;return!n||o?null:a.a.createElement("div",{className:X("label-wrapper")},a.a.createElement("label",{className:X("label"),"data-t":"field:label-".concat(r),htmlFor:"".concat(L.b).concat(r)},n))})),e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.value,r=t.isErrorForced;n===e.value||r||this.validate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.size,r=t.name,o=t.value,i=t.error,c=t.type,u=t.options,s=t.placeholder,l=t.isValid,f=t.iconRight,d=t.view,p=t.disabled,h=t.maxLength,m=t.shrinkBottomMargin,b=t.validHint,y=t.tInfo,v=t.isAm,g=this.state.isFocused,O="object"===U(i)&&null!==i?i.text:i,_="object"===U(i)&&null!==i?i.errorDescription:"",E="object"===U(i)&&null!==i?i.code:"",S={state:O?"error":l?"success":void 0,hint:O||(l&&b?b:""),description:_};return"object"===U(i)&&null!==i&&i.warning&&(S.state="warning"),a.a.createElement("div",{className:X({view:d,shrinkBottomMargin:m,isFocused:g,isFilled:Boolean(o),isAm:v}),"data-t":"field:".concat(r),"data-t-error":E?"field:error-".concat(r,":").concat(E):void 0},this.maybeRenderLabel(),a.a.createElement(I,q({controlRef:function(t){return e.field=t},onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyUp:this.onKeyUp,name:r,placeholder:"floating-label"===d?"":s,value:o,type:c,size:n,id:"".concat(L.b).concat(r),"data-t":"field:input-".concat(r),"aria-label":y,alt:y,iconRight:f,view:d,disabled:p,maxLength:h},S,u)),this.maybeRenderLink())}}])&&F(t.prototype,n),r&&F(t,r),i}(a.a.PureComponent);G(Q,"defaultProps",{type:"text"}),Q.propTypes={size:u.a.oneOf(["s","m","l"]),passwordWeight:u.a.string,type:u.a.string,name:u.a.string.isRequired,label:u.a.string,value:u.a.oneOfType([u.a.string,u.a.bool]),error:u.a.oneOfType([u.a.string,u.a.shape({text:u.a.string,code:u.a.string})]),updateValues:u.a.func.isRequired,updateErrors:u.a.func.isRequired,setPasswordWeight:u.a.func,onChange:u.a.func,onKeyUp:u.a.func,validate:u.a.func,options:u.a.shape({autoCorrect:u.a.string,autoCapitalize:u.a.string,autoComplete:u.a.string}),placeholder:u.a.string,className:u.a.string,link:u.a.shape({url:u.a.string,text:u.a.string,onClick:u.a.func,pseudo:u.a.bool}),isShowFieldLink:u.a.bool,isValid:u.a.bool,validHint:u.a.string,shouldValidate:u.a.bool,isValueForced:u.a.bool,isErrorForced:u.a.bool,onBlur:u.a.func,iconRight:u.a.node,view:u.a.oneOf(["default","floating-label","one-border"]),disabled:u.a.bool,maxLength:u.a.number,shrinkBottomMargin:u.a.bool,hideLabel:u.a.bool,validationTrack:u.a.string,tInfo:u.a.string,isAm:u.a.bool};var K=n("Cn0bb7dlXdz9iLHfBkZ3"),J=n("icG+8Jgv+BJiTL/fPTrX");function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Z(this,"_ok",{status:"ok"}),Z(this,"_error",(function(e){return{status:"error",code:e}})),Z(this,"_warning",(function(e){return{status:"warning",code:e}})),Z(this,"_getDefaultRequestParams",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.common,r=void 0===n?{}:n,o=r.csrf,i=Object(J.a)(e);return{csrf_token:o,track_id:t||i}})),Z(this,"_getError",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.validation_errors||e.errors,n=t&&t[0]||Array.isArray(e)&&{code:e[0]},r=n.field,o=n.code,i=n.message,a=void 0===i?"":i;return"password"===r&&-1!==a.indexOf("10 symbols")&&"tooshort"===o?"strong_pwd.tooshort":n?n.code||n:void 0})),Z(this,"_getWarning",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.validation_warnings,n=t&&t[0];return n?n.code||n:void 0})),Z(this,"_request",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return K.a.request(e,n).done((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t._getError(e),o=t._getWarning(e);return r(o?t._warning(o):n?t._error(n):t._ok)})).fail((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t._getError(e);return r(n?t._error(n):t._ok)}))})),Z(this,"login",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.form,r=void 0===n?{}:n,o=r.values,i=void 0===o?{}:o,a=i.login;return new Promise((function(n){if(a){var r=Object.assign({},t._getDefaultRequestParams(e),{login:a});return t._request("login",r,n)}return n(t._ok)}))})),Z(this,"password",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=n.validationTrack,o=e.form,i=void 0===o?{}:o,a=i.values,c=void 0===a?{}:a,u=c.phone,s=c.login,l=c.password;return new Promise((function(n){if(l){var o=Object.assign({},t._getDefaultRequestParams(e,r),{password:l,login:s,phone_number:u});return t._request("password",o,n)}return n(t._ok)}))})),Z(this,"password_confirm",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.form,r=void 0===n?{}:n,o=r.values,i=void 0===o?{}:o,a=i.password,c=i.password_confirm;return new Promise((function(e){return e(a&&c&&a!==c?t._error("notequal"):t._ok)}))})),Z(this,"firstname",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.form,r=void 0===n?{}:n,o=r.values,i=void 0===o?{}:o,a=i.firstname;return new Promise((function(n){if(a){var r=Object.assign({},t._getDefaultRequestParams(e),{firstname:a});return t._request("validate-firstname",r,n)}return n(t._ok)}))})),Z(this,"lastname",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.form,r=void 0===n?{}:n,o=r.values,i=void 0===o?{}:o,a=i.lastname;return new Promise((function(n){if(a){var r=Object.assign({},t._getDefaultRequestParams(e),{lastname:a});return t._request("validate-lastname",r,n)}return n(t._ok)}))}))},ee={firstname:"Имя",lastname:"Фамилия",phone:"Номер мобильного телефона",phoneCode:"Введите код",login:"Придумайте логин",password:"Придумайте пароль",password_confirm:"Повторите пароль",eula_accepted:'Я принимаю условия <a href="https://yandex.ru/legal/rules/"  target="_blank">Пользовательского соглашения</a> и даю своё согласие Яндексу на обработку моей персональной информации на условиях, определенных <a href="https://yandex.ru/legal/confidential/" target="_blank">Политикой конфиденциальности</a>.'},te={default:"text",eula_accepted:"checkbox",phone:"tel"},ne={FIRSTNAME:"firstname",LASTNAME:"lastname",PHONE:"phone",PHONE_CODE:"phoneCode",LOGIN:"login",PASSWORD:"password",PASSWORD_CONFIRM:"password_confirm",EULA_ACCEPTED:"eula_accepted",EMAIL:"email",EMAIL_CODE:"email_code",CAPTCHA:"captcha"};function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.label,r=t.name,o=e.am,i=void 0===o?{}:o;return i.isAm&&"phonish"===i.mode&&r===ne.PHONE?"Мобильный телефон":n||ee[r]}var oe={updateValues:o.P,updateErrors:o.M,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return function(n,r){return $[e]&&$[e](r(),t)||Promise.resolve()}},setPasswordWeight:o.I},ie=Object(r.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.value,r=t.name,o=t.type,i=t.error,a=e.form,c=void 0===a?{}:a,u=e.am,s=void 0===u?{}:u,l=c.values,f=void 0===l?{}:l,d=c.errors,p=void 0===d?{}:d;return{isValueForced:t.hasOwnProperty("value"),isErrorForced:t.hasOwnProperty("error"),value:t.hasOwnProperty("value")?n||"":f[r]||"",error:t.hasOwnProperty("error")?i:p[r],label:re(e,t),type:o||te[r],isAm:s.isAm}}),oe,null,{forwardRef:!0})(Q)},AeLhLclXWlGhw6c78Mpd:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("eFeAaZwgvdSTBhzajFL3");function o(){return function(e,t){var n=t(),o=n.auth,i=o.processedAccount,a=o.defaultAccount,c=n.common,u=c.authUrl,s=c.currentUrl,l=i||a,f=u.split("?")[0],d=[];l&&d.push("login=".concat(encodeURIComponent(l.login))),s&&d.push("retpath=".concat(encodeURIComponent(s))),0!==d.length&&(f+="?".concat(d.join("&"))),e(Object(r.a)(f))}}},"B/+x7wOHvlrE/6Q4CYQo":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("6xqEtxIjWYePk0CSapzW"),a=n.n(i),c=n("uNsBkTB0tkTcZcJjw4EW"),u=n("/7x+sA5VmxqtiSS/dQXR"),s=n("kv/l06k4WCWLHTjGJ4i9"),l=n("DHr1ubCehSW52H7eLOYc"),f=n("zCA1aYOCKG0IUip0onJP"),d=n("L1gpSk1I0TUaa+ZBqmWX"),p=n("Al0nbKcKr+PJsE7R9jZc"),h=n("W39nKyql9QrCWmGFj9WV"),m=n("2zaKV18aL3IcCRuQQGTF");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var v=Object(c.compose)(u.a,s.a,l.a,f.a,d.a,p.a,h.a)(m.a),g=function(e){var t=e.size,n=void 0===t?"m":t,r=e.dataT,i=y(e,["size","dataT"]);return o.a.createElement(v,b({view:"default",size:n,"data-t":r?"spin:".concat(r):"spin"},i))};g.propTypes={size:a.a.oneOf(["xxs","xs","s","m","l"]),position:a.a.oneOf(["center"]),dataT:a.a.string}},BiY5T7IoWQd4oP5CD4Ck:function(e,t,n){"use strict";n.d(t,"Q",(function(){return r})),n.d(t,"S",(function(){return o})),n.d(t,"R",(function(){return i})),n.d(t,"k",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"D",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"q",(function(){return p})),n.d(t,"p",(function(){return h})),n.d(t,"F",(function(){return m})),n.d(t,"E",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"H",(function(){return v})),n.d(t,"J",(function(){return g})),n.d(t,"K",(function(){return O})),n.d(t,"L",(function(){return _})),n.d(t,"G",(function(){return E})),n.d(t,"M",(function(){return S})),n.d(t,"I",(function(){return w})),n.d(t,"z",(function(){return j})),n.d(t,"A",(function(){return C})),n.d(t,"C",(function(){return R})),n.d(t,"w",(function(){return P})),n.d(t,"B",(function(){return T})),n.d(t,"d",(function(){return k})),n.d(t,"f",(function(){return A})),n.d(t,"P",(function(){return N})),n.d(t,"n",(function(){return I})),n.d(t,"r",(function(){return M})),n.d(t,"O",(function(){return L})),n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return q})),n.d(t,"u",(function(){return U})),n.d(t,"v",(function(){return B})),n.d(t,"s",(function(){return F})),n.d(t,"t",(function(){return H})),n.d(t,"o",(function(){return W})),n.d(t,"N",(function(){return V})),n.d(t,"x",(function(){return Y})),n.d(t,"y",(function(){return z})),n.d(t,"l",(function(){return G})),n.d(t,"ab",(function(){return X})),n.d(t,"Jb",(function(){return Q})),n.d(t,"Y",(function(){return K})),n.d(t,"Lb",(function(){return J})),n.d(t,"Ib",(function(){return Z})),n.d(t,"Mb",(function(){return $})),n.d(t,"Kb",(function(){return ee})),n.d(t,"T",(function(){return te})),n.d(t,"wb",(function(){return ne})),n.d(t,"rb",(function(){return re})),n.d(t,"qb",(function(){return oe})),n.d(t,"ub",(function(){return ie})),n.d(t,"nb",(function(){return ae})),n.d(t,"sb",(function(){return ce})),n.d(t,"U",(function(){return ue})),n.d(t,"xb",(function(){return se})),n.d(t,"cb",(function(){return le})),n.d(t,"V",(function(){return fe})),n.d(t,"X",(function(){return de})),n.d(t,"W",(function(){return pe})),n.d(t,"vb",(function(){return he})),n.d(t,"mb",(function(){return me})),n.d(t,"kb",(function(){return be})),n.d(t,"jb",(function(){return ye})),n.d(t,"lb",(function(){return ve})),n.d(t,"Hb",(function(){return ge})),n.d(t,"tb",(function(){return Oe})),n.d(t,"bb",(function(){return _e})),n.d(t,"fb",(function(){return Ee})),n.d(t,"eb",(function(){return Se})),n.d(t,"zb",(function(){return we})),n.d(t,"yb",(function(){return je})),n.d(t,"Ab",(function(){return Ce})),n.d(t,"Bb",(function(){return Re})),n.d(t,"Fb",(function(){return Pe})),n.d(t,"Eb",(function(){return Te})),n.d(t,"Cb",(function(){return ke})),n.d(t,"Db",(function(){return Ae})),n.d(t,"ib",(function(){return Ne})),n.d(t,"hb",(function(){return Ie})),n.d(t,"db",(function(){return Me})),n.d(t,"gb",(function(){return Le})),n.d(t,"Gb",(function(){return De})),n.d(t,"ob",(function(){return xe})),n.d(t,"pb",(function(){return qe})),n.d(t,"Z",(function(){return Ue}));var r="UPDATE_LOGIN_VALUE",o="UPDATE_PASSWORD_VALUE",i="UPDATE_MAGIC_TOKENS_SUCCESS",a="CHANGE_PROCESSED_ACCOUNT",c="CHANGE_MOBILE_MENU_VISIBILITY",u="CHANGE_MOBILE_MENU_TYPE",s="SET_PROCESSED_ACCOUNT_UID",l="CHANGE_PAGE_POPUP_VISIBILITY",f="CHANGE_PAGE_POPUP_TYPE",d="CHANGE_ACTIVE_ACCOUNT",p="LOGIN_SUGGESTED_ACCOUNT",h="INPUT_LOGIN_SUCCESS",m="SHOW_ACCOUNTS_SUCCESS",b="SHOW_ACCOUNTS_FAIL",y="DOMIK_IS_LOADING",v="SWITCH_TO_MODE_EDIT",g="SWITCH_TO_MODE_RESTORE_LOGIN",O="SWITCH_TO_MODE_RESTORE_LOGIN_PROCESS",_="SWITCH_TO_MODE_RESTORE_LOGIN_RESULT",E="SWITCH_TO_MODE_ADDING_ACCOUNT",S="SWITCH_TO_MODE_WELCOME",w="SWITCH_TO_MODE_MAGIC",j="SET_LOGIN_ERROR",C="SET_LOGIN_IS_ABLE_TO_RESTORE",R="SET_PASSWORD_ERROR",P="SET_CAPTCHA_ERROR",T="SET_MAGIC_ERROR",k="CAN_REGISTER",A="CHANGE_CAPTCHA_STATE",N="UPDATE_CAPTCHA_VALUE",I="FORCE_OTP_METHOD",M="SETUP_MODE",L="TOGGLE_MAIL_SENT_TOOLTIP",D="AUTH_MAIL_SENT",x="AUTH_MAIL_CONFIRMED",q="AUTH_MAIL_CANCELLED",U="SET_AUTH_MAIL_ERROR",B="SET_AUTH_MAIL_UPDATED",F="SET_AUTH_MAIL_DISABLED",H="SET_AUTH_MAIL_ENABLED",W="INIT_ADDITIONAL_DATA_REQUEST",V="[AUTH] TOGGLE_CONTEXT_MENU_VISIBILITY",Y="[AUTH] SET_CONTEXT_MENU_ANCHOR",z="[AUTH] SET_CONTEXT_MENU_TYPE",G="[AUTH] CLEAR_CONTEXT_MENU_STATE";function X(e){return{type:y,loading:e}}function Q(e){return{type:r,value:e}}function K(e){return{type:a,account:e}}function J(e){return{type:o,value:e}}function Z(e){return{type:N,value:e}}function $(e,t){return{type:"UPDATE_TOKENS_SUCCESS",track_id:e,csrf_token:t}}function ee(e,t){return{type:i,track:e,csrf:t}}function te(e){var t=e.isCanRegister,n=e.registrationLogin,r=e.registrationType,o=e.registrationPhoneNumber,i=e.registrationCountry;return{type:k,isCanRegister:t,registrationLogin:n,registrationType:r,registrationPhoneNumber:o,registrationCountry:i}}function ne(e){return{type:"SETUP_BACK_PANE",pane:e}}function re(e){return{type:j,error:e}}function oe(e){return{type:C,isAbleToRestore:e}}function ie(e){return{type:R,error:e}}function ae(e){return{type:P,error:e}}function ce(e){return{type:T,error:e}}function ue(e){return{type:A,isCaptchaRequired:e}}function se(e){return{type:M,mode:e}}function le(e){return{type:I,isForceOTP:e}}function fe(e){return{type:c,visible:e}}function de(e){return{type:l,visible:e}}function pe(e){return{type:f,pagePopupType:e}}function he(e){return{type:s,processedAccountUid:e}}function me(e){return{type:D,code:e}}function be(e){return{type:x,retpath:e}}function ye(e){return{type:q,status:e}}function ve(e){return{type:U,error:e}}function ge(e){return{type:B,isUpdated:e}}function Oe(){return{type:F}}function _e(){return{type:H}}function Ee(e){return{type:p,account:e}}function Se(e){return{type:h,inputLogin:e}}function we(e){return{type:m,accounts:e}}function je(e){return{type:b,errors:e}}function Ce(){return{type:E}}function Re(e){return{type:w,isFromLoginSuggest:e}}function Pe(){return{type:S}}function Te(){return{type:g}}function ke(){return{type:O}}function Ae(){return{type:_}}function Ne(){return{type:"REDIRECT_TO_RETPATH"}}function Ie(){return{type:"REDIRECT_TO_BACKPATH"}}function Me(e){return{type:W,payload:e}}function Le(e){var t=document.createElement("form"),n=document.createElement("input");t.method="GET",t.action="/redirect",n.value=e,n.name="url",t.appendChild(n),document.body.appendChild(t),t.submit(),t.parentNode.removeChild(t)}var De=function(e){return{type:V,payload:e}},xe=function(e){return{type:Y,payload:e}},qe=function(e){return{type:z,payload:e}},Ue=function(){return{type:G}}},C5copWHEZLqYOtOxYHav:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return s}));var r=n("8on1HivGWKFpo5zlabzv"),o=n.n(r),i=n("koIp2P181fHTfc4gFYRx");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.am,n=void 0===t?{}:t;if(n.isAm&&n.clearUrlParams){var r=o.a.parse(location.search.replace(/^\?/,""));return delete r.app_platform,delete r.app_id,delete r.app_version_name,delete r.am_version_name,delete r.scheme,delete r.theme,delete r.lang,delete r.locale,delete r.source,delete r.mode,delete r.reg_type,"?".concat(o.a.stringify(r))}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.am.platform!==i.d.IOS||window.webkit?e.am.platform!==i.d.ANDROID||window.nativeAMAndroid||(window.nativeAMAndroid={send:function(){}}):window.webkit={messageHandlers:{nativeAM:{postMessage:function(){}}}}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.am,n=void 0===t?{}:t,r=n.experiments,o=void 0===r?{}:r;return n.isAm&&o.reg_call_confirm_on}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.am,n=void 0===t?{}:t;return n.isAm&&!u(e)}},ChNA47itMhrlI5HSOuk4:function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=function(e){var t=e.cls,n=void 0===t?"":t,r=e.children,i=e.dataT;return o.a.createElement("div",{"data-t":i?"page:".concat(i):"page",className:"passp-auth-screen passp-".concat(n,"-page")},r)};c.propTypes={cls:a.a.string,dataT:a.a.string,children:a.a.node.isRequired},t.a=c},Cn0bb7dlXdz9iLHfBkZ3:function(e,t,n){"use strict";var r=n("N6N5KCDRlmBrE6N3/28a"),o=n.n(r);function i(e){return{type:"SHOW_REQUEST_PASSWORD",show:e}}function a(e){return{type:"SHOW_REQUEST_CAPTCHA",show:e}}var c,u=n("qyhOylcYgz7sofzu7jFu"),s=n("QgjbgVDbzfInN/CjWaXi"),l=n("icG+8Jgv+BJiTL/fPTrX"),f=n("O5/wDFcDcr7psfl422DM");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a={init:function(e){c=e},request:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=new $.Deferred;return o.a.api.request(e,n,r).done((function(n){return"error"!==n.status?s.resolve(n):(Array.isArray(n.errors)&&(n.errors.find((function(e){return"password.required"===e}))&&c.dispatch(i(!0)),n.errors.find((function(e){return"captcha.required"===e}))&&"/profile/password/submit"!==e&&c.dispatch(a(!0)),n.errors.find((function(e){return"sessionid.invalid"===e}))&&c.dispatch(Object(u.r)()),n.errors.find((function(e){return"track.not_found"===e||"track_id.invalid"===e}))&&t.getTrackWithUid()),s.reject(n))})).fail((function(e){var t={status:"error",errors:[]};return 403===e.status?t.errors.push("csrf_token.invalid"):t.errors.push("internal"),c.dispatch(Object(u.q)(t)),s.reject(t)})),s.promise()},log:function(e,t){o.a.api.log(e,t)},getTrackWithUid:function(){var e=c.getState().common,t=e.csrf,n=e.actionForRepeat||{},r=n.action,o=n.payload;c.dispatch({type:u.d}),this.request("getTrackWithUid",{csrf_token:t}).done((function(e){c.dispatch({type:u.f,track_id:e.track_id}),r&&c.dispatch(r.apply(void 0,p(o)))})).fail((function(e){c.dispatch({type:u.e,res:e})}))},getTrack:function(e){var t=this,n=e.trackId,r=e.type;return new Promise((function(e){t.request("track",{type:r,track_id:n}).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;c.dispatch(Object(s.e)({id:n,type:r})),e(t)})).fail(e)}))},setCsrfToken:function(e){o.a.api.setCsrfToken(e)},validatePhone:function(e){var t=this,n={track_id:e.trackId,phone_number:e.phone,validate_for_call:!0};return new Promise((function(e){t.request("validate-phone",n).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.valid_for_call,r=t.valid_for_flash_call;e({isPhoneValidForCall:n,isPhoneValidForFlashCall:r})})).fail(e)}))},requestPhoneConfirmationCode:function(e){var t=this,n={track_id:e.trackId,display_language:e.language,number:e.phone,confirm_method:e.phoneConfirmMethod,mode:e.mode,gps_package_name:e.gpsPackageName};return new Promise((function(e,r){t.request("phone-confirm-code-submit",n).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.deny_resend_until,r=t.calling_number_template,o=t.number,i=(o=void 0===o?{}:o).international,a=o.masked_international;e({denyResendUntil:n,callingNumberTemplate:r,phone:a,internationalPhoneNumber:i})})).fail(r)}))},checkPhoneConfirmationStatus:function(e){var t=this,n=e.trackId,r=e.phoneConfirmMethod;return new Promise((function(e,o){["by_flash_call","by_call"].includes(r)&&function i(){return setTimeout((function(){t.request("confirm-phone-check-status",{track_id:n}).then().fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,a=void 0===n?[]:n,c=a[0]||"call_confirm.failed",u=["call_confirm.not_ready"].includes(c),s=["call_confirm.in_progress","call_confirm.finished","call_confirm.started"].includes(c),l=["call_confirm.failed","call_confirm.user_unavailable"].includes(c);if(["by_flash_call","by_call"].includes(r)&&"track.invalid_state"!==c&&("by_flash_call"!==r||"call_confirm.user_hangup"!==c))return u?i():s?e():o(l?{code:"check_phone"}:{code:c})}))}),500)}()}))},checkPhoneConfirmationCode:function(e){var t=this,n=e.trackId,r=e.code,o=e.mode,i=e.password;return new Promise((function(e,a){t.request("phone-confirm-code",{track_id:n,code:r,password:i,mode:o}).done(e).fail(a)}))},findAccountsByNameAndPhone:function(e){var t=this,n=e.trackId,r=e.firstname,o=e.lastname,i=e.allowNeophonish;return new Promise((function(e,a){t.request("find-accounts-by-name-and-phone",{allow_neophonish:i,track_id:n,firstname:r,lastname:o}).done(e).fail(a)}))},getSuggestedLogins:function(e){var t=this,n={track_id:e.trackId,firstname:e.firstname,lastname:e.lastname,login:e.login,timeout:2e3};return new Promise((function(e,r){n.firstname.trim()&&n.lastname.trim()||e([]),t.request("suggestV2",n).done(e).fail(r)}))},registrationSubmit:function(){var e=this;return new Promise((function(t){e.request("registration-submit").done((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id;c.dispatch(Object(s.e)({id:n,type:s.b.REGISTER})),t(e)})).fail(t)}))},multiStepCommitSMSCode:function(e){var t=this,n=e.trackId,r=e.login,o=e.retpath;return new Promise((function(e,i){t.request("multi-step-commit-sms-code",{track_id:n,login:r,retpath:o}).done(e).fail(i)}))},checkJSLoad:function(e){var t=e.trackId,n=e.language;this.request("checkjsload",{track_id:t,language:n})},writeStatbox:function(e){var t=c.getState(),n=t.common,r=void 0===n?{}:n,i=r.experiments,a=void 0===i?{}:i,u=r.retpath,s=r.origin,p=r.from,h=a.flagsString,m=a.boxes,b=(void 0!==("undefined"==typeof window?"undefined":d(window))?location:{}).pathname,y=Object.assign({experiment_flags:h,experiment_boxes:m&&m.join(";"),is_mobile:"".concat(Object(l.l)(t)),pathname:b,url:b,retpath:u&&encodeURI(u),uid:Object(l.i)(t),process_uuid:Object(l.e)(t),origin:s&&encodeURIComponent(s),from:p&&encodeURIComponent(p),login:Object(f.g)("login")},e);o.a.api.log(y,{encrypt:!0})},getAccounts:function(e){var t=this,n=e.trackId;return new Promise((function(e,r){t.request("auth/accounts",{track_id:n}).done(e).fail(r)}))},askAdditionalData:function(e){var t=this,n=e.uid;return new Promise((function(e,r){t.request("auth/additional_data/ask_v2",{uid:n}).done(e).fail(r)}))},updateCsrfToken:function(){var e=this;return new Promise((function(t,n){e.request("update-csrf").done((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.updatedCSRF;r&&(e.setCsrfToken(r),c.dispatch(Object(u.z)(r))),t(n)})).fail(n)}))},userEntryFlowSubmit:function(){var e=this;return new Promise((function(t,n){var r=c.getState(),o=r.common,i=void 0===o?{}:o,a=r.am,u=void 0===a?{}:a,l=i.track_id,f=u.isAm,d=u.appId;e.request("user-entry-flow-submit",{track_id:l,isAm:f,appId:d}).done((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id;c.dispatch(Object(s.e)({id:n,type:s.b.REGISTER})),t(e)})).fail(n)}))},neoPhonishAuth:function(e){var t=this,n=e.trackId,r=e.firstname,o=e.lastname,i=e.uid,a=e.retpath;return new Promise((function(e){t.request("neo-phonish-auth",{track_id:n,firstname:r,lastname:o,uid:i,retpath:a}).done(e).fail(e)}))},getRegisterLiteState:function(e){var t=this,n=e.trackId,r=e.language;return c.dispatch(Object(s.e)({id:n,type:s.b.REGISTER})),new Promise((function(e,o){t.request("registration-lite-experiment.submit",{track_id:n,language:r}).done(e).fail(o)}))},registerLite:function(e){var t=this;return new Promise((function(n,r){t.request("registration-lite-experiment.commit",e).done(n).fail(r)}))},registerSocial:function(e){var t=this;return new Promise((function(n,r){t.request("registration-social",e).done(n).fail(r)}))},socialAuthCallback:function(){var e=this;return new Promise((function(t,n){e.request("callback-social").done(t).fail(n)}))}}},D09eTY86q7aNYLpzjPgP:function(e,t,n){},DNml7VDdSAs10Z4giKjv:function(e,t,n){"use strict";var r=n("j507Ne3irpF5r6q7cCCJ");n.d(t,"a",(function(){return r.a}))},DOzIZWxyPE8mXIszZyNM:function(e,t,n){},Db8k1RqUCnQiRwxiZqsf:function(e,t,n){},DoQaHn2w4kPN7lMBHsaC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2zFAvgXZRXm915c1LW+m"),o={"phone.missingvalue":"Пожалуйста, укажите номер телефона","email.missingvalue":"Пожалуйста, укажите ваш email","email.challenge.not_passed":"Указан неправильный адрес ящика. Возможно, вы допустили опечатку.","phone.challenge.not_passed":"Указан неправильный номер телефона. Возможно, вы допустили опечатку.","challenge.not_passed":"Неправильный код, попробуйте ещё раз"},i=n("Sv+DydT6rKBct5kRKGVV");function a(e){return function(t,n){var o=n(),i=o.common,a=i.retpath,u=i.track_id,s=o.challenge,l=s.challengeType,f=s.isStandAloneChallenge;"phone.confirmed"!==e?!function(e){return["track_id.empty","track_id.invalid","track.not_found","unknowntrack","track.invalid_state","action.impossible","challenge.not_enabled","account.not_found","account.disabled","account.disabled_on_deletion","account.global_logout","sessionid.overflow","account.global_logout"].includes(e)}(e)?"account.auth_passed"!==e?(l||"challenge.limit_exceeded"===e)&&t(Object(r.f)({code:e,text:c(e,l)})):window.location.href=a:window.location.href=f?a:"/auth?track_id=".concat(u):location.href="/profile".concat(location.search)}}function c(e,t){var n=Object.assign({},o,i.a);return("phone_confirmation"===t?n[e]:n["".concat(t,".").concat(e)])||"Что-то пошло не так. Попробуйте обновить страницу"}},"DykVKCzoc0ACbI/E+LI/":function(e,t,n){"use strict";n.d(t,"n",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"j",(function(){return v})),n.d(t,"l",(function(){return g})),n.d(t,"a",(function(){return O})),n.d(t,"k",(function(){return _})),n.d(t,"f",(function(){return E})),n.d(t,"i",(function(){return S})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return j})),n.d(t,"e",(function(){return C})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return P})),n.d(t,"b",(function(){return T})),n.d(t,"w",(function(){return k})),n.d(t,"x",(function(){return A})),n.d(t,"u",(function(){return N})),n.d(t,"v",(function(){return I})),n.d(t,"t",(function(){return L})),n.d(t,"A",(function(){return D})),n.d(t,"z",(function(){return x})),n.d(t,"o",(function(){return q})),n.d(t,"s",(function(){return U})),n.d(t,"r",(function(){return F})),n.d(t,"y",(function(){return H})),n.d(t,"p",(function(){return W})),n.d(t,"q",(function(){return V}));var r=n("BiY5T7IoWQd4oP5CD4Ck"),o=n("gW+kGIULm/gsAM1O/w51"),i=n("F0RLjjE+ZbZkCivh5+sy"),a=n("Yp2QB2jYYmLrYZQDlfoW"),c=n("icG+8Jgv+BJiTL/fPTrX"),u=n("JLFc6U7sd0PMI6Bh60mb"),s=n("O5/wDFcDcr7psfl422DM"),l=n("W3MgEIO55ELSFhldjoS/"),f=n("Cn0bb7dlXdz9iLHfBkZ3"),d=n("koIp2P181fHTfc4gFYRx"),p=n("fi7sVlHuU93LEbukopgn"),h={phoneConfirm:"success"},m={phoneConfirm:"error"},b="UPDATE_PHONE_CONFIRM_NUMBER",y="UPDATE_PHONE_CONFIRM_CODE",v="SET_PHONE_CONFIRM_ERRORS",g="SET_PHONE_CONFIRM_TIMER",O="CLEAR_SECURE_PHONE_NUMBER",_="SET_PHONE_CONFIRM_METHOD",E="SET_PHONE_CONFIRMATION_CALLING_NUMBER_TEMPLATE",S="SET_PHONE_CONFIRMATION_PHONE_CHECK_STATE",w="SET_SIGN_UP_PHONE_CONFIRMATION_DENY_RESEND_UNTIL",j="SET_PHONE_CONFIRMATION_INTERNATIONAL_PHONE_NUMBER",C="SET_PHONE_CODE_TIMER",R="SET_CONFIRM_PROCESS_STATE",P="[PHONE_CONFIRM] SET_IS_PASSWORD_REQUIRED",T="[PHONE_CONFIRM] SET_CAPTCHA_REQUIRED",k=function(e){return function(t){return t({type:w,payload:{denyResendUntil:e}})}},A=function(e){return{type:j,payload:{internationalPhoneNumber:e}}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"by_sms";return function(t){return t({type:_,payload:{phoneConfirmMethod:e}})}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:E,payload:{callingNumberTemplate:e}})}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return t({type:S,payload:{shouldCheckPhone:e}})}},L=function(e){return function(t){return t({type:v,payload:{errors:e}})}},D=function(e){return function(t){return t({type:b,payload:{phoneNumber:e}})}},x=function(e){return function(t){return t({type:y,payload:{confirmationCode:e}})}},q=function(){return function(e){return e({type:O})}},U=function(e){return function(t){return t({type:R,payload:{isConfirmProcess:e}})}},B=function(e){return function(t){return t({type:T,payload:{isCaptchaRequired:e}})}},F=function(){return function(e,t){var n=t(),i=n.phoneConfirm,a=void 0===i?{}:i,c=n.settings,u=void 0===c?{}:c,s=n.common,l=void 0===s?{}:s,d=a.phoneNumber,p=a.securePhoneNumber,h=a.isSecurePhoneMode,m=a.isConfirmProcess,b=m?p:d,y=l.track_id,v=l.csrf,O=h&&!m?"phone/confirm_and_bind_secure/submit_v2":"phone/bind_simple_or_confirm_bound/submit";if(b&&b.trim()){var _={number:b,track_id:y,csrf_token:v,display_language:u.lang};e(L([])),e(Object(r.ab)(!0)),f.a.request(O,_).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(r.ab)(!1)),e(Object(r.X)(!0)),e(Object(r.W)("phoneConfirmation")),e({type:g}),e({type:P,payload:{isPasswordRequired:t.isPasswordRequired}})})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors;n.includes("phone.confirmed")||n.includes("phone_secure.bound_and_confirmed")?e(Object(o.a)()):(e(L(n)),e(Object(r.ab)(!1)))}))}else e(L(["number.empty"]))}},H=function(){return function(e,t){var n=t(),l=n.phoneConfirm,d=void 0===l?{}:l,p=n.common,b=void 0===p?{}:p,y=d.confirmationCode,v=d.isSecurePhoneMode,g=d.isConfirmProcess,O=d.isPasswordRequired,_=d.isCaptchaRequired,E=b.retpath,S=b.track_id,w=b.csrf,j=Object(c.c)(n),C=v&&!g?"phone/confirm_and_bind_secure/commit_v2":"phone/bind_simple_or_confirm_bound/commit",R=!1;y&&y.trim()||(e(L(["code.empty"])),R=!0);var P={code:y,track_id:S,csrf_token:w};if(O&&(j.password||(e(Object(a.M)({field:u.a.PASSWORD,error:Object(s.e)(u.a.PASSWORD,"missingvalue_current")})),R=!0),P.password=j.password),R)e(Object(r.ab)(!1));else{e(L([])),e(Object(r.ab)(!0));var T=function(){return f.a.request(C,P).done((function(){Object(s.m)(h,E),e(Object(o.a)())})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,i=void 0===n?[]:n;if(i.includes("phone.confirmed")||i.includes("phone_secure.bound_and_confirmed"))e(Object(o.a)());else{var c=[];i.forEach((function(t){var n=t.startsWith("password"),r="captcha.required"===t;n||r||c.push(t),n&&e(Object(a.M)({field:u.a.PASSWORD,error:Object(s.e)(u.a.PASSWORD,t)})),r&&e(B(!0))})),c.length&&e(L(c)),e(Object(r.ab)(!1)),Object(s.m)(m,E)}}))};if(_)return e(Object(i.a)({callback:T,action:B,actionArguments:[!1]}));T()}}},W=function(e){var t=e.dispatch,n=e.getState,r=e.phoneValidateParams,o=void 0===r?{}:r,i=e.trackId,h=n(),m=h.am,b=void 0===m?{}:m,y=Object(c.c)(h),v=Object(c.d)(h),g=y.phone,O=o.isPhoneValidForCall,_=o.isPhoneValidForFlashCall?"by_flash_call":O?"by_call":"by_sms",E=i||Object(c.h)(h,"register");t(M(!1)),t(Object(a.M)({field:u.a.PHONE,error:{}})),t(Object(a.M)({field:u.a.PHONE_CODE,error:{}})),t(N(_));var S={trackId:E,language:v,phone:g,phoneConfirmMethod:_};return b.isAm&&b.platform===d.d.ANDROID&&(S.gpsPackageName=b.appId),new Promise((function(e,n){return f.a.requestPhoneConfirmationCode(S).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.denyResendUntil,o=void 0===r?Object(s.h)(30):r,i=n.callingNumberTemplate,c=n.internationalPhoneNumber;t(k(o)),t(I(i)),t(A(c)),t(Object(p.d)()),f.a.checkPhoneConfirmationStatus({trackId:E,phoneConfirmMethod:_}).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.code;if("check_phone"===n)return t(M(!0));t(Object(a.M)({field:u.a.PHONE_CODE,error:Object(s.e)(u.a.PHONE_CODE,n)})),l.a.send("Показ ошибки поля phoneCode: ".concat(n))})),e(n)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.errors&&e.errors[0];"captcha.not_checked"!==r&&(t(Object(a.M)({field:u.a.PHONE,error:Object(s.e)(u.a.PHONE,r)})),t(Object(a.M)({field:u.a.PHONE_CODE,error:Object(s.e)(u.a.PHONE,r)})),l.a.send("Показ ошибки поля phone: ".concat(r)),l.a.send("Показ ошибки поля phoneCode: ".concat(r))),n(e)}))}))},V=function(e){return function(t,n){W({dispatch:t,getState:n,trackId:e})}}},"E7tECPK7daWDXj1IZwt+":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=n("a4EMkKqamYWCMMPV7UeQ"),i=n.n(o),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("AFgMZ7oQJHD2/+zDS46y"),l=n("JLFc6U7sd0PMI6Bh60mb");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object(u.cn)("Password"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o=y(a);function a(){var e;h(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(g(e=o.call.apply(o,[this].concat(n))),"ref",i.a.createRef()),_(g(e),"toggleVisibility",(function(){(0,e.props.togglePasswordVisibilityState)()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.skipFocus||this.ref.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.view,r=p(e,["type","view"]),o="password"===t?"Показать текст пароля":"Скрыть текст пароля";return i.a.createElement(s.b,d({size:"l",ref:this.ref,view:n,type:t,iconRight:i.a.createElement("button",{className:E("toggler",{visible:"text"===t,view:n}),tabIndex:"2",type:"button",title:o,"aria-label":o,onClick:this.toggleVisibility})},r))}}])&&m(t.prototype,n),r&&m(t,r),a}(i.a.PureComponent);_(S,"defaultProps",{type:"password",name:l.a.PASSWORD,label:"Придумайте пароль",hasToggler:!0,options:{autoCorrect:"off",autoCapitalize:"off",autoComplete:"new-password"}}),S.propTypes={type:c.a.string,name:c.a.string,label:c.a.string,placeholder:c.a.string,passwordWeight:c.a.string,hideLabel:c.a.bool,shouldValidate:c.a.bool,togglePasswordVisibilityState:c.a.func.isRequired,options:c.a.shape({autoCorrect:c.a.string,autoCapitalize:c.a.string,autoComplete:c.a.string}),hasToggler:c.a.bool,skipFocus:c.a.bool,view:c.a.string,validationTrack:c.a.string};var w={togglePasswordVisibilityState:n("Yp2QB2jYYmLrYZQDlfoW").K},j=Object(r.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.form,n=void 0===t?{}:t,r=n.isPasswordVisible,o=n.passwordWeight,i=n.errors,a=void 0===i?{}:i,c=n.values,u=void 0===c?{}:c,s=a.password,l=s.errorDescription,f=s.warning;return{type:r?"text":"password",password:u.password,passwordWeight:o,errorDescription:l,warning:f}}),w)(S)},"E9IGm0Yn7bS+QmLsuwLk":function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=n("a4EMkKqamYWCMMPV7UeQ"),i=n.n(o),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("DNml7VDdSAs10Z4giKjv"),s=n("ysMlxi1yQ/4ftbKMQCqh"),l=n("30SY6zyJjGxELFqjE9vf"),f=n("AFgMZ7oQJHD2/+zDS46y"),d=n("JLFc6U7sd0PMI6Bh60mb"),p=n("WiYX8/zkxBCHx90Q2RVM"),h=n("O5/wDFcDcr7psfl422DM"),m=n("Hotb6bLBAZw9GrEYBPZD"),b=n("W3MgEIO55ELSFhldjoS/");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=Object(h.a)("PhoneConfirmationCode"),T=/[0-9]/,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,n,r,o=S(a);function a(){var e;O(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(j(e=o.call.apply(o,[this].concat(n))),"state",{currentTimestamp:Object(h.h)(),code:[]}),R(j(e),"ref",i.a.createRef()),R(j(e),"_timerInterval",null),R(j(e),"_updateTimestamp",(function(){return e.setState({currentTimestamp:Object(h.h)()})})),R(j(e),"_startTimer",(function(){var t=e.props.denyResendUntil;t&&(e._timerInterval=setInterval((function(){e._updateTimestamp(),Object(h.h)()>=Number(t)&&e._stopTimer()}),1e3))})),R(j(e),"_stopTimer",(function(){e._timerInterval&&(clearInterval(e._timerInterval),e._timerInterval=null)})),R(j(e),"_getCodeLength",(function(){return"by_flash_call"===e.props.confirmMethod?4:6})),R(j(e),"_getSendSMSButtonText",(function(t){var n=e.props,r=n.confirmMethod,o=n.denyResendUntil,a=e.state.currentTimestamp,c=["by_flash_call","by_call"].includes(r)?"Выслать СМС":"Отправить ещё код";return t?i.a.createElement(i.a.Fragment,null,c,"  ",i.a.createElement(p.a,{startTime:a,endTime:Number(o),isUnixTimeStamp:!0})):c})),R(j(e),"_getTitle",(function(){var t=e.props,n=t.confirmMethod,r=t.phone;if(t.shouldCheckPhone)return"Мы не смогли до вас дозвониться. Проверьте ваш номер телефона";switch(n){case"by_flash_call":return"Звоним вам… введите последние четыре цифры номера, с которого поступит звонок";case"by_call":return"Звоним вам… пожалуйста, введите ниже код, который мы назовём";default:return"Введите код из смс. Мы отправили его на номер <span>"+r+"</span>"}})),R(j(e),"_retryToRequestPhoneConfirmationCode",(function(){var t=e.props.onRetry;e._clearCode(),b.a.send("Отправка СМС"),t()})),R(j(e),"_clearCode",(function(){e.setState({code:[]});var t=document.querySelectorAll(".".concat(P("input")));(t&&t.length?Array.prototype.slice.call(t):[]).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.value=""})),e.ref.current&&e.ref.current.focus()})),R(j(e),"clearErrors",(function(){var t=e.props,n=t.name;(0,t.updateErrors)({field:n,error:{}})})),R(j(e),"getButtonSize",(function(){return e.props.place===m.a?"xm":"l"})),R(j(e),"getFieldView",(function(){return e.props.place===m.a?"one-border":"floating-label"})),R(j(e),"getFieldSize",(function(){return e.props.place===m.a?"m":"l"})),R(j(e),"_renderControls",(function(){var t=e.state.currentTimestamp,n=e.props,r=n.denyResendUntil,o=n.shouldCheckPhone,a=n.goBack,c=n.onConfirm,s=n.loading,l=t<Number(r);return i.a.createElement("div",{className:P("controls")},o?i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{onClick:a,text:"Исправить номер",view:"default",type:"button",size:e.getButtonSize(),disabled:s,width:"max",dataT:"go-back"}),i.a.createElement(u.a,{onClick:e._retryToRequestPhoneConfirmationCode,text:"Да, номер правильный",type:"button",size:e.getButtonSize(),disabled:s,width:"max",dataT:"retry-to-request-code"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{text:"Далее",onClick:c,size:e.getButtonSize(),type:"button",disabled:e._isDisabled()||s,width:"max"}),i.a.createElement(u.a,{onClick:e._retryToRequestPhoneConfirmationCode,view:"default",type:"button",disabled:l||s,size:e.getButtonSize(),width:"max",dataT:"retry-to-request-code"},e._getSendSMSButtonText(l))))})),R(j(e),"_focusNextInput",(function(e){var t;e>=0&&(t=document.getElementById("code-symbol-".concat(e))),t&&t.focus()})),R(j(e),"_onKeyDown",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=e.state.code,o=t.target,i=t.key,a=n-1;o&&(T.test(i)||"Backspace"===i?"Backspace"===i&&(r[n]="",e.setState({code:r}),n===e._getCodeLength()-1&&o.value||e._focusNextInput(a)):t.preventDefault())})),R(j(e),"_onChange",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;t.preventDefault();var r=e.props,o=r.onConfirm,i=r.name,a=r.updateValues,c=e.state.code,u=t.target,s=u.value,l=n+1;if(u&&(e.clearErrors(),T.test(s))){c[n]=s,e.setState({code:c}),e._focusNextInput(l);var f=c.join("");f.length===e._getCodeLength()&&(b.a.send("Введен код подтверждения телефона"),a({field:i,value:f}),o())}})),R(j(e),"onFieldChange",(function(){var t=e.props,n=t.onConfirm;t.code.length===e._getCodeLength()&&(b.a.send("Введен код подтверждения телефона"),n())})),R(j(e),"_isDisabled",(function(){var t=e.props.error;return e.state.code.join("").length===e._getCodeLength()&&!t})),R(j(e),"_getInputs",(function(){var t=e.props,n=t.error,r=t.confirmMethod,o=t.isMobile,a=t.place;return i.a.createElement("div",{className:P("inputs",{"inputs-long":e._getCodeLength()%3==0}),"data-t":"phone-confirmation-code"},v(Array(e._getCodeLength())).map((function(t,c){return i.a.createElement("input",{key:"code-symbol-".concat(r,"-").concat(c),ref:0===c?e.ref:null,id:"code-symbol-".concat(c),className:P("input",{"input-error":!!n,"input-size-l":a!==m.a}),onKeyDown:function(t){return e._onKeyDown(t,c)},onChange:function(t){return e._onChange(t,c)},maxLength:"1",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",type:o?"number":"text",disabled:e._isDisabled(),inputMode:o?"numeric":"text"})})))})),R(j(e),"_maybeRenderError",(function(){var t=e.props.error;return t?i.a.createElement("div",{className:P("error"),dangerouslySetInnerHTML:{__html:t}}):null})),R(j(e),"_maybeRenderPhonePrefix",(function(){var t=e.props,n=t.confirmMethod,r=t.callingNumberTemplate,o=t.place;return"by_flash_call"!==n?null:i.a.createElement("div",{className:P("phone-prefix",{"phone-prefix-weight":o===m.a&&"bold"})},Object(h.k)(r))})),R(j(e),"_maybeRenderForm",(function(){var t=e.props,n=t.shouldCheckPhone,r=t.confirmMethod,o=t.isMobile,a=t.place;return n?null:"by_flash_call"!==r?i.a.createElement(f.b,{name:d.a.PHONE_CODE,view:e.getFieldView(),size:e.getFieldSize(),disabled:e._isDisabled(),maxLength:e._getCodeLength(),onKeyUp:e.onFieldChange,options:{autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",inputMode:o?"numeric":"text"},type:o?"number":"text",ref:e.ref}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:P("code",{confirmMethod:r,"code-size-l":a!==m.a})},e._maybeRenderPhonePrefix(),e._getInputs()),e._maybeRenderError())})),R(j(e),"_maybeRenderPhoneForCheck",(function(){var t=e.props,n=t.shouldCheckPhone,r=t.phone;return n?i.a.createElement("div",{className:P("check-phone")},r):null})),R(j(e),"_goBack",(function(){var t=e.props,n=t.goBack,r=t.setPhoneConfirmMethod;n(),r("by_sms")})),R(j(e),"_maybeRenderBackButton",(function(){var t=e.props,n=t.goBack,r=t.shouldCheckPhone,o=t.place;return!n||r||o!==m.a?null:i.a.createElement("div",{className:P("back-button")},i.a.createElement(l.a,{onClick:e._goBack,place:o}))})),R(j(e),"_maybeRenderHead",(function(){return"change-password"!==e.props.place?i.a.createElement("div",{className:P("head")},e._maybeRenderBackButton(),i.a.createElement(s.a,{size:e.getTitleSize()},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e._getTitle()}}))):null})),R(j(e),"getTitleSize",(function(){if(e.props.place===m.a)return"l"})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props.confirmMethod;this._stopTimer(),this._startTimer(),b.a.send("Показ экрана потдверждения телефона"),b.a.send("Метод подтверждения телефона - ".concat(e)),this.ref.current&&this.ref.current.focus()}},{key:"componentDidUpdate",value:function(e){this.props.denyResendUntil!==e.denyResendUntil&&(this._updateTimestamp(),this._startTimer()),this.props.confirmMethod!==e.confirmMethod&&b.a.send("Метод подтверждения телефона - ".concat(this.props.confirmMethod))}},{key:"componentWillUnmount",value:function(){var e=this.props.updateValues;this.clearErrors(),this._stopTimer(),e({field:d.a.PHONE_CODE,value:""})}},{key:"render",value:function(){var e=this.props,t=e.place,n=e.confirmMethod;return i.a.createElement("div",{className:P("",R({},t,!0))},this._maybeRenderHead(),i.a.createElement("div",{className:P("body",{confirmMethod:n})},this._maybeRenderPhoneForCheck(),this._maybeRenderForm()),this._renderControls())}}])&&_(t.prototype,n),r&&_(t,r),a}(i.a.PureComponent);R(k,"defaultProps",{name:d.a.PHONE_CODE}),k.propTypes={code:c.a.string,name:c.a.string,error:c.a.string,onConfirm:c.a.func,onRetry:c.a.func.isRequired,denyResendUntil:c.a.oneOfType([c.a.number,c.a.string]),phone:c.a.string,callingNumberTemplate:c.a.string,confirmMethod:c.a.oneOf(["by_sms","by_flash_call","by_call"]),updateValues:c.a.func.isRequired,updateErrors:c.a.func.isRequired,goBack:c.a.func,setPhoneConfirmMethod:c.a.func.isRequired,place:c.a.string,shouldCheckPhone:c.a.bool,isMobile:c.a.bool,skipTitle:c.a.bool,loading:c.a.bool};var A=n("Yp2QB2jYYmLrYZQDlfoW"),N=n("DykVKCzoc0ACbI/E+LI/"),I=n("icG+8Jgv+BJiTL/fPTrX"),M=/[^\d]+/g,L={updateValues:A.P,updateErrors:A.M,setPhoneConfirmMethod:N.u},D=Object(r.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.name,r=void 0===n?"phoneCode":n,o=Object(I.c)(e),i=o[f.a.PHONE],a=o[f.a.PHONE_CODE],c=Object(I.b)(e),u=e.phoneConfirm,s=void 0===u?{}:u,l=e.auth,d=void 0===l?{}:l,p=d.loading,m=s.phoneConfirmMethod,b=void 0===m?"by_sms":m,y=s.denyResendUntil,v=s.callingNumberTemplate,g=s.shouldCheckPhone,O=s.internationalPhoneNumber,_=s.phoneNumber,E=_||((O||"").replace(M,"")===i.replace(M,"")?O:Object(h.j)(i));return{phone:E,code:a,denyResendUntil:y,confirmMethod:b,error:c[r]&&c[r].text,callingNumberTemplate:v,shouldCheckPhone:g,isMobile:Object(I.l)(e),loading:p}}),L)(k)},"EIrFe1MwlvRbEPVa+bDM":function(e,t,n){},EnGa9mvY6eOwANLjrgCs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("FUZ6AA4Oce8/2wMDn7Ki"),o=n("7/9pYbQkeaSMYb1NzrDG");function i(e){return function(t,n){var i=n().captcha,a=i.playing,c=i.introSound;a||(t(Object(r.j)(!0)),e?c&&"function"==typeof c.play&&c.play():t(Object(o.a)()))}}},Es9rmdkpPfO71ZhahEM7:function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("LzmKygd9FPlNlMcSJp0Y"),u=Object(c.cn)("PasspAuthForm"),s=function(e){e.preventDefault()},l=function(e){var t=e.children,n=e.onSubmit,r=e.withoutOffset,i=e.method,a=void 0===i?"post":i,c=e.dataT,l=e.action;return o.a.createElement("form",{method:a,onSubmit:n||s,className:u({withoutOffset:r}),"data-t":c?"page:form:".concat(c):"page:form",action:l},t)};l.propTypes={method:a.a.string,dataT:a.a.string,action:a.a.string,children:a.a.node.isRequired,onSubmit:a.a.func,withoutOffset:a.a.bool},t.a=l},"F+XoypME10tU70Tu7EYE":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("6xqEtxIjWYePk0CSapzW"),a=n.n(i),c=n("uNsBkTB0tkTcZcJjw4EW"),u=n("mvAkwK4Wr5ppolAQ+iU3"),s=n("pKjkU8Abv+WTZFMn1i3t"),l=n("6eYBe1H4DRzfso2KwZi1"),f=n("7WEKLDLSkHvWRW5vlvpf"),d=Object(c.withBemMod)(Object(f.b)(),{view:"black"}),p=Object(c.withBemMod)(Object(f.b)(),{mode:"blind"});function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=Object(c.compose)(u.a,d,p)(s.a),C=Object(c.compose)(u.a,d,p,l.a)(s.a),R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,i=O(a);function a(){var e;y(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(E(e=i.call.apply(i,[this].concat(n))),"maybePreventScroll",(function(){var t=e.props,n=t.mode,r=t.visible;"blind"===n&&"undefined"!=typeof window&&(r&&!e.isPreventBinded?e.bindPreventScroll():e.unbindPreventScroll())})),w(E(e),"bindPreventScroll",(function(){if(!e.isPreventBinded){if(void 0===e.wheelOpt){var t=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return t=!0}}))}catch(e){throw e}e.wheelOpt=!!t&&{passive:!1},e.wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel"}window.addEventListener("touchmove",e.preventDefault,e.wheelOpt),window.addEventListener(e.wheelEvent,e.preventDefault,e.wheelOpt),e.isPreventBinded=!0}})),w(E(e),"unbindPreventScroll",(function(){window.removeEventListener("touchmove",e.preventDefault,e.wheelOpt),window.removeEventListener(e.wheelEvent,e.preventDefault,e.wheelOpt),e.isPreventBinded=!1})),w(E(e),"preventDefault",(function(e){e.preventDefault()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.maybePreventScroll()}},{key:"componentDidUpdate",value:function(){this.maybePreventScroll()}},{key:"componentWillUnmount",value:function(){this.unbindPreventScroll()}},{key:"render",value:function(){var e=this.props,t=e.dataT,n=e.view,r=void 0===n?"default":n,i=e.directions,a=e.mode,c=e.visible,u=e.anchor,s=b(e,["dataT","view","directions","mode","visible","anchor"]),l="blind"===a?["bottom-center"]:i,f=u?C:j;return o.a.createElement(f,m({view:r,"data-t":t?"popup:".concat(t):"popup",directions:l,visible:c,mode:a,anchor:u},s))}}])&&v(t.prototype,n),r&&v(t,r),a}(o.a.PureComponent);R.propTypes={view:a.a.oneOf(["default","black","mobile"]),dataT:a.a.string,onClose:a.a.func,mode:a.a.oneOf(["blind",""]),visible:a.a.bool,directions:a.a.array,anchor:a.a.object}},"F0RLjjE+ZbZkCivh5+sy":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("4CLY6EXHBdRASoqLgoNs"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("icG+8Jgv+BJiTL/fPTrX"),c=n("AFgMZ7oQJHD2/+zDS46y"),u=n("Yp2QB2jYYmLrYZQDlfoW"),s=n("O5/wDFcDcr7psfl422DM");function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=e.actionArguments,f=void 0===n?[]:n,d=e.callback;return function(e,n){var p=n(),h=p.auth.form.captcha_answer,m=p.common,b=m.track_id,y=m.csrf,v=p.captcha,g=v.trackId,O=v.key,_=Object(a.c)(p)[c.a.CAPTCHA]||h,E={track_id:g||b,csrf_token:y,answer:_};if(O&&(E.key=O),e(Object(i.ab)(!0)),!_||!_.trim())return e(Object(i.nb)("captcha.empty")),e(Object(u.M)({field:c.a.CAPTCHA,error:Object(s.e)(c.a.CAPTCHA,"captcha.empty")})),void e(Object(i.ab)(!1));r.a.request("checkHuman",E).done((function(n){if(e(Object(i.ab)(!1)),"ok"===n.status)return e(Object(i.nb)("")),e(Object(u.M)({field:c.a.CAPTCHA,error:{}})),e(Object(i.U)(!1)),t&&e(t.apply(void 0,l(f))),void("function"==typeof d&&d());e(Object(o.a)()),e(Object(i.nb)(n.errors)),e(Object(u.M)({field:c.a.CAPTCHA,error:Object(s.e)(c.a.CAPTCHA,n.errors)}))})).fail((function(t){e(Object(o.a)()),e(Object(i.nb)(t.errors)),e(Object(u.M)({field:c.a.CAPTCHA,error:Object(s.e)(c.a.CAPTCHA,t.errors)})),e(Object(i.ab)(!1))}))}}},"FBB4UUWfM/iz0AJy2xMy":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("B/+x7wOHvlrE/6Q4CYQo"),a=function(){return o.a.createElement("div",{className:"LoadableFallback"},o.a.createElement(i.a,{progress:!0,size:"l"}))}},"FBKb7PbA0s5VNZywmR+3":function(e,t,n){},FO5VaR1qDYhXlc1jCgw9:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return A}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("icG+8Jgv+BJiTL/fPTrX"),i=n("pljtMiJ6cPwIsouCAJRc"),a=n("Yp2QB2jYYmLrYZQDlfoW"),c=n("qyhOylcYgz7sofzu7jFu"),u=n("DykVKCzoc0ACbI/E+LI/"),s=n("mnQejR5GxZY5Mi6PE0Mk"),l=n("QgjbgVDbzfInN/CjWaXi"),f=n("BiY5T7IoWQd4oP5CD4Ck"),d=n("5F+6fz9+ivUTWfn90aaq"),p=n("O5/wDFcDcr7psfl422DM"),h=n("z7Oi9rc5+MJTcyjtMHC3"),m=n("xSpN8Kyw4VlgAPhFVdtL"),b=n("bgXyrsqSC6Iqs5Ce6LQm"),y=n("JLFc6U7sd0PMI6Bh60mb"),v=n("W3MgEIO55ELSFhldjoS/"),g=n("Cn0bb7dlXdz9iLHfBkZ3"),O=n("C5copWHEZLqYOtOxYHav"),_=n("ZhSnxcFTtIAlY+v3R+s6"),E=n("joROYenWse71KCSIszZL"),S=n("WwZV+0g8pRxIfTSFjg9I"),w=n("z/Ug44arcHnnmInRoI/0"),j=[w.b,w.g,w.e],C=function(e,t){e(Object(_.h)(t)),e(Object(c.y)(t!==E.f.ACCOUNTS))},R=function(e){var t=e.phone,n=e.route,o=e.processName;return function(e){e(Object(a.P)({field:y.a.PHONE,value:t})),e(P((function(){C(e,E.f.PHONE_CONFIRM),e(Object(r.d)(n))}),o,!0))}},P=function(e,t){return function(n,r){var c=r(),s=Object(o.c)(c),f=Object(o.h)(c,l.b.REGISTER),d=Object(S.c)(c),h=s.phone,m=j.includes(t)||j.includes(d)||Object(O.d)(c),b=c.am,v=void 0===b?{}:b;n(Object(i.b)(!0)),g.a.validatePhone({trackId:f,phone:h}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s={dispatch:n,getState:r,trackId:f},l=t.status,h=t.errors,b=void 0===h?[]:h,g=t.isPhoneValidForCall,E=t.isPhoneValidForFlashCall;if("error"===l){var j=b[0];return n(Object(a.M)({field:y.a.PHONE,error:Object(p.e)(y.a.PHONE,j)})),void n(Object(i.b)(!1))}m||(s.phoneValidateParams={},E&&(s.phoneValidateParams.isPhoneValidForFlashCall=d===w.i&&Object(o.j)(c,"restorelogin_call_flashcall")||Object(S.f)(d)&&Object(o.j)(c,"passp-20231-hangup-touch")||Object(O.a)(c)),g&&!v.isAm&&(s.phoneValidateParams.isPhoneValidForCall=d===w.i&&Object(o.j)(c,"restorelogin_call_dictcall")||Object(S.f)(d)&&Object(o.j)(c,"passp-20231-forced-zvonok"))),Object(u.p)(s).then((function(){"function"==typeof e&&e(),n(Object(i.b)(!1))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errors&&e.errors[0];"captcha.not_checked"===t&&n(Object(_.g)(!0)),n(Object(i.b)(!1))}))})).catch((function(){n(Object(i.b)(!1))}))}},T=function(e){return function(t,n){var c=E.g[e]||[],u=n(),O=Object(o.c)(u),j=Object(o.b)(u),R=Object(S.c)(u),T=Object(o.h)(u,l.b.REGISTER),k=Object(S.a)(e,R),A=Object(o.f)(u),N=Object(o.j)(u,"avatar-dozapros-newreg-exp1"),I=u.common,M=void 0===I?{}:I,L=u.form,D=void 0===L?{}:L,x=M.askAvatarUrl,q=M.csrf,U=M.origin,B=O.phoneCode,F=O.firstname,H=O.lastname,W=D.type,V=D.keepUnsubscribedValue,Y=[],z=function(){return g.a.findAccountsByNameAndPhone({trackId:T,firstname:F,lastname:H,allowNeophonish:!0}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.accounts,r=void 0===n?[]:n;if(t(Object(s.b)(r)),!r.length&&Object(S.f)(R))return Object(d.b)(t,u,!0).then((function(){C(t,Object(S.a)(k,R)),t(Object(i.b)(!1))})).catch((function(){return t(Object(i.b)(!1))}));if(1===r.length&&(Object(S.e)(R)||R===w.g)){var o=r[0],a=o.primary_alias_type,c=o.uid,l=o.allowed_auth_flows,f=void 0===l?[]:l,p=f.includes("instant");if(Object(m.b)(a)===m.a.NEOPHONISH&&p)return void t(Object(b.b)({trackId:T,uid:c,lastname:H,firstname:F}))}C(t,k),t(Object(i.b)(!1))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.errors,r=void 0===n?[]:n,o=r[0];return Object(S.f)(R)&&!Object(S.e)(R)?Object(d.b)(t,u,!0).then((function(){C(t,Object(S.a)(k,R)),t(Object(i.b)(!1))})).catch((function(){return t(Object(i.b)(!1))})):(Object(S.g)(R)||Object(S.e)(R))&&o?(t(Object(_.l)(Object(p.c)("findAccountsByNameAndPhone",o))),void t(Object(i.b)(!1))):void t(Object(i.b)(!1))}))};if(t(Object(_.g)(!1)),t(Object(i.b)(!0)),v.a.send('Клик "Далее" на экране '.concat(e)),c.forEach((function(e){(!O[e]||O[e]&&!O[e].trim()||j[e]&&j[e].code)&&(Y.push({field:e,error:j[e]&&j[e].code?j[e]:Object(p.e)(e,"missingvalue")}),v.a.send("Показ ошибки поля ".concat(e,": missingvalue")))})),Y.length)return Y.forEach((function(e){return t(Object(a.M)(e))})),void t(Object(i.b)(!1));if(e!==E.f.PHONE&&e!==E.f.PERSONAL_DATA_AND_PHONE||t(P((function(){return C(t,k)}))),e===E.f.PHONE_CONFIRM&&g.a.checkPhoneConfirmationCode({trackId:T,code:B}).then((function(){if([w.e,w.f].includes(R))return z();C(t,k),t(Object(i.b)(!1))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.errors&&e.errors[0];t(Object(a.M)({field:y.a.PHONE_CODE,error:Object(p.e)(y.a.PHONE_CODE,n)})),t(Object(i.b)(!1)),v.a.send("Показ ошибки поля phoneCode: ".concat(n))})),e===E.f.PERSONAL_DATA&&z(),e===E.f.ACCOUNTS&&(k===E.f.LOGIN?Object(d.b)(t,u,!0).then((function(){C(t,k),t(Object(i.b)(!1))})).catch((function(){return t(Object(i.b)(!1))})):(C(t,k),t(Object(i.b)(!1)))),[E.f.LOGIN,E.f.PASSWORD].includes(e)&&(C(t,k),t(Object(i.b)(!1))),e===E.f.EULA){var G=Object.assign({},O,{"human-confirmation":"phone",trackId:T,csrf_token:q,eula_accepted:O.eula_accepted?"y":"n"});if(W&&Object(S.f)(R)&&!Object(S.e)(R)&&(G.type=W),V&&(G.unsubscribe_from_maillists=V),U&&(G.origin=U),Object(S.e)(R))return void function(e){var t=e.data,n=e.dispatch,r=e.options.redirectUrl;h.a.registerNeoPhonish(Object(p.i)(t)).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status;return"ok"!==t?(n(Object(_.l)(Object(p.c)("registration","smthWrong"))),void n(Object(i.b)(!1))):location.replace(r)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errors||e.error||[],r="string"==typeof t[0]?t[0]:(t[0]||{}).code;n(Object(_.l)(Object(p.c)("registration",r))),n(Object(i.b)(!1))}))}({data:G,dispatch:t,options:{redirectUrl:A}});!function(e){var t=e.data,n=e.dispatch,o=e.options,a=o.redirectUrl,c=o.isAvatarRequestExp,u=o.askAvatarUrl,s=t.trackId;h.a.asyncRegistration(Object(p.i)(t),n).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status;return"ok"!==t?(n(Object(_.l)(Object(p.c)("registration","smthWrong"))),void n(Object(i.b)(!1))):c?g.a.updateCsrfToken().then((function(){n(Object(f.db)({action:"add",state:"avatar",track_id:s})),n(Object(f.wb)(null)),n(Object(i.b)(!1)),n(Object(r.d)(u))})).catch((function(){return location.replace(a)})):location.replace(a)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errors||e.error||[],r="string"==typeof t[0]?t[0]:(t[0]||{}).code;n(Object(i.b)(!1)),v.a.send("Ошибка регистрации ".concat(r)),r&&n(Object(_.l)(Object(p.c)("registration",r)))}))}({data:G,dispatch:t,options:{redirectUrl:A,isAvatarRequestExp:N,askAvatarUrl:x}})}}},k=function(){return function(e,t){var n=t(),r=n.userEntryFlow,o=(void 0===r?{}:r).step,a=Object(S.c)(n),c=Object(S.d)(a),u=o||c[0],l=Object(S.b)(u,a);if(l===E.f.ACCOUNTS&&(l=Object(S.b)(l,a),e(Object(s.b)([]))),v.a.send('Клик "Назад" на экране '.concat(u)),[E.f.PHONE_CONFIRM,E.f.PHONE,E.f.PERSONAL_DATA_AND_PHONE].includes(l))return e(Object(i.b)(!0)),void g.a.userEntryFlowSubmit().then((function(){C(e,c[0]),e(Object(i.b)(!1))})).catch((function(){return e(Object(i.b)(!1))}));C(e,l)}},A=function(){return function(e,t){var n=t(),r=Object(S.c)(n),o=Object(S.d)(r);v.a.send('Клик в "Попробовать еще раз"'),g.a.userEntryFlowSubmit().then((function(){e(Object(_.i)()),e(Object(a.P)({field:y.a.LOGIN,value:""})),e(Object(a.P)({field:y.a.PASSWORD,value:""})),C(e,o[0])})).catch((function(){v.a.send("Ошибка перезапуска процесса no_track"),e(Object(_.l)(Object(p.c)("global","global"))),e(Object(i.b)(!1))}))}}},"FUZ6AA4Oce8/2wMDn7Ki":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"n",(function(){return d})),n.d(t,"r",(function(){return p})),n.d(t,"p",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"o",(function(){return y})),n.d(t,"q",(function(){return v})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return O})),n.d(t,"s",(function(){return _}));var r="CHANGE_CAPTCHA_PLAY_STATUS",o="LOAD_CAPTCHA",i="GET_IMAGE_CAPTCHA_SUCCESS",a="GET_AUDIO_CAPTCHA",c="GET_AUDIO_CAPTCHA_SUCCESS",u="GET_AUDIO_CAPTCHA_FAIL",s="CHANGE_CAPTCHA_TYPE",l="CLEAR_CAPTCHA_PROPS",f="SET_CAPTCHA_TRACK";function d(e){return{type:u,error:e}}function p(){return{type:o}}function h(e){return{type:"GET_CAPTCHA_FAIL",error:e}}function m(){return{type:a}}function b(e){return{type:r,playing:e}}function y(e,t,n){var r={type:c,key:e,captchaSound:n};return t&&(r.introSound=t),r}function v(e,t){return{type:i,key:e,imageUrl:t}}function g(){return{type:s}}function O(){return{type:l}}function _(e){return{type:f,trackId:e}}},"GMNkzy/zbaSBYdP6Cvxp":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=n("a4EMkKqamYWCMMPV7UeQ"),i=n.n(o),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("NH34m/YMyHs61nOqvuoz"),l=n("W3MgEIO55ELSFhldjoS/"),f=n("dVdlchGuZyN639S0A3so"),d=n("F+XoypME10tU70Tu7EYE");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=Object(u.cn)("AuthSocialBlock"),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,o=b(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),O(v(t=o.call(this,e)),"secondaryButtonRef",i.a.createRef()),O(v(t),"authSocial",(function(e){var n=t.props,r=n.switchToModeMagic,o=n.startSocialAuth,i=n.socialScope,a=e.code,c=e.name;"yandex"!==a?(l.a.send([s.oc,s.Ac,c||a]),o({provider:a,scope:i&&i[a]})):r(!0)})),O(v(t),"auth",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.props.switchToModeMagic,o=n.code;if(e.preventDefault(),t.hideSecondaryProviders(),["qr","yandex"].includes(o))return r("yandex"===o);t.authSocial(n)})),O(v(t),"showSecondaryProviders",(function(){return t.setState({showSecondaryProviders:!0})})),O(v(t),"hideSecondaryProviders",(function(){return t.setState({showSecondaryProviders:!1})})),O(v(t),"renderButtonContent",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.props.language,r=e.code,o=e.display_name,a=o[n]||o.default;return"qr"===r?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:_("icon",{withHover:!1})}),i.a.createElement("span",{className:_("name",{withHover:!1})},a)):i.a.createElement(f.a,{size:"s",type:e.code,withHover:!1})})),O(v(t),"renderProviders",(function(){})),t.state={showSecondaryProviders:!1},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.state.showSecondaryProviders,n=this.props,r=n.providers,o=void 0===r?{}:r,a=n.isRegister,c=n.language,u=n.minimal,s=n.intranet,l=o.primary,p=void 0===l?[]:l,h=o.secondary,m=void 0===h?[]:h;if(u||s)return null;var b=a?"Регистрация через соцсеть:":"Войти с помощью";return i.a.createElement("div",{className:_()},i.a.createElement("h3",{className:_("title")},b),i.a.createElement("div",{className:_("providers")},p.map((function(t){var n=t.id,r=t.data;return i.a.createElement("button",{type:"button",key:n,onClick:function(t){return e.auth(t,r)},className:_("provider",{code:r.code}),"data-t":"provider:primary:".concat(r.code)},e.renderButtonContent(r))})),Boolean(m.length)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{type:"button",className:_("provider"),ref:this.secondaryButtonRef,onClick:this.showSecondaryProviders,"data-t":"provider:more"},i.a.createElement(f.a,{size:"s",type:"dots",withHover:!0})),i.a.createElement(d.a,{target:"anchor",dataT:"provider:secondary:popup",visible:t,anchor:this.secondaryButtonRef,directions:["top-center","left-center"],onClose:this.hideSecondaryProviders},i.a.createElement("div",{className:_("secondaryProviders")},m.map((function(t){var n=t.id,r=t.data,o=void 0===r?{}:r,a=o.code,u=o.display_name,s=void 0===u?{}:u,l=s[c]||s.default;return i.a.createElement("button",{key:n,type:"button",onClick:function(t){return e.auth(t,o)},className:_("secondaryProvider"),"data-t":"provider:secondary:".concat(a)},i.a.createElement(f.a,{size:"s",type:a}),i.a.createElement("span",{className:_("secondaryProviderName")},l))})))))))}}])&&h(t.prototype,n),r&&h(t,r),a}(o.Component);E.defaultProps={minimal:!1,intranet:!1,isRegister:!1},E.propTypes={mode:c.a.string,minimal:c.a.bool.isRequired,intranet:c.a.bool.isRequired,socialScope:c.a.object,switchToModeMagic:c.a.func.isRequired,startSocialAuth:c.a.func.isRequired,isRegister:c.a.bool,language:c.a.string.isRequired,providers:c.a.shape({primary:c.a.array,secondary:c.a.array})};var S=n("icG+8Jgv+BJiTL/fPTrX"),w=n("H/GWyicROAQnHKbtN2vf"),j=n("xTYMmTVCxHhb8U90Af7w"),C={startSocialAuth:w.a,switchToModeMagic:j.a},R=Object(r.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.isRegister,r=e.social,o=void 0===r?{}:r,i=e.customs,a=i.socialScope,c=i.minimal,u=e.settings.intranet,s=e.auth.mode,l=e.am,f=void 0===l?{}:l,d={apl:10,vk:20,fb:30,gg:35,qr:40,mr:50,ok:60,tw:70},p={primary:[],secondary:[]},h=o.providers.slice();return n||f.isAm||h.push({id:"qr",enabled:!0,data:{code:"qr",display_name:{default:"QR-код"}}}),(h=h.slice().filter((function(e){return e.enabled})).sort((function(e,t){return d[e.data.code]>d[t.data.code]?1:-1}))).length>5?(p.primary=h.slice(0,4),p.secondary=h.slice(4)):p.primary=h,{socialScope:a,minimal:c,intranet:u,mode:s,providers:p,language:Object(S.d)(e)}}),C)(E)},GWbkqWWFGcC2wNwmmBsB:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("OWyp9q5IAHy11NTyZQSA"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("qyhOylcYgz7sofzu7jFu");function c(){return function(e,t){var n=t(),c=n.common,u=c.authLiteRegisterUrl,s=c.addUserUrl;"registerLite"!==n.auth.mode&&(e(Object(i.wb)(s)),e(Object(a.w)(u)),e({type:o.m}),e(Object(r.d)(u)))}}},"H/GWyicROAQnHKbtN2vf":function(e,t,n){"use strict";var r=n("RtoYEtkbxQ+mibaABznE"),o=n("icG+8Jgv+BJiTL/fPTrX"),i=n("fi7sVlHuU93LEbukopgn");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var a=n(),c=e.provider,u=e.scope;if(a.am&&a.am.isAm)t(i.k(c));else{var s={track_id:Object(o.h)(a,"register")||Object(o.h)(a,"common"),provider:c};u&&(s.scope=u),r.a.start(s)}}}},Hotb6bLBAZw9GrEYBPZD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r="browser",o="with-suggest-to-restore-by-phone-in-da-house",i="neophonish-in-da-house"},Ht5zALiFh7MTZQEr4dFd:function(e,t,n){},IWyIY6v871rrx6jPCZuR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("FUZ6AA4Oce8/2wMDn7Ki");function o(){return function(e,t){var n=t().captcha,o=n.introSound,i=n.captchaSound;o&&"function"==typeof o.stop&&o.stop(),i&&"function"==typeof i.stop&&i.stop(),e(Object(r.j)(!1))}}},JLFc6U7sd0PMI6Bh60mb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={FIRSTNAME:"firstname",LASTNAME:"lastname",PHONE:"phone",PHONE_CODE:"phoneCode",LOGIN:"login",PASSWORD:"password",PASSWORD_CONFIRM:"password_confirm",EULA_ACCEPTED:"eula_accepted",CAPTCHA:"captcha"},o="passp-field-"},JR0gMBnH1G7ZT7pBXXBz:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return s}));var r="CHANGE_SIGN_UP_STEP",o="SET_SUGGEST_TO_RESTORE_ACCOUNTS",i="SET_REGISTER_MODE",a="CLEAR_SIGN_UP_STATE",c=function(e){return function(t){return t({type:r,payload:{step:e}})}},u=function(e){return function(t){return t({type:o,payload:{suggestToRestore:e}})}},s=function(e){return function(t){return t({type:i,payload:{mode:e}})}}},"KLFLb2oMSurwp/8+w02t":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("LzmKygd9FPlNlMcSJp0Y"),u=n("eidTN+99QhledymTSSqQ"),s=Object(c.cn)("DomikFooterLink"),l=function(e){var t=e.href,n=e.onClick,r=e.target,i=void 0===r?"_self":r,a=e.children;return o.a.createElement("div",{className:s()},o.a.createElement(u.a,{dataT:"footer-link",weight:"medium",href:t,onClick:n,target:i},a))};l.propTypes={href:a.a.string,onClick:a.a.func,target:a.a.string,children:a.a.node}},KOKUu0DLG3dFGiZ5vtnm:function(e,t,n){},"KZROoOUZRDmVLSo/bj0i":function(e,t,n){},"KdF3N4jPMVnA0kfc/Rxz":function(e,t,n){},Kgh9kKUzqRPXqIsdiAKz:function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("ZDmX7r9YifVbosUR2qgY"),c=n("2XiBpSUPIXqJnJWBL+lj"),u=n.n(c),s=n("BiY5T7IoWQd4oP5CD4Ck"),l=n("qyhOylcYgz7sofzu7jFu"),f=n("NH34m/YMyHs61nOqvuoz"),d=n("KLFLb2oMSurwp/8+w02t"),p=n("LzmKygd9FPlNlMcSJp0Y"),h=n("68NuQ+EiIUXPlOiVfC2r"),m=n.n(h);function b(e){var t=e.embeddedAuthUrl,n=e.yu,r=e.retpath,o=e.uid,i=e.action,a=e.origin,c=e.login;return-1!==["logout","change_default"].indexOf(i)?"".concat(t)+"&yu=".concat(encodeURIComponent(n))+"&action=".concat(encodeURIComponent(i))+"&uid=".concat(encodeURIComponent(o))+"&retpath=".concat(encodeURIComponent(r))+"&origin=".concat(encodeURIComponent(a)):-1!==["switchTo"].indexOf(i)?"/auth/welcome?uid=".concat(encodeURIComponent(o))+"&retpath=".concat(encodeURIComponent(r))+"&origin=".concat(encodeURIComponent(a)):-1!==["login"].indexOf(i)?"/auth/add?login=".concat(encodeURIComponent(c))+"&retpath=".concat(encodeURIComponent(r))+"&origin=".concat(encodeURIComponent(a)):-1!==["retpath"].indexOf(i)?"".concat(r):""}var y=n("gW+kGIULm/gsAM1O/w51");var v=n("iCK235f/imKRe7hxV26u");var g=n("dVdlchGuZyN639S0A3so"),O=Object(p.cn)("ContextMenuButton"),_=function(e){var t=e.showContextMenu,n=e.uid,r=e.type,i=o.a.createRef();return o.a.createElement("button",{className:O(),"data-t":"account-list-item-menu",ref:i,onClick:function(){return t({uid:n,type:r,anchor:i})}},o.a.createElement(g.a,{type:"dots",size:"s",withHover:!0,fillParent:!0}))};_.propTypes={uid:u.a.string.isRequired,showContextMenu:u.a.func.isRequired,type:u.a.oneOf(["forget","logout"])};var E={showContextMenu:function(e){var t=e.uid,n=e.type,r=e.anchor;return function(e){e(Object(s.vb)(t)),e(Object(s.ob)(r)),e(Object(s.pb)(n)),e(Object(s.Gb)(!0))}}},S=Object(i.c)(null,E)(_);var w=Object(p.cn)("AuthAccountListItem"),j=function(e){var t,n,r,i=function(e){var t=e.account,n=e.avatarSettings,r=e.isDefault,o=e.fallbackUrl,i=e.onClick,a=e.isSuggested,c=t.avatarId,u=t.login,s=t.displayName,l=t.hasSocial,f=t.mail,d=t.defaultEmail,p=t.socialProvider,h=t.uid,m=n.host,b=n.pathname;return{fallbackUrl:o,socialProvider:p,avatarStyle:{backgroundImage:'url("https://'.concat(m).concat(b.replace("%uid%",c).replace("%size%","200").replace("%login%",u),'")')},displayName:s,displayLogin:l?v.a[p]:f||d||"",isDefault:r,hasSocial:l,onClick:i,uid:h,isSuggested:a}}(e),a=i.fallbackUrl,c=i.socialProvider,u=i.avatarStyle,s=i.displayName,l=i.displayLogin,f=i.isDefault,d=i.hasSocial,p=i.onClick,h=i.uid,m=i.isSuggested;return o.a.createElement("div",{className:w("block"),"data-t":"account-list-item"},o.a.createElement("a",{href:a||"#",onClick:p,"data-t":"account-list-item-info",className:w((t={default:f,socialMethod:!f&&d,withoutLogin:!l},n="socialMethod_".concat(c),r=!f&&d,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},o.a.createElement("div",{className:w("inner")},o.a.createElement("span",{className:w("avatar"),style:u}),o.a.createElement("span",{className:w("displayName")},s),l&&o.a.createElement("span",{className:w("login")},l))),o.a.createElement(S,{uid:h,type:m?"forget":"logout"}))};function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}j.propTypes={account:u.a.shape({avatarId:u.a.string.isRequired,displayName:u.a.string.isRequired,login:u.a.string.isRequired,hasSocial:u.a.bool,mail:u.a.string,socialProvider:u.a.string}).isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,isDefault:u.a.bool.isRequired,isSuggested:u.a.bool,fallbackUrl:u.a.string,onClick:u.a.func.isRequired};var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,n,r,i=k(a);function a(){var e;R(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(N(e=i.call.apply(i,[this].concat(n))),"handleClick",(function(t){var n=e.props.redirectToRetpath;t.preventDefault(),n()})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.fallbackUrl;return t?o.a.createElement(j,{account:t,avatarSettings:n,fallbackUrl:r,onClick:this.handleClick,isDefault:!0}):null}}])&&P(t.prototype,n),r&&P(t,r),a}(r.Component);L.propTypes={avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,fallbackUrl:u.a.string.isRequired,redirectToRetpath:u.a.func.isRequired,account:u.a.shape({uid:u.a.string})};var D=Object(i.c)((function(e,t){var n=e.settings.avatar,r=e.common,o=r.embeddedauth_url,i=r.retpath,a=r.origin;return{avatarSettings:n,fallbackUrl:b({action:"retpath",embeddedAuthUrl:o,retpath:i,yu:r.yu,origin:a,uid:t.account.uid})}}),(function(e){var t={redirectToRetpath:y.a};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}))(L);var x=n("Cn0bb7dlXdz9iLHfBkZ3"),q=n("mNaMim9b+xb4df3rV6hq");function U(e){return function(t,n){var r=n().common,o=r.profile_url,i=r.csrf,a=r.yu,c={csrf_token:i,retpath:r.retpath||o,uid:e,yu:a};t(Object(s.ab)(!0)),x.a.request("auth/change_default",c).done((function(){t(Object(q.a)(!0)),t(Object(y.a)())})).fail((function(){t(Object(q.a)()),t(Object(s.ab)(!1))}))}}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?z(e):t}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(a,e);var t,n,r,i=V(a);function a(){var e;F(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(z(e=i.call.apply(i,[this].concat(n))),"handleClick",(function(t){var n=e.props,r=n.account,o=n.changeActiveAccount;t.preventDefault(),o(r.uid)})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.fallbackUrl;return t?o.a.createElement(j,{account:t,avatarSettings:n,fallbackUrl:r,onClick:this.handleClick,isDefault:!1}):null}}])&&H(t.prototype,n),r&&H(t,r),a}(r.Component);Q.propTypes={avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,fallbackUrl:u.a.string.isRequired,changeActiveAccount:u.a.func.isRequired,account:u.a.shape({uid:u.a.string})};var K=Object(i.c)((function(e,t){var n=e.settings.avatar,r=e.common,o=r.embeddedauth_url,i=r.retpath,a=r.origin;return{avatarSettings:n,fallbackUrl:b({action:"change_default",embeddedAuthUrl:o,retpath:i,yu:r.yu,origin:a,uid:t.account.uid})}}),(function(e){var t={changeActiveAccount:U};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}))(Q);var J=n("WJOEWUhuaqB4LU1CIwDt"),Z=n("VXLs6oAydZN+d2v1fSYl");function $(e){return function(t,n){var r=n().common.csrf,o=e.uid,i=e.status,a=e.login,c=e.preferred_auth_method,u=e.allowed_auth_methods;if("INVALID"===i)return t(Object(s.ab)(!1)),t(Object(s.fb)(e)),void t(Object(J.b)({login:a}));var l={_uid:o,csrf_token:r};t(Object(s.ab)(!0)),x.a.request("accounts/input-login",l).done((function(e){var n={};e&&e.input_login&&(n[o]=e&&e.input_login,t(Object(s.eb)(n)))})).always((function(){t(Object(s.ab)(!1)),t(Object(s.fb)(e));var n=(c||"").indexOf("social_")>-1,r=(u||[]).some((function(e){return["password","magic_link","magic","magic_x_token","rfc_totp","otp","sms_code"].includes(e)}));if(n&&!r)return t(Object(s.Y)(e)),t(Object(s.Jb)(a)),void t(Object(Z.a)());t(Object(J.b)({login:a}))}))}}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(a,e);var t,n,r,i=oe(a);function a(){var e;te(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ue(ae(e=i.call.apply(i,[this].concat(n))),"handleClick",(function(t){var n=e.props,r=n.account,o=n.editUrl,i=n.loginSuggestedAccount,a=n.domikIsLoading,c=n.setupBackPane;t.preventDefault(),a(!0),c(o),i(r)})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.fallbackUrl;return t?o.a.createElement(j,{account:t,avatarSettings:n,fallbackUrl:r,onClick:this.handleClick,isDefault:!1,isSuggested:!0}):null}}])&&ne(t.prototype,n),r&&ne(t,r),a}(r.Component);se.propTypes={avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,editUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,loginSuggestedAccount:u.a.func.isRequired,forgetAccount:u.a.func.isRequired,domikIsLoading:u.a.func.isRequired,setupBackPane:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired,account:u.a.shape({uid:u.a.string}).isRequired};var le=Object(i.c)((function(e,t){var n=e.settings.avatar,r=e.common,o=r.embeddedauth_url,i=r.retpath,a=r.yu,c=r.origin,u=r.editUrl;return{fallbackUrl:b({action:"switchTo",embeddedAuthUrl:o,retpath:i,yu:a,origin:c,uid:t.account.uid}),avatarSettings:n,editUrl:u}}),(function(e){var t={loginSuggestedAccount:$,domikIsLoading:s.ab,setupBackPane:s.wb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}))(se);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?ye(e):t}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(a,e);var t,n,r,i=me(a);function a(){var e;de(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(ye(e=i.call.apply(i,[this].concat(n))),"handleClick",(function(t){var n=e.props,r=n.account,o=n.editUrl,i=n.loginSuggestedAccount,a=n.domikIsLoading,c=n.setupBackPane;t.preventDefault(),a(!0),c(o),i(r)})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.fallbackUrl;return t?o.a.createElement(j,{account:t,avatarSettings:n,fallbackUrl:r,onClick:this.handleClick,isDefault:!1}):null}}])&&pe(t.prototype,n),r&&pe(t,r),a}(r.Component);Oe.propTypes={isTouch:u.a.bool.isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,editUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,logoutAccount:u.a.func.isRequired,loginSuggestedAccount:u.a.func.isRequired,domikIsLoading:u.a.func.isRequired,setupBackPane:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired,account:u.a.shape({uid:u.a.string}).isRequired};var _e=Object(i.c)((function(e,t){var n=e.settings.avatar,r=e.common,o=r.embeddedauth_url,i=r.retpath,a=r.yu,c=r.origin,u=r.editUrl,s=t.account;return{avatarSettings:n,fallbackUrl:b({action:"login",embeddedAuthUrl:o,retpath:i,yu:a,uid:s.uid,origin:c,login:s.login}),editUrl:u}}),(function(e){var t={loginSuggestedAccount:$,domikIsLoading:s.ab,setupBackPane:s.wb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}))(Oe),Ee=n("buqWOCdf14bbF2aD2r0s"),Se=n("yi2HOavEOLsMrMN95lAZ");function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?Te(e):t}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=Object(p.cn)("AddAccountButton"),Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(c,e);var t,n,r,i=Re(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).handleClick=t.handleClick.bind(Te(t)),t}return t=c,r=[{key:"mapStateToProps",value:function(e){return{addUserUrl:e.common.addUserUrl}}},{key:"mapDispatchToProps",value:function(e){var t={switchToModeAddingAccount:Ee.a,updateLoginValue:s.Jb,setLoginError:s.rb,changeNativeInputValue:Se.a};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}}],(n=[{key:"handleClick",value:function(e){var t=this.props,n=t.switchToModeAddingAccount,r=t.updateLoginValue,o=t.setLoginError,i=t.changeNativeInputValue;e.preventDefault(),r(""),i("login",""),o(null),n()}},{key:"render",value:function(){var e=this.props.addUserUrl;return o.a.createElement("div",{className:Ae("wrapper")},o.a.createElement("a",{href:e,onClick:this.handleClick,className:Ae(),"data-t":"account-list-item-add"},o.a.createElement("span",{className:Ae("icon")},o.a.createElement("span",{className:Ae("iconHelpers")},o.a.createElement("span",{className:Ae("iconHelper1")}),o.a.createElement("span",{className:Ae("iconHelper2")}))),o.a.createElement("span",{className:Ae("text")},"Войти в другой аккаунт")))}}])&&je(t.prototype,n),r&&je(t,r),c}(r.Component);Ne.propTypes={switchToModeAddingAccount:u.a.func.isRequired,updateLoginValue:u.a.func.isRequired,changeNativeInputValue:u.a.func.isRequired,setLoginError:u.a.func.isRequired,addUserUrl:u.a.string.isRequired};var Ie=Object(i.c)(Ne.mapStateToProps,Ne.mapDispatchToProps)(Ne),Me=n("F+XoypME10tU70Tu7EYE"),Le=n("W3MgEIO55ELSFhldjoS/");function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?He(e):t}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=Object(p.cn)("ContextMenu"),ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(a,e);var t,n,r,i=Be(a);function a(){var e;xe(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ve(He(e=i.call.apply(i,[this].concat(n))),"logout",(function(t){t.preventDefault();var n=e.props,r=n.uid;(0,n.logoutAccount)(r),Le.a.send([f.xc,f.K])})),Ve(He(e),"logoutAndForget",(function(t){t.preventDefault();var n=e.props,r=n.uid;(0,n.logoutAndForget)(r),Le.a.send([f.xc,f.J])})),Ve(He(e),"forget",(function(t){t.preventDefault();var n=e.props,r=n.uid;(0,n.forgetAccount)(r),Le.a.send([f.xc,f.J])})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.visible,r=e.clearContextMenuState,i=e.isMobile,a=e.type;return o.a.createElement(Me.a,{target:"anchor",visible:n,anchor:t,directions:["bottom-center","left-center"],onClose:r,onClick:r,mode:i?"blind":"",mainOffset:i?0:-10,dataT:"context-menu"},o.a.createElement("div",{className:Ye()},"logout"===a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:Ye("button"),onClick:this.logout},o.a.createElement(g.a,{type:"exit",size:"s"}),o.a.createElement("span",{className:Ye("buttonName")},"Выйти из аккаунта")),o.a.createElement("button",{className:Ye("button"),onClick:this.logoutAndForget},o.a.createElement(g.a,{type:"trash",size:"s"}),o.a.createElement("span",{className:Ye("buttonName")},"Выйти и удалить из списка"))),"forget"===a&&o.a.createElement("button",{className:Ye("button"),onClick:this.forget},o.a.createElement(g.a,{type:"trash",size:"s"}),o.a.createElement("span",{className:Ye("buttonName")},"Удалить из списка"))))}}])&&qe(t.prototype,n),r&&qe(t,r),a}(o.a.PureComponent);ze.propTypes={uid:u.a.string.isRequired,anchor:u.a.object,visible:u.a.bool.isRequired,isMobile:u.a.bool.isRequired,clearContextMenuState:u.a.func.isRequired,logoutAccount:u.a.func.isRequired,logoutAndForget:u.a.func.isRequired,forgetAccount:u.a.func.isRequired,type:u.a.oneOf(["forget","logout"]).isRequired};var Ge=n("icG+8Jgv+BJiTL/fPTrX");function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je={clearContextMenuState:s.Z,logoutAccount:function(e){return function(t,n){var r=n(),o=r.settings.ua,i=r.common,a=i.profile_url,c=i.csrf,u=i.yu,l=i.retpath,f=o&&o.isTouch,d={csrf_token:c,retpath:l||a,uid:e,yu:u};t(Object(s.ab)(!0)),x.a.request("auth/logout",d).done((function(){t(Object(q.a)()),f&&t(Object(s.V)(!1))})).fail((function(){t(Object(q.a)())})).always((function(){return t(Object(s.ab)(!1))}))}},logoutAndForget:function(e){return function(t,n){var r=n(),o=r.settings.ua,i=r.common,a=i.profile_url,c=i.csrf,u=i.yu,l=i.retpath,f=o&&o.isTouch,d={csrf_token:c,retpath:l||a,uid:e,yu:u};t(Object(s.ab)(!0)),x.a.request("auth/logout_and_forget",d).done((function(){t(Object(q.a)()),f&&t(Object(s.V)(!1))})).fail((function(){t(Object(q.a)())})).always((function(){return t(Object(s.ab)(!1))}))}},forgetAccount:function(e){return function(t,n){var r=n(),o=r.settings.ua,i=r.common.csrf,a=o&&o.isTouch,c={_uid:e,csrf_token:i};t(Object(s.ab)(!0)),x.a.request("accounts/forget",c).done((function(){t(Object(q.a)()),a&&t(Object(s.V)(!1))})).fail((function(){t(Object(q.a)())})).always((function(){return t(Object(s.ab)(!1))}))}}},Ze=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.contextMenu,n=void 0===t?{}:t;return Qe(Qe({},n),{},{isMobile:Object(Ge.l)(e)})}),Je)(ze),$e=Object(p.cn)("AuthAccountList"),et=function(e){var t=e.authorizedAccounts,n=e.defaultAccount,r=e.hasUnauthorizedAccounts,i=e.suggestedAccounts,a=e.invalidAccounts,c=e.isSessionOverflow;return o.a.createElement("div",{className:$e(),"data-t":"account"},o.a.createElement("ul",{"data-t":"account-list",className:$e("items")},n&&o.a.createElement("li",{className:$e("itemBlock"),"data-t":"account-list-item-box"},o.a.createElement(D,{key:n.uid,account:n})),t.filter((function(e){return!n||e.uid!==n.uid})).map((function(e,t){return o.a.createElement("li",{className:$e("itemBlock"),key:"account-".concat(t),"data-t":"account-list-item-box"},o.a.createElement(K,{key:e.uid,account:e}))}))),r&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:$e("unathorizedAccountsTitle")},"Вы вышли из аккаунтов:"),o.a.createElement("ul",{"data-t":"unathorized-account-list",className:$e("items")},i.map((function(e,t){return o.a.createElement("li",{className:$e("itemBlock"),key:"suggestedAccount-".concat(t),"data-t":"account-list-item-box"},o.a.createElement(le,{key:e.uid,account:e}))})),a.map((function(e,t){return o.a.createElement("li",{className:$e("itemBlock"),key:"invalidAccount-".concat(t),"data-t":"account-list-item-box"},o.a.createElement(_e,{key:e.uid,account:e}))})))),!c&&o.a.createElement(Ie,null),o.a.createElement(Ze,null))};et.propTypes={authorizedAccounts:u.a.array.isRequired,defaultAccount:u.a.object,suggestedAccounts:u.a.array.isRequired,invalidAccounts:u.a.array.isRequired,hasUnauthorizedAccounts:u.a.bool.isRequired,isSessionOverflow:u.a.bool.isRequired};var tt=Object(i.c)((function(e){var t=e.auth,n=t.unitedAccounts,r=t.authorizedAccountsDefaultUid,o=m()(n,(function(e){return"000000"!==e.uid})),i=m()(o,{status:"VALID"}),a=m()(i,(function(e){return e.uid===r}))[0],c=m()(o,(function(e){return"VALID"!==e.status})),u=m()(c,(function(e){return void 0!==e.allowed_auth_methods})),s=m()(c,(function(e){return void 0===e.allowed_auth_methods}));return{authorizedAccounts:i,defaultAccount:a,suggestedAccounts:u,invalidAccounts:s,hasUnauthorizedAccounts:Boolean(u.length||s.length),isSessionOverflow:Boolean(i.length>=15)}}))(et),nt=n("ChNA47itMhrlI5HSOuk4"),rt=n("hbhwtfwpwcJBep3jxV99");function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ft(e);if(t){var o=ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return st(this,n)}}function st(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?lt(e):t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(c,e);var t,n,r,i=ut(c);function c(){var e;it(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dt(lt(e=i.call.apply(i,[this].concat(n))),"maybeRenderHelpLink",(function(){var t=e.props,n=t.origin,r=t.yandexSupportUrl;if("china"===n)return o.a.createElement(d.a,{target:"_blank",href:r},"Сообщить о проблеме")})),e}return t=c,r=[{key:"mapStateToProps",value:function(e){var t=e.common,n=void 0===t?{}:t;return{editUrl:n.editUrl,origin:n.origin,yandexSupportUrl:n.yandex_support_url}}},{key:"mapDispatchToProps",value:function(e){var t={setupBackPane:s.wb,setupPane:l.w,setupMode:s.xb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}}],(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.setupMode,r=e.setupPane,o=e.editUrl;Le.a.goal(f.yc),Le.a.send([f.xc]),t(null),n("edit"),r(o)}},{key:"render",value:function(){return o.a.createElement(nt.a,{cls:"list",dataT:"list"},o.a.createElement(rt.a,null,"Выберите аккаунт для входа"),o.a.createElement(tt,null),this.maybeRenderHelpLink())}}])&&at(t.prototype,n),r&&at(t,r),c}(r.Component);pt.propTypes={editUrl:u.a.string.isRequired,setupBackPane:u.a.func.isRequired,setupPane:u.a.func.isRequired,setupMode:u.a.func.isRequired,origin:u.a.string,yandexSupportUrl:u.a.string.isRequired};t.a=Object(i.c)(pt.mapStateToProps,pt.mapDispatchToProps)(pt)},KqgSckgMJM5UoE4swPks:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("gW+kGIULm/gsAM1O/w51"),a=n("NoFeXeyUaLnlF3HDY2SY");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yes",t=arguments.length>1?arguments[1]:void 0;return function(n,c){var u=c(),s=u.additionalDataRequest,l=void 0===s?{}:s,f=u.common,d=(void 0===f?{}:f).csrf,p=l.track_id,h={track_id:t||p,csrf_token:d,user_declined:e};n(Object(a.n)()),r.a.request("auth/additional_data/freeze_v2",h).done((function(){n(Object(o.ab)(!1)),n(Object(i.a)())})).fail((function(){n(Object(o.ab)(!1)),n(Object(i.a)())}))}}},L4CP3QwKrF6V09lvvIMv:function(e,t,n){},LG3vz6GuEZxQFt7VfrWb:function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r){"use strict";"object"===t(e)&&e.exports?e.exports=r():n.simpleCipher=r()}(this,(function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e,t){return e.charCodeAt(Math.floor(t%e.length))}function n(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}return{encode:function(r,o){if(n(r)&&n(o))return function(t){var n,r,o,i,a,c=0,u="";if(!t)return t;do{n=(i=t[c++]<<16|t[c++]<<8|t[c++])>>12&63,r=i>>6&63,o=63&i,u+=e.charAt(i>>18&63)+e.charAt(n)+e.charAt(r)+e.charAt(o)}while(c<t.length);return((a=t.length%3)?u.slice(0,a-3):u)+"===".slice(a||3)}(o=function(e,n){return n.split("").map((function(n,r){return n.charCodeAt(0)^t(e,r)}))}(r,o));throw new Error("Secret and data should be ASCII string")},decode:function(r,o){if(n(r)&&n(o))return function(e,n){return n.map((function(n,r){return String.fromCharCode(n^t(e,r))})).join("")}(r,o=function(t){var n,r,o,i,a,c,u=0,s=[];if(!t)return t;t+="";do{n=(c=e.indexOf(t.charAt(u++))<<18|e.indexOf(t.charAt(u++))<<12|(i=e.indexOf(t.charAt(u++)))<<6|(a=e.indexOf(t.charAt(u++))))>>16&255,r=c>>8&255,o=255&c,s.push(n),64!==i&&(s.push(r),64!==a&&s.push(o))}while(u<t.length);return s}(o));throw new Error("Secret and data should be ASCII string")}}}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},"MXMQwgl0pPNdNuA+oSOb":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r){"use strict";"object"===t(e)&&e.exports?e.exports=r():n.Metrika=r()}(this,(function(){return{inited:!1,counts:[],goals:[],counter:null,init:function(e,t,n,r){var o=this,i=!1,a=document.createElement("script"),c=document.getElementsByTagName("head")[0];if(!e)return this.clear();r&&(o.userType=r),n&&(o.version=n),a.type="text/javascript",a.onload=a.onreadystatechange=function(){if(!i&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&window.Ya&&Ya.Metrika){var n={id:e,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0};i=!0,a.onload=a.onreadystatechange=null,c&&a.parentNode&&c.removeChild(a),t&&(n.experiments=t);try{o.counter=window["yaCounter"+e]=new Ya.Metrika(n)}catch(e){return o.clear()}for(o.inited=!0;o.counts.length;)o.count.apply(o,o.counts.shift());for(;o.goals.length;)o.reachGoal.apply(o,o.goals.shift())}},a.src="https://mc.yandex.ru/metrika/watch.js",c.insertBefore(a,c.lastChild)},wrap:function(e,t){var n={};return n[t]=e,n},flatten:function(e){for(var t=[];e.length;)t=t.concat(e.shift());return t.filter((function(e){return Boolean(e)}))},count:function(e){var t=Array.prototype.slice.call(arguments);if(!this.inited)return this.counts.push(t);for(e=(t=this.flatten(t)).pop();t.length;)e=this.wrap(e,t.pop());e.info={},this.version&&(e.info.version=this.version),this.userType&&(e.info.userType=this.userType),this.counter.params(e)},reachGoal:function(e,t){var n=Array.prototype.slice.call(arguments);if(!this.inited)return this.goals.push(n);this.counter.reachGoal(e,t)},clear:function(){this.count=function(){},this.counts=[],this.goals=[]}}}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},"N6N5KCDRlmBrE6N3/28a":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r,o){"use strict";"object"===t(e)&&e.exports?e.exports=o(n("LG3vz6GuEZxQFt7VfrWb")):r.passport=o(r.simpleCipher)}(this,(function(e){"use strict";var t={init:function(e){var n=$("body"),r=$("html");t.basePath="/registration-validations/",t.language=$("#language").val(),t.staticPath=n.attr("data-static-url"),t.soundManagerPath=t.staticPath+"js/soundmanager",t.soundManager=window.soundManager,t.track_id=$("#track_id").val()||e&&e.trackId,t.country=$("#country").val(),t.metricsId=n.attr("data-metrics-id"),t.isTouch=r.hasClass("is-touch"),t.isTablet=r.hasClass("is-tablet"),t.sk=$("#sk").val(),t.csrf_token=n.data("csrf")||e&&e.csrf,t.lastUsedTrackId=t.track_id,$("*[data-block]").each((function(){var e=t.ensureBlock($(this).attr("data-block"));e&&(e.construct(this,$(this).data("options")),e.isControl&&t.validator.register(e))})),t.setupDebugAPI()},setupDebugAPI:function(){var e=window.Passport=window.Passport||{};e.isYandex&&(e.debug={getTrackID:function(){return t.lastUsedTrackId}})},ensureBlock:function(e){var n=e.split("_"),r=n.pop(),o=n.pop(),i=t.block(r);return i||(i=o?t.block(r,o,{}):t.block(r,{})),i}},n=/\s+/g,r=/^([a-zа-я0-9\+\.-]+)@([a-zа-я0-9-\.]+)(\.)([a-zа-я])+$/i,o=/[^ -~]/;return t.util={entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},escape:function(e){return String(e).replace(/[&<>"'\/]/g,(function(e){return t.util.entityMap[e]}))},keymap:{backspace:8,enter:13,esc:27,tab:9,cmd:224,"webkit-cmd":91,up:38,down:40},getUrlInfo:function(e){var t=document.createElement("a");return t.href=e,{hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search}},getUrlParam:function(e){for(var t=document.location.search.substr(1).split("&"),n=0,r=t.length;n<r;n++){var o=t[n].split("=");if(o[0]===e)return decodeURIComponent(o[1])}return""},getUrlParams:function(e){var t={},n=("string"==typeof e&&e.split("?")[1]||document.location.search.substr(1)).split("&");if(n.length)return n.forEach((function(e){var n=e.split("=");t[n.shift().trim()]=n.join("=")})),t},getUrlParamsV2:function(e){var t=(e=e||document.location.href).split("?")[1],n=t?t.split("&"):[],r={};if(n.length)return n.forEach((function(e){var t=e.split("=");r[t.shift().trim()]=t.join("=")})),r},getKeyCode:function(e){return e?e.keyCode||e.which:null},isKeyboardEvent:function(e){return null!==t.util.getKeyCode(e)&&["keydown","keyup","keypress"].indexOf(e.type)>-1},isKeyboardSubmit:function(e){return[13,32].indexOf(t.util.getKeyCode(e))>-1},isEmail:function(e){return r.test(t.util.normalize(e))},once:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(this,arguments),e=null),t}},abortRequest:function(e){e&&4!==e.readyState&&"abort"in e&&e.abort()},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},normalize:function(e){return"string"!=typeof e?"number"==typeof e?String(e):"":e.replace(n," ").trim()},reattach:function(e){var t=e.parent();e.detach(),t.append(e)},isCorrectDate:function(e){var t=e.split("-");return new Date(e+"T08:00:00+00:00").getMonth()+1===parseInt(t[1],10)},getCookie:function(e){if(document.cookie){var t={};return document.cookie.split(";").forEach((function(e){var n=e.split("=");t[n.shift().trim()]=n.join("=")})),t[e]||""}},checkPassword:function(e){return o.test(e)},omitEmpty:function(e){return Object.keys(e).forEach((function(t){e[t]||delete e[t]})),e}},t.api=function(){var n={},r={};function o(e){var t=[];if($.isPlainObject(e)){for(var n in e)e.hasOwnProperty(n)&&t.push(n+o(e[n]));return"{"+t.join(",")+"}"}return $.isArray(e)?(e.forEach((function(e){t.push(o(e))})),"["+t.join(",")+"]"):e?e.toString():""}return{log:function(n,r){var o,i=n.track_id||t.track_id;r=$.extend({},{loglevel:"info",encrypt:!1},r);var a={ev_tsf:(new Date).getTime(),loglevel:r.loglevel,uid:window.uid,track_id:i,url:window.location.href};o=$.isPlainObject(n)?JSON.stringify($.extend({},a,n)):JSON.stringify($.extend({},a,{action:n})),r.encrypt&&(o=e.encode(i,o)),t.api.request("logger",{log:o,track_id:i})},request:function(e,i,a){var c,u={type:"POST"};if(!e||"string"!=typeof e&&!e.url)throw new Error("Method should be string or object with url");if(!i||!(i instanceof FormData)&&!$.isPlainObject(i))throw new Error("Params should be a plain object or FormData");"string"==typeof e?(c=e,u.url=e):(c=e.url,u.url=e.url,e.type&&(u.type=e.type)),a=a||{};var s,l=new $.Deferred;a.abortPrevious&&t.util.abortRequest(r[c]),a.cache&&(n[c]=n[c]||{},s=n[c][o(i)]);var f={type:u.type,url:e.match(/^(\/|https:\/\/)/)?e:t.basePath+e,data:i instanceof FormData?i:$.extend({},{track_id:t.track_id,csrf_token:t.csrf_token},i),dataType:"json"};t.lastUsedTrackId=f.data.track_id,void 0!==a.processData&&(f.processData=a.processData),void 0!==a.contentType&&(f.contentType=a.contentType);var d=s||$.ajax(f);return d.done((function(e){var n;(n=$.isArray(e)?e.slice():$.extend({},e)).track_id&&(t.lastUsedTrackId=n.track_id),l.resolve(n)})).fail((function(e){l.reject(e)})),a.cache?(n[c][o(i)]=l.promise(),d):(a.abortPrevious&&(r[c]=d),l.promise())},dropCaches:function(){r={},n={}},getTrackId:function(e,n){var r=new $.Deferred,o=this;return this.request("track",t.util.omitEmpty({type:e,passErrors:!0,sk:t.sk,isInit:n}),{abortPrevious:!1,cache:!1}).then((function(e){e&&(e.id||e.track_id)&&o.setTrackId(e.id||e.track_id),r.resolve(e)}),(function(e){r.reject(e)})),r.promise()},setTrackId:function(e){e&&(t.track_id=e,$("#track_id").val(e))},setCsrfToken:function(e){e&&(t.csrf_token=e)}}}(),t}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},"NH34m/YMyHs61nOqvuoz":function(e,t,n){"use strict";n.d(t,"oc",(function(){return r})),n.d(t,"gc",(function(){return o})),n.d(t,"hc",(function(){return i})),n.d(t,"jc",(function(){return a})),n.d(t,"ic",(function(){return c})),n.d(t,"H",(function(){return u})),n.d(t,"I",(function(){return s})),n.d(t,"Ac",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"rc",(function(){return d})),n.d(t,"vc",(function(){return p})),n.d(t,"qc",(function(){return h})),n.d(t,"wc",(function(){return m})),n.d(t,"dc",(function(){return b})),n.d(t,"fc",(function(){return y})),n.d(t,"ec",(function(){return v})),n.d(t,"xc",(function(){return g})),n.d(t,"K",(function(){return O})),n.d(t,"J",(function(){return _})),n.d(t,"tc",(function(){return E})),n.d(t,"pc",(function(){return S})),n.d(t,"sc",(function(){return w})),n.d(t,"yc",(function(){return j})),n.d(t,"uc",(function(){return C})),n.d(t,"Bc",(function(){return R})),n.d(t,"kc",(function(){return P})),n.d(t,"D",(function(){return T})),n.d(t,"Cc",(function(){return k})),n.d(t,"nc",(function(){return A})),n.d(t,"F",(function(){return N})),n.d(t,"Ec",(function(){return I})),n.d(t,"Dc",(function(){return M})),n.d(t,"lc",(function(){return L})),n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return q})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return B})),n.d(t,"mc",(function(){return F})),n.d(t,"h",(function(){return H})),n.d(t,"g",(function(){return W})),n.d(t,"m",(function(){return V})),n.d(t,"i",(function(){return Y})),n.d(t,"E",(function(){return z})),n.d(t,"l",(function(){return G})),n.d(t,"k",(function(){return X})),n.d(t,"j",(function(){return Q})),n.d(t,"pb",(function(){return K})),n.d(t,"rb",(function(){return J})),n.d(t,"qb",(function(){return Z})),n.d(t,"kb",(function(){return $})),n.d(t,"jb",(function(){return ee})),n.d(t,"ib",(function(){return te})),n.d(t,"hb",(function(){return ne})),n.d(t,"gb",(function(){return re})),n.d(t,"fb",(function(){return oe})),n.d(t,"db",(function(){return ie})),n.d(t,"eb",(function(){return ae})),n.d(t,"sb",(function(){return ce})),n.d(t,"vb",(function(){return ue})),n.d(t,"lb",(function(){return se})),n.d(t,"nb",(function(){return le})),n.d(t,"ub",(function(){return fe})),n.d(t,"xb",(function(){return de})),n.d(t,"tb",(function(){return pe})),n.d(t,"wb",(function(){return he})),n.d(t,"mb",(function(){return me})),n.d(t,"ob",(function(){return be})),n.d(t,"N",(function(){return ye})),n.d(t,"O",(function(){return ve})),n.d(t,"M",(function(){return ge})),n.d(t,"P",(function(){return Oe})),n.d(t,"L",(function(){return _e})),n.d(t,"a",(function(){return Ee})),n.d(t,"G",(function(){return Se})),n.d(t,"Q",(function(){return we})),n.d(t,"R",(function(){return je})),n.d(t,"S",(function(){return Ce})),n.d(t,"ab",(function(){return Re})),n.d(t,"T",(function(){return Pe})),n.d(t,"bb",(function(){return Te})),n.d(t,"X",(function(){return ke})),n.d(t,"Y",(function(){return Ae})),n.d(t,"Z",(function(){return Ne})),n.d(t,"V",(function(){return Ie})),n.d(t,"W",(function(){return Me})),n.d(t,"cb",(function(){return Le})),n.d(t,"U",(function(){return De})),n.d(t,"o",(function(){return xe})),n.d(t,"C",(function(){return qe})),n.d(t,"z",(function(){return Ue})),n.d(t,"A",(function(){return Be})),n.d(t,"B",(function(){return Fe})),n.d(t,"s",(function(){return He})),n.d(t,"p",(function(){return We})),n.d(t,"q",(function(){return Ve})),n.d(t,"r",(function(){return Ye})),n.d(t,"w",(function(){return ze})),n.d(t,"x",(function(){return Ge})),n.d(t,"u",(function(){return Xe})),n.d(t,"y",(function(){return Qe})),n.d(t,"t",(function(){return Ke})),n.d(t,"v",(function(){return Je})),n.d(t,"yb",(function(){return Ze})),n.d(t,"ac",(function(){return $e})),n.d(t,"bc",(function(){return et})),n.d(t,"Zb",(function(){return tt})),n.d(t,"Nb",(function(){return nt})),n.d(t,"Lb",(function(){return rt})),n.d(t,"Mb",(function(){return ot})),n.d(t,"Ab",(function(){return it})),n.d(t,"Bb",(function(){return at})),n.d(t,"zb",(function(){return ct})),n.d(t,"Gb",(function(){return ut})),n.d(t,"cc",(function(){return st})),n.d(t,"Hb",(function(){return lt})),n.d(t,"Fb",(function(){return ft})),n.d(t,"Cb",(function(){return dt})),n.d(t,"Eb",(function(){return pt})),n.d(t,"Db",(function(){return ht})),n.d(t,"Ub",(function(){return mt})),n.d(t,"Vb",(function(){return bt})),n.d(t,"Tb",(function(){return yt})),n.d(t,"Rb",(function(){return vt})),n.d(t,"Sb",(function(){return gt})),n.d(t,"Qb",(function(){return Ot})),n.d(t,"Ob",(function(){return _t})),n.d(t,"Pb",(function(){return Et})),n.d(t,"Yb",(function(){return St})),n.d(t,"Xb",(function(){return wt})),n.d(t,"Wb",(function(){return jt})),n.d(t,"Jb",(function(){return Ct})),n.d(t,"Kb",(function(){return Rt})),n.d(t,"Ib",(function(){return Pt})),n.d(t,"zc",(function(){return Tt}));var r="Показ ввода логина",o="Отправка формы логина",i='Показ кнопки "Зарегистрировать логин"',a="Успешный ввод",c="Показ ошибки",u="Переход на регистрацию из ошибки",s="Переход на восстановление логина из ошибки",l="Начало соц.авторизации",f="Вернуться на сервис",d="Показ формы ввод пароля",p="Показ формы соц.сеть",h="Показ формы 2fa",m="Показ формы соц.сеть и пароль",b="Отправка формы",y="Успешный ввод",v="Показ ошибки",g="Показ списка",O="Выход из аккаунта",_="Удаление из списка",E="Показ формы QR",S="2step_domik_show_login_form",w="2step_domik_show_pass_form",j="2step_domik_show_suggest_pass_form",C="2step_domik_show_qr_form",R="one_domik_auth_sucess",P='Показ кнопки "Войти без пароля"',T='Нажатие кнопки "Войти без пароля"',k="Успешный вход через подтверждение",A='Показ кнопки "Войти с помощью смс"',N='Нажатие кнопки "Войти с помощью смс"',I="Успешный вход по смс",M="Успешный вход неофониша",L="Вход по магическому письму: показ страницы подтверждения",D='Вход по магическому письму: нажатие "Это не Я"',x='Вход по магическому письму: нажатие "Это Я"',q="Вход по магическому письму: успешное подтверждение",U="Вход по магическому письму: получение ошибок",B="Вход по магическому письму: вход по ссылке отменен",F="Вход по мессенджеру: показ страницы подтверждения",H='Вход по мессенджеру: нажатие "Это не Я"',W='Вход по мессенджеру: нажатие "Это Я"',V="Вход по мессенджеру: успешное подтверждение",Y="Вход по мессенджеру: получение ошибок",z='Вход по мессенджеру: Нажатие кнопки "Войти без пароля"',G="Вход по мессенджеру: успешно отправлен код",X="Вход по мессенджеру: ошибка отправки кода",Q="Вход по мессенджеру отменен",K="Восстановление логина на странице авторизации",J="Показ ввода кода",Z="Показ ввода капчи",$="Ввод номера",ee="Ошибка ввода номера",te="Успешный ввод кода",ne="Ошибка ввода кода",re="Ошибка ввода капчи",oe="Подтверждение номера телефона через СМС",ie="Подтверждение номера телефона через звонок",ae="Подтверждение номера телефона через сброс",ce="Звонок",ue="СМС",se="Ошибка при звонке",le="Ошибка при СМС",fe="Повторный звонок",de="Повторная СМС",pe="Успешное подтверждение через звонок",he="Успешное подтверждение через СМС",me="Ошибка на подтверждении через звонок",be="Ошибка на подтверждении через СМС",ye="Страница пререгистрации",ve="Показ страницы пререгистрации",ge="Переход на лайт регистрацию со страницы пререгистрации",Oe="Переход на обычную регистрацию со страницы пререгистрации",_e='Переход на обычную регистрацию по кнопке "завести почту на Яндексе"',Ee="additional_data_request",Se='Нажатие на кнопку "Регистрация по телефону или почте"',we="Лайты в домике: показ страницы с вводом кода из письма",je="Лайты в домике: показ ошибки на странице ввода кода из письма",Ce="Лайты в домике: успешный ввода кода из письма",Re="Лайты в домике: показ страницы с вводом пароля",Pe="Лайты в домике: показ ошибки на странице с вводом пароля",Te="Лайты в домике: успешный ввода пароля",ke="Лайты в домике: показ страницы с вводом имени и фамилии",Ae="Лайты в домике: показ ошибки на странице с вводом имени и фамилии",Ne="Лайты в домике: успешный ввода имени и фамилии",Ie="Лайты в домике: показ страницы с EULA",Me='Лайты в домике: нажали на "Зарегистрироваться"',Le="Лайты в домике: успешная регистрация",De="Лайты в домике: показ ошибки",xe="Челленджи в домике v2",qe="Показ страницы подтверждения входа с телефоном",Ue="Челендж с телефоном: успешный ввод",Be="Челендж с телефоном, показ ошибки",Fe="Челендж с телефоном, не могу восстановить",He="Показ страницы подтверждения входа с email",We="Челендж с email: успешный ввод",Ve="Челендж с email: показ ошибки",Ye="Челендж с email: не могу восстановить",ze="Челендж со звонком: Показ страницы подтверждения входа со звонком",Ge='Челендж со звонком: нажали "Подтвердить"',Xe='Челендж со звонком: попап с подтверждением номера"',Qe='Челендж со звонком: успешное подтверждение номера телефона"',Ke="Челендж со звонком: показ ошибки",Je="Челендж со звонком: не могу восстановить",Ze="Восстановление пароля в домике",$e="Показ формы ввода логина",et="Переход из домика",tt="Выбор логина из саджеста",nt="Успешный ввод логина",rt="Ошибка при вводе логина:",ot="Статус пользователя при проверке логина:",it="Показ формы с капчей",at="Успешный ввод капчи",ct="Ввод капчи",ut="Показ формы ввода email",st='Нажатие "Отправить только код восстановления"',lt="Успешный ввод email",ft="Ошибка при вводе email",dt="Показ формы подтверждения email",pt="Успешный ввод кода для подтверждения email",ht="Ошибка при вводе кода для подтверждения email",mt="Показ формы ввода номера телефона",bt="Успешный ввод номера телефона",yt="Ошибка при валидации номера телефона",vt="Показ формы подтверждения номера телефона",gt="Успешный ввод кода для подтверждения телефона",Ot="Ошибка при вводе кода для подтверждения телефона",_t='Нажатие на "Не получается восстановить"',Et="Подтверждение телефона, повторить",St="Показ формы проверки КВ",wt="Успешная проверка КВ",jt="Ошибка при проверке КВ",Ct="Показ формы смены пароля",Rt="Успешная смена пароля",Pt="Ошибка при смене пароля",Tt="Социализм"},"NHzAIykEKDoFXxM+bbcY":function(e,t,n){},NYgweBU7we5NQJrgDZbv:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("W3MgEIO55ELSFhldjoS/"),a=n("NH34m/YMyHs61nOqvuoz"),c=n("WJOEWUhuaqB4LU1CIwDt"),u=n("xSpN8Kyw4VlgAPhFVdtL");function s(){return function(e,t){var n=t(),s=n.common,l=s.csrf,f=s.track_id,d=n.mailAuth.mailTrack,p=n.auth.processedAccount,h=(p||{}).primaryAliasType,m=Object(u.b)(h)===u.a.LITE,b={csrf_token:l,track_id:d||f};r.a.request("auth/invalidate_magic_letter",b).done((function(t){if("ok"===t.status&&(e(Object(o.jb)(!0)),i.a.send([m?a.e:a.j]),!d)){var n=m?"magic_link.invalidated":"messenger_link.invalidated";e(Object(o.lb)(n)),e(Object(c.b)({login:p.login})),e(Object(o.Hb)(!0))}})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Array.isArray(t.errors)&&t.errors[0]||"global";e(Object(o.lb)(n)),i.a.send([a.d])}))}}},NoFeXeyUaLnlF3HDY2SY:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"p",(function(){return v})),n.d(t,"o",(function(){return g}));var r="CLEAR_ERRORS",o="SET_ERRORS",i="CHANGE_CAPTCHA_ANSWER",a="CHANGE_CAPTCHA_STATE",c="CHANGE_PHONE_NUMBER",u="CHANGE_EMAIL",s="CHANGE_CONFIRMATION_CODE",l="CHANGE_CONFIRMATION_CODE_SENT_STATUS",f="SENT_PHONE_CONFIRMATION_CODE_SUCCESS",d="SENT_EMAIL_CONFIRMATION_CODE_SUCCESS";function p(){return{type:r}}function h(e){return{type:o,errors:e}}function m(e){return{type:c,phoneNumber:e}}function b(e){return{type:u,email:e}}function y(e){return{type:s,confirmationCode:e}}function v(e){return{type:f,payload:e}}function g(){return{type:d}}},"O5/wDFcDcr7psfl422DM":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"m",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return _})),n.d(t,"h",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return C})),n.d(t,"c",(function(){return R})),n.d(t,"l",(function(){return P})),n.d(t,"n",(function(){return T})),n.d(t,"b",(function(){return k}));var r=n("MJovFwNIrFAmLe5Xoo3c"),o=n.n(r),i=n("8on1HivGWKFpo5zlabzv"),a=n.n(i),c=n("y1lFHCm6B2gquSkTr2oB");n("N6N5KCDRlmBrE6N3/28a");var u=/^https:\/\/(?:yandex|.+\.yandex)\.(?:ru|az|com\.am|com\.ge|co\.il|kg|lv|lt|md|tj|tm|uz|fr|ee|ua|by|kz|com|com\.tr)$/,s=/^https:\/\/[^/]*/,l=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return t&&""!==t?"string"==typeof t?r["".concat(e,"-").concat(t.toLowerCase())]=!0:Object.keys(t).forEach((function(n){r["".concat(e,"-").concat(n.toLowerCase())]=t[n]})):r[e]=!0,Object.keys(n).forEach((function(t){n[t]&&("boolean"==typeof n[t]?r["".concat(e,"-").concat(t.toLowerCase())]=n[t]:r["".concat(e,"-").concat(t.toLowerCase(),"_").concat(n[t])]=!0)})),o()(r)}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://yandex.ru",n=s.exec(t);if(u.test(n)){if(window.parent!==window)try{window.parent.postMessage(e,t)}catch(e){}if(window.opener!==window)try{window.opener.postMessage(e,t)}catch(e){}}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach((function(n){""!==e[n]&&(t[n]=e[n])})),t},p=/[^\d]+/g,h=/(\d{2})(\d{3})(\d{3})(\d{4})/,m=/(\d{4})(\d{3})(\d{4})/,b=/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,y=/(\d{3})(\d{3})(\d{2})(\d{2})/,v=/(\d{1})(\d{3})(\d{3})/,g=/(\d{3})(\d{2})(\d{3})(\d{2})(\d{2})/,O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(p,"");return 12===t.length&&(t=t.replace(g,"+$1 $2 $3-$4-$5")),12===e.length&&(t=t.replace(h,"+$1 $2 $3 $4")),11===t.length&&(t=["7","8"].includes(t[0])?t.replace(b,"$1 ($2) $3-$4-$5"):t.replace(m,"($1) $2 $3"),["7","1"].includes(t[0])&&(t="+".concat(t))),10===t.length&&(t=t.replace(y,"+7 ($1) $2-$3-$4")),t},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(p,"").replace(v,"$1 ($2) $3");return"8"===t[0]?t:"+".concat(t)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Number(new Date/1e3+e|0)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?{title:"Политика конфиденциальности и условия использования",description:'Я принимаю условия <a href="https://yandex.ru/legal/rules/"  target="_blank">Пользовательского соглашения</a> и даю своё согласие Яндексу на обработку моей персональной информации на условиях, определенных <a href="https://yandex.ru/legal/confidential/" target="_blank">Политикой конфиденциальности</a>.',button:"Принимаю"}:{title:"Немного формальностей",description:'Нажимая «Далее», вы принимаете <a href="https://yandex.ru/legal/rules/" target="_blank">пользовательское соглашение</a> и соглашаетесь на обработку вашей персональной информации на <a href="https://yandex.ru/legal/confidential/" target="_blank">условиях политики конфиденциальности</a>',button:"Далее"}},w=function(){return a.a.parse("undefined"!=typeof window?location.search.substring(1):"")},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w()[e]},C=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=r;return 0===i.indexOf("".concat(n,"."))&&(i=i.replace("".concat(n,"."),"")),c.a[n]&&c.a[n].descriptions&&(t=c.a[n].descriptions[i]||c.a[n].descriptions[r]),c.a[n]&&c.a[n].errors&&(e=c.a[n].errors[i]||c.a[n].errors[r]||c.a.global.errors.global),o?{code:i,text:e,errorDescription:t,warning:!0}:{code:i,text:e,errorDescription:t}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=C(e,t);return Object.assign({},n,{status:"error",field:e})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.lastIndexOf("/")===e.length-1?e.slice(0,-1):e},T=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}};var k=function(e){if([HTMLInputElement,HTMLTextAreaElement].some((function(t){return e instanceof t}))){var t=2*(e.value||"").length;if(t)try{e.setSelectionRange(t,t)}catch(e){}e.focus(),e.click()}}},OWyp9q5IAHy11NTyZQSA:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"o",(function(){return o})),n.d(t,"p",(function(){return i})),n.d(t,"n",(function(){return a})),n.d(t,"l",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"k",(function(){return v})),n.d(t,"v",(function(){return g})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return E})),n.d(t,"q",(function(){return S})),n.d(t,"u",(function(){return w})),n.d(t,"y",(function(){return j})),n.d(t,"x",(function(){return C})),n.d(t,"w",(function(){return R})),n.d(t,"z",(function(){return P}));var r="SWITCH_TO_MODE_REGISTER_LITE",o="SWITCH_TO_MODE_REGISTER_LITE_FORM",i="SWITCH_TO_MODE_REGISTER_LITE_NAME",a="SWITCH_TO_MODE_REGISTER_LITE_EULA",c="LITE_REGISTER_SET_TRACK_ID",u="LITE_REGISTER_CHANGE_FIRST_NAME",s="LITE_REGISTER_CHANGE_LAST_NAME",l="LITE_REGISTER_CHANGE_CONFIRMATION_CODE",f="LITE_REGISTER_SET_ERRORS",d="LITE_REGISTER_CHANGE_PASSWORD",p="LITE_REGISTER_CHANGE_PASSWORD_CONFIRM",h="LITE_REGISTER_LOGIN_REQUIRED",m="LITE_REGISTER_CHANGE_LOGIN",b="LITE_REGISTER_PASSWORD_WARNING",y="LITE_REGISTER_PASSWORD_ERROR_DESCR",v="LITE_REGISTER_SET_PASSWORD_VALID";function g(e){return{type:c,track_id:e}}function O(e){return{type:u,firstname:e}}function _(e){return{type:s,lastname:e}}function E(e){return{type:d,password:e}}function S(e){return{type:l,confirmationCode:e}}function w(e){return{type:f,errors:e}}function j(e){return{type:b,warning:e}}function C(e){return{type:v,isValid:e}}function R(e){return{type:y,text:e}}function P(e){return{type:h,status:e}}},"OX/wkVklJcgTEff1wL6D":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("2zFAvgXZRXm915c1LW+m"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("DoQaHn2w4kPN7lMBHsaC");function c(){return function(e,t){var n=t(),c=n.challenge,u=c.phoneId,s=c.isConfirmWithCall,l=n.common,f=l.track_id,d=l.csrf,p=n.pagePopup.isShowPagePopup,h={phone_id:u,confirm_method:"by_sms",track_id:f,csrf_token:d};s&&(h.confirm_method="by_flash_call"),e(Object(i.ab)(!0)),e(Object(o.e)({errorText:"",errorCode:"",fieldValue:""})),r.a.request("phone-confirm-code-submit",h).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"ok"===t.status&&t.calling_number_template&&e(Object(o.e)({callFrom:t.calling_number_template})),"by_sms"===h.confirm_method&&t.number&&e(Object(o.e)({smsTo:t.number.masked_international})),p||(e(Object(i.W)("challengeCall")),e(Object(i.X)(!0)))})).fail((function(t){var n=Array.isArray(t.errors)&&t.errors[0];e(Object(a.a)(n))})).always((function(){e(Object(i.ab)(!1))}))}}},OfN8twtFdn1TJmin37OE:function(e,t,n){},"PFkJ+x8U9pDZf+GYtiPc":function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("NH34m/YMyHs61nOqvuoz"),l=n("W3MgEIO55ELSFhldjoS/"),f=n("icG+8Jgv+BJiTL/fPTrX"),d=n("xSpN8Kyw4VlgAPhFVdtL"),p=n("tCkh2Qrmkk8kxTyPmKAs"),h=["social_gg","social_fb","social_tw","social_mr","social_vk","social_ok"];var m=n("ZDmX7r9YifVbosUR2qgY"),b=n("qyhOylcYgz7sofzu7jFu"),y=n("BiY5T7IoWQd4oP5CD4Ck"),v=n("yi2HOavEOLsMrMN95lAZ");var g=n("iYno3SKv/BW0tduPFmp1"),O=n("s/FDDScv+AdgQla/TjIC");var _=n("6OWwt9yvRw7ShcN4G3nV"),E=n("gGLUm6icyW4lmihzoT4E"),S=n("iCK235f/imKRe7hxV26u");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=Object(u.cn)("CurrentAccount"),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r,i=P(a);function a(){var e;j(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(k(e=i.call.apply(i,[this].concat(n))),"switchToListPage",(function(t){t.preventDefault();var n=e.props,r=n.addUserUrl,o=n.editUrl,i=n.hasUnitedAccounts,a=n.dispatch;a(Object(E.d)(i?o:r,{isPreviousStep:!0})),i||(a(Object(y.Jb)("")),a(Object(v.a)("login","")))})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.hasDisplayName,n=e.displayLogin,r=e.avatarStyle,i=e.displayName,a=e.login,c=e.editUrl;return e.account?o.a.createElement("a",{className:I(),href:c,onClick:this.switchToListPage},o.a.createElement("span",{className:I("avatar"),style:r}),o.a.createElement("span",{className:I("name")},o.a.createElement("span",{className:I("displayName")},i||n||a),t&&n&&o.a.createElement("span",{className:I("login")},n))):null}}])&&C(t.prototype,n),r&&C(t,r),a}(r.Component);M.propTypes={account:c.a.object,hasDisplayName:c.a.bool.isRequired,displayLogin:c.a.string,avatarStyle:c.a.object.isRequired,displayName:c.a.string,login:c.a.string,addUserUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,hasUnitedAccounts:c.a.bool.isRequired,dispatch:c.a.func.isRequired};var L=Object(i.c)((function(e){var t=e.common,n=t.editUrl,r=t.addUserUrl,o=e.settings.avatar,i=e.auth,a=i.processedAccount,c=i.unitedAccounts,u=void 0===c?{}:c,s=a||{},l=s.avatarId,f=s.login,d=s.displayName,p=s.hasSocial,h=s.mail,m=s.defaultEmail,b=s.socialProvider,y=o.host,v=o.pathname,g=Boolean(d),O=v.replace("%uid%",l).replace("%size%","200").replace("%login%",f),_={backgroundImage:'url("https://'.concat(y).concat(O,'")')};return{hasDisplayName:g,displayLogin:p?S.a[b]:h||m||"",avatarStyle:_,displayName:d,login:f,addUserUrl:r,editUrl:n,hasUnitedAccounts:Object.keys(u).length>0,account:a}}))(M),D=n("Sv+DydT6rKBct5kRKGVV"),x=n("uK9xiV8SwhymVpEWNYWz");var q=n("E7tECPK7daWDXj1IZwt+"),U=n("3jQNbST1kIlUrdI/RR8z");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(a,e);var t,n,r,i=W(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),G(Y(t=i.call(this,e)),"fieldOptions",{autoCorrect:"off",autoCapitalize:"off",autoComplete:"new-password"}),G(Y(t),"fieldLink",{}),G(Y(t),"patchFieldLink",(function(){var e=t.props,n=e.login,r=e.fieldLink,o=e.dispatch;t.fieldLink=Object.assign({},r),t.fieldLink.onClick=function(e){l.a.send([s.qc,s.I]),n&&(e.preventDefault(),o(Object(U.a)()))}})),t.patchFieldLink(),t}return t=a,(n=[{key:"componentDidMount",value:function(){l.a.send([s.qc])}},{key:"render",value:function(){var e=this.props,t=e.password,n=e.isShowFieldLink,r=e.onChange,i=e.login,a=e.fieldError;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:"g-hidden",type:"text",name:"login",id:"login",readOnly:!0,autoCorrect:"off",autoCapitalize:"off",autoComplete:"username",value:i}),o.a.createElement(q.a,{hasToggler:!0,shouldValidate:!1,size:"l",label:"Введите одноразовый пароль",value:t,name:"passwd",error:a,link:this.fieldLink,options:this.fieldOptions,isShowFieldLink:n,onChange:r,view:"floating-label"}))}}])&&F(t.prototype,n),r&&F(t,r),a}(r.Component);X.defaultProps={fieldValue:""},X.propTypes={password:c.a.string,isShowFieldLink:c.a.bool.isRequired,onChange:c.a.func.isRequired,dispatch:c.a.func.isRequired,login:c.a.string,fieldError:c.a.string,fieldLink:c.a.shape({url:c.a.string.isRequired,text:c.a.string.isRequired,onClick:c.a.func.isRequired}).isRequired};var Q=Object(i.c)((function(e){var t=e.auth,n=t.passwordError,r=t.form,o=r.login,i=r.password,a=e.common,c=a.restorePasswordCaptchaUrl,u=a.restorePasswordUrl,s=c.includes("?")?"".concat(c,"&login=").concat(o):"".concat(c,"?login=").concat(o),l={url:o?s:u,text:"Восстановить доступ",onClick:function(){}},f=function(e){return e?"captcha.required"===e?"":"password.not_matched"===e?D.a["password.not_matched_2fa"]:Object(x.a)(D.a[e]||D.a.global):""}(n);return{password:i,isShowFieldLink:!f||f!==D.a.global&&-1===["captcha.required","csrf_token.invalid","password.not_matched","account.disabled","account.disabled_on_deletion","sessionid.overflow"].indexOf(n),login:o,fieldError:f,fieldLink:l}}))(X);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?ne(e):t}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(a,e);var t,n,r,i=ee(a);function a(){var e;J(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oe(ne(e=i.call.apply(i,[this].concat(n))),"fieldOptions",{autoCorrect:"off",autoCapitalize:"off",autoComplete:"current-password"}),oe(ne(e),"updatedFieldLink",{}),oe(ne(e),"defineFieldLinkHandler",(function(){var t=e.props,n=t.hasSocialButton,r=t.fieldLink,o=Object.assign({},r);return o.onClick=function(){l.a.send([n?s.wc:s.rc,s.I]),e.props.dispatch(Object(U.a)())},o})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props.hasSocialButton;l.a.send([e?s.wc:s.rc]),this.updatedFieldLink=this.defineFieldLinkHandler()}},{key:"render",value:function(){var e=this.props,t=e.password,n=e.onChange,r=e.fieldError,i=e.isShowFieldLink,a=e.inputLogin,c=e.login;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:"g-hidden",type:"text",name:"login",id:"login",readOnly:!0,autoComplete:"username",value:a||c}),o.a.createElement(q.a,{hasToggler:!0,shouldValidate:!1,size:"l",label:"Введите пароль",value:t,name:"passwd",error:r,options:this.fieldOptions,link:this.updatedFieldLink,isShowFieldLink:i,onChange:n,view:"floating-label"}))}}])&&Z(t.prototype,n),r&&Z(t,r),a}(r.Component);ie.defaultProps={fieldValue:""},ie.propTypes={password:c.a.string,login:c.a.string,inputLogin:c.a.string,onChange:c.a.func.isRequired,fieldError:c.a.string,fieldLink:c.a.shape({url:c.a.string.isRequired,text:c.a.string.isRequired,onClick:c.a.func.isRequired}).isRequired,isShowFieldLink:c.a.bool.isRequired,hasSocialButton:c.a.bool,dispatch:c.a.func};var ae=Object(i.c)((function(e,t){var n=e.auth,r=n.passwordError,o=n.inputLogins,i=n.processedAccount,a=n.form.login,c=e.common,u=c.restoration_url,f=c.isWebView,d=e.am,p=void 0===d?{}:d,h=t.hasSocialButton,m=r&&-1===["captcha.required","password.empty","password.not_matched"].indexOf(r)?"Восстановить доступ":"Не помню пароль",b={url:u.replace("login=login",a?"login=".concat(a):""),text:m,pseudo:!0,onClick:function(){l.a.send([h?s.wc:s.rc,s.I])}},y=function(e){if(!e)return"";if("captcha.required"===e)return"";return Object(x.a)(D.a[e]||D.a.global)}(r);return{login:a,isShowFieldLink:(!y||y!==D.a.global&&-1===["captcha.required","csrf_token.invalid","account.disabled","account.disabled_on_deletion","sessionid.overflow"].indexOf(r))&&(p.isAm||!f),fieldError:y,fieldLink:b,inputLogin:i&&o&&o[i.uid]||null}}))(ie),ce=n("QVbIF+W9nkHnIvgbpiW3"),ue=n("xTYMmTVCxHhb8U90Af7w"),se=n("DNml7VDdSAs10Z4giKjv"),le=n("dVdlchGuZyN639S0A3so"),fe=function(e){var t=e.switchToModeMagic;return o.a.createElement(se.a,{view:"pseudo",size:"l",width:"max",dataT:"qr-button",onClick:t},o.a.createElement(le.a,{type:"qr",place:"button"}),"Войти по QR-коду")};fe.propTypes={switchToModeMagic:c.a.func.isRequired};var de={switchToModeMagic:ue.a},pe=Object(i.c)(null,de)(fe);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?ge(e):t}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=Object(u.cn)("AuthPasswordForm"),Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(a,e);var t,n,r,i=ye(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).changePasswordValue=t.changePasswordValue.bind(ge(t)),t.submitPasswordForm=t.submitPasswordForm.bind(ge(t)),t}return t=a,(n=[{key:"componentWillUnmount",value:function(){(0,this.props.setPasswordError)("")}},{key:"changePasswordValue",value:function(e){(0,this.props.updatePasswordValue)(e)}},{key:"submitPasswordForm",value:function(e){e.preventDefault();var t=this.props,n=t.password;(0,t.dispatch)(Object(g.a)(O.a,n))}},{key:"render",value:function(){var e=this.props,t=e.password,n=e.trackId,r=e.csrf,i=e.hasSocialButton,a=e.hasCaptcha,c=e.isShowOTPField,u=e.isShowPasswordField,s=e.isShowSubmitButton,l=e.isShouldFallbackToPassword,f=e.isMagicAuth,d=e.authUrl,p=e.loading,h=e.isShowQrButton;return o.a.createElement("div",{className:_e()},o.a.createElement("form",{onSubmit:this.submitPasswordForm,method:"post",action:d,noValidate:!0},o.a.createElement("input",{type:"hidden",name:"track_id",value:n,readOnly:!0}),o.a.createElement("input",{type:"hidden",name:"csrf_token",value:r,readOnly:!0}),a&&o.a.createElement("div",{className:_e("captcha")},o.a.createElement(_.a,null)),o.a.createElement("div",{className:_e("currentAccount")},o.a.createElement(L,null)),c&&o.a.createElement(Q,{onChange:this.changePasswordValue,password:t}),(u||l)&&o.a.createElement(ae,{onChange:this.changePasswordValue,hasSocialButton:i,password:t}),s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ce.a,{isDisabled:p}),f&&h&&o.a.createElement("div",{className:_e("qr-button")},o.a.createElement(pe,null)))))}}])&&me(t.prototype,n),r&&me(t,r),a}(r.Component);Ee.defaultProps={trackId:"",csrf:""},Ee.propTypes={password:c.a.string,trackId:c.a.string,csrf:c.a.string,dispatch:c.a.func,authUrl:c.a.string.isRequired,hasSocialButton:c.a.bool.isRequired,hasCaptcha:c.a.oneOfType([c.a.bool,c.a.object]),isShowOTPField:c.a.bool.isRequired,isShowPasswordField:c.a.bool.isRequired,isShouldFallbackToPassword:c.a.bool.isRequired,isMagicAuth:c.a.bool.isRequired,isShowSubmitButton:c.a.bool.isRequired,isForceMailAuthEnable:c.a.bool.isRequired,updatePasswordValue:c.a.func.isRequired,loading:c.a.bool.isRequired,setPasswordError:c.a.func.isRequired,isShowQrButton:c.a.bool};var Se=Object(i.c)((function(e,t){var n=e.common,r=n.track_id,o=n.csrf,i=n.authUrl,a=e.auth,c=a.form,u=c.isForceOTP,s=c.password,l=a.passwordError,d=a.processedAccount,p=a.isQRAuthEnabled,h=a.loading,m=d&&d.allowed_auth_methods||[],b=d&&d.preferred_auth_method||"password";m.indexOf("otp")>-1&&u&&(b="otp");var y=Boolean(l&&l.indexOf("captcha")>-1),v=Boolean("password"===b||m.indexOf("password")>-1),g=Boolean("otp"===b||m.indexOf("otp")>-1),O=Boolean(v||g),_=!y&&m.indexOf("magic")>-1||m.indexOf("magic_x_token")>-1&&p,E=!(v||g||t.hasSocialButton||t.isForceMailAuthEnable||m.includes("sms_code")),S=Object(f.l)(e);return{password:s,trackId:r,csrf:o,passwordError:l,isShowPasswordField:v,isShowOTPField:g,authUrl:i,isShowSubmitButton:O,isShouldFallbackToPassword:E,isMagicAuth:_,hasCaptcha:y,loading:h,isShowQrButton:!S||S&&Object(f.j)(e,"newdesign-qr-enable")}}),(function(e){var t={updatePasswordValue:y.Lb,setPasswordError:y.ub};return Object.assign({},Object(m.b)(t,e),{dispatch:e})}))(Ee),we=n("H/GWyicROAQnHKbtN2vf");function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Te(this,n)}}function Te(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?ke(e):t}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=Object(u.cn)("AuthSocialButton"),Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(a,e);var t,n,r,i=Pe(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).authSocial=t.authSocial.bind(ke(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.isShowPasswordField||l.a.send([s.vc])}},{key:"authSocial",value:function(){var e=this.props,t=e.socialScope,n=e.provider,r=e.dispatch,o=n.data.code;r(Object(we.a)({provider:o,scope:t&&t[o]}))}},{key:"render",value:function(){var e=this.props,t=e.provider,n=e.lang;if(!t)return null;var r=t.data,i=void 0===r?{}:r,a=i.display_name,c=void 0===a?{}:a,u=i.code,s=c[n]||c.default;return o.a.createElement("div",{className:Ne()},o.a.createElement(se.a,{onClick:this.authSocial,type:"button",view:"pseudo",size:"l",width:"max",dataT:"social:auth:".concat(u)},o.a.createElement(le.a,{type:u,size:"s",place:"button"}),"Войти через %1".replace("%1",s)))}}])&&Ce(t.prototype,n),r&&Ce(t,r),a}(r.Component);Ie.propTypes={provider:c.a.object,lang:c.a.string.isRequired,isShowPasswordField:c.a.bool,dispatch:c.a.func.isRequired,socialScope:c.a.object};var Me=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings.lang,n=e.auth.processedAccount,r=e.social.providers,o=(n||{}).preferred_auth_method;("magic_x_token"===o||o.indexOf("social_")<0)&&(o=n.allowed_auth_methods.filter((function(e){return e.indexOf("social_")>-1}))[0]);var i=r.filter((function(e){var t=e.data;return"social_".concat(t.code)===o}))[0]||null;return{provider:i,lang:t}}))(Ie);var Le=n("5JYr1wX0R8/HykYVD6Pg");var De=n("Cn0bb7dlXdz9iLHfBkZ3");var xe=n("F0RLjjE+ZbZkCivh5+sy");function qe(){return function(e,t){var n=t(),r=Object(f.f)(n),o=n.common,i=o.csrf,a=o.track_id,c=(n.auth.processedAccount||{}).primaryAliasType,u=Object(d.b)(c)===d.a.LITE,s={csrf_token:i,track_id:a,retpath:r};e(Object(y.ab)(!0)),e(Object(y.lb)("")),De.a.request("/auth/letter/status/",s).done((function(t){if(t&&"ok"===t.status&&t.magic_link_confirmed){var n="/auth/finish/?track_id=".concat(t.track_id);return e(Object(y.lb)("")),(t.retpath||r)&&(n+="&retpath=".concat(encodeURIComponent(t.retpath||r))),void(window.location.href=n)}e(Object(y.X)(!0)),e(Object(y.W)(u?"authLetter":"authMessenger")),e(Object(y.jb)(!1))})).fail((function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";e(Object(y.lb)(n))})).always((function(){e(Object(y.ab)(!1))}))}}var Ue=function(e){var t=e.handleCaptcha;return o.a.createElement("div",{className:"al-captcha__wrapper"},o.a.createElement("form",{onSubmit:t,method:"post"},o.a.createElement(_.a,null),o.a.createElement(se.a,{type:"submit",text:"Продолжить",view:"action",size:"l",width:"max"})))},Be=Ue;Ue.propTypes={handleCaptcha:c.a.func.isRequired};var Fe=n("F+XoypME10tU70Tu7EYE");function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?Ge(e):t}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qe=Object(u.cn)("AuthLetterButton"),Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(a,e);var t,n,r,i=Ye(a);function a(e){var t,n,r,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),n=Ge(t),r="buttonRef",c=o.a.createRef(),r in n?Object.defineProperty(n,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[r]=c,t.handleAuthLetter=t.handleAuthLetter.bind(Ge(t)),t.handleCaptcha=t.handleCaptcha.bind(Ge(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){l.a.send([s.kc])}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(y.lb)(""))}},{key:"componentDidUpdate",value:function(e){var t=this;!e.shouldErrorDisappear&&this.props.shouldErrorDisappear&&setTimeout((function(){t.props.dispatch(Object(y.lb)(""))}),6e3)}},{key:"handleAuthLetter",value:function(){var e=this.props,t=e.isAuthMailConfirmationVisible,n=e.isAuthLetterStatusChecking,r=e.dispatch;if(n&&!t)return r(Object(y.X)(!0)),void r(Object(y.W)("authLetter"));r((function(e,t){var n=t(),r=n.common,o=r.csrf,i=r.track_id,a={csrf_token:o,language:n.settings.lang,track_id:i};e(Object(y.ab)(!0)),De.a.request("auth/send_magic_letter",a).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"ok"===t.status){var n=t.code;e(Object(y.mb)(n)),e(Object(y.X)(!0)),e(Object(y.W)("authLetter")),e(Object(y.jb)(!1)),e(Object(y.Hb)(!1))}else e(Object(y.lb)("global"))})).fail((function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";e(Object(y.lb)(n))})).always((function(){e(Object(y.ab)(!1))}))})),l.a.send([s.D])}},{key:"handleCaptcha",value:function(e){e.preventDefault(),this.props.dispatch(Object(xe.a)({action:qe}))}},{key:"render",value:function(){var e=this.props,t=e.isAuthMailSent,n=e.isCaptchaRequired,r=e.email,i=e.error,a=e.buttonText,c=e.descriptionText;return n?o.a.createElement(Be,{handleCaptcha:this.handleCaptcha}):o.a.createElement(o.a.Fragment,null,o.a.createElement(se.a,{size:"l",view:"default",type:"button",width:"max",controlRef:this.buttonRef,onClick:this.handleAuthLetter,dataT:"auth-letter"},o.a.createElement(le.a,{size:"s",place:"button",type:"letter"}),a),o.a.createElement(Fe.a,{visible:Boolean(i&&!n),view:"black",target:"anchor",anchor:this.buttonRef,directions:["bottom-center"],style:{maxWidth:"350px"},keepMounted:!1},o.a.createElement("div",{className:Qe("error")},i)),!t&&r&&o.a.createElement("div",{className:Qe("description"),dangerouslySetInnerHTML:{__html:c}}))}}])&&We(t.prototype,n),r&&We(t,r),a}(r.Component),Je=Object(i.c)((function(e){var t=e.mailAuth,n=t.isAuthMailConfirmationVisible,r=t.isUpdatedAuthLetterStatus,o=t.isAuthMailSent,i=t.isAuthCancelled,a=t.mailAuthError,c=t.mailAuthExperiment,u=(e.auth.processedAccount||{}).email,s=void 0===u?"":u,l=Object.assign({},D.a,Le.a),f="magic_link.invalidated"===a,d=o&&!i;return{isAuthMailConfirmationVisible:n,isUpdatedAuthLetterStatus:r,isAuthMailSent:o,isAuthCancelled:i,isAuthLetterStatusChecking:d,isCaptchaRequired:"captcha.required"===a,error:a&&(l[a]||l.global),shouldErrorDisappear:f,email:s,buttonText:function(e,t){if(t)return"Письмо отправлено";var n={magic_link_exp:"Отправить письмо для входа",magic_link_exp_t1:"Отправить письмо для входа",magic_link_exp_t2:"Войти без пароля",magic_link_exp_t3:"Войти без пароля",magic_link_exp_t4:"Отправить письмо для входа"};return n[e]||n.magic_link_exp}(c,d),descriptionText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"magic_link_exp",t=arguments.length>1?arguments[1]:void 0,n={magic_link_exp:"Письмо со ссылкой придёт на почту <strong>%s</strong>.\nОткройте его на любом устройстве",magic_link_exp_t1:"Если вы уже вошли в почту <strong>%s</strong> на другом устройстве, подтвердите вход, нажав на кнопку в письме",magic_link_exp_t2:"Мы отправим на ящик <strong>%s</strong> письмо для подтверждения входа",magic_link_exp_t3:"Мы отправим письмо на <strong>%s</strong>, откройте его на устройстве, где вы авторизованы",magic_link_exp_t4:"Откройте его на устройстве, где вы авторизованы, и подтвердите вход"};return n[e]&&n[e].replace("%s",t)||n.magic_link_exp}(c,s)}}))(Ke);Ke.propTypes={isAuthMailConfirmationVisible:c.a.bool,isAuthMailSent:c.a.bool,isAuthLetterStatusChecking:c.a.bool,isCaptchaRequired:c.a.bool,email:c.a.string.isRequired,error:c.a.string,shouldErrorDisappear:c.a.bool,buttonText:c.a.string,descriptionText:c.a.string,dispatch:c.a.func};var Ze={"backend.bot_api_failed":"Внутренняя ошибка: обновите страницу и попробуйте еще раз","messenger_link.invalidated":"Вы отменили вход по ссылке из приложения"};var $e=n("exOCWzlfu86/I8jXI0mZ"),et=n("xk86jm087z7uHPch9i2c");function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var o=ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return at(this,n)}}function at(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?ct(e):t}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=Object(u.cn)("AuthMessengerButton"),ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(a,e);var t,n,r,i=it(a);function a(){var e;nt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return st(ct(e=i.call.apply(i,[this].concat(n))),"buttonRef",o.a.createRef()),e}return t=a,(n=[{key:"componentWillUnmount",value:function(){this.props.setAuthMessengerError("")}},{key:"componentDidUpdate",value:function(e){var t=this;!e.shouldErrorDisappear&&this.props.shouldErrorDisappear&&setTimeout((function(){t.props.setAuthMessengerError("")}),6e3)}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.isCaptchaRequired;return n?o.a.createElement(Be,{handleCaptcha:this.props.handleCaptcha}):o.a.createElement(o.a.Fragment,null,o.a.createElement(se.a,{size:"l",view:"default",type:"button",width:"max",controlRef:this.buttonRef,onClick:this.props.sendRequestToMessenger,dataT:"auth-messenger"},o.a.createElement(le.a,{size:"s",place:"button",type:"key"}),"Войти без пароля"),o.a.createElement(Fe.a,{visible:Boolean(t&&!n),view:"black",target:"anchor",anchor:this.buttonRef,directions:["bottom-center"],style:{maxWidth:"350px"},keepMounted:!1},o.a.createElement("div",{className:lt("error")},t)),o.a.createElement("div",{className:lt("description")},"Мы отправим вам сообщение для подтверждения входа. Откройте его на устройстве, где вы уже авторизованы"))}}])&&rt(t.prototype,n),r&&rt(t,r),a}(r.Component),dt=Object(i.c)((function(e){var t=e.messengerAuth,n=Object.assign({},D.a,Le.a,Ze),r=t.error&&(n[t.error]||n.global),o="messenger_link.invalidated"===t.error;return{error:r,isCaptchaRequired:"captcha.required"===t.error,shouldErrorDisappear:o}}),(function(e){var t={checkCaptcha:xe.a,handleCaptcha:function(t){return function(){t.preventDefault(),e(Object(xe.a)({action:qe}))}},checkAuthLetterStatus:qe,setAuthMessengerError:$e.c,sendRequestToMessenger:et.a};return Object.assign({},Object(m.b)(t,e),{dispatch:e})}))(ft);ft.propTypes={error:c.a.string,isCaptchaRequired:c.a.bool,shouldErrorDisappear:c.a.bool,setAuthMessengerError:c.a.func.isRequired,sendRequestToMessenger:c.a.func.isRequired,handleCaptcha:c.a.func.isRequired};var pt=n("ChNA47itMhrlI5HSOuk4"),ht=n("hbhwtfwpwcJBep3jxV99"),mt=n("6QkgGlmAmJL/UXgTfwXy");function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Et(e);if(t){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?_t(e):t}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=Object(u.cn)("AuthBySMSButton"),jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(a,e);var t,n,r,i=gt(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),St(_t(e=i.call(this)),"buttonRef",o.a.createRef()),St(_t(e),"hideButton",(function(){var t=e.props.setAuthBySMSState;setTimeout((function(){return e.setState({isNotAvailable:!0},(function(){return t({error:""})}))}),1e4)})),St(_t(e),"onClick",(function(){var t=e.props.submitAuthBySMS;l.a.send([s.F]),t()})),e.state={isNotAvailable:!1},e}return t=a,(n=[{key:"componentDidMount",value:function(){l.a.send([s.nc])}},{key:"componentDidUpdate",value:function(e){var t=this.props.error;t&&e.error!==t&&this.hideButton()}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.isNewTextExp;return this.state.isNotAvailable?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(se.a,{size:"l",view:"default",type:"button",width:"max",controlRef:this.buttonRef,onClick:this.onClick,dataT:"auth-by-sms"},o.a.createElement(le.a,{size:"s",place:"button",type:"message"}),n?"Получить смс для входа":"Войти с помощью смс"),o.a.createElement(Fe.a,{visible:Boolean(t),view:"black",target:"anchor",anchor:this.buttonRef,directions:["bottom-center"],style:{maxWidth:"350px"},keepMounted:!1},o.a.createElement("div",{className:wt("error"),dangerouslySetInnerHTML:{__html:t}})))}}])&&yt(t.prototype,n),r&&yt(t,r),a}(o.a.PureComponent);jt.propTypes={submitAuthBySMS:c.a.func.isRequired,setAuthBySMSState:c.a.func.isRequired,error:c.a.string,isNewTextExp:c.a.bool};var Ct={submitAuthBySMS:mt.e,setAuthBySMSState:mt.d},Rt=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auth,n=void 0===t?{}:t,r=n.authBySMS,o=void 0===r?{}:r,i=o.error;return{error:i&&(D.a[i]||D.a.global),isNewTextExp:Object(f.j)(e,"sms-auth-on-text1")}}),Ct)(jt),Pt=n("eidTN+99QhledymTSSqQ"),Tt=n("z/Ug44arcHnnmInRoI/0");function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xt(e);if(t){var o=xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?Dt(e):t}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut=Object(u.cn)("RestoreNeoPhonishButton"),Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(a,e);var t,n,r,i=Mt(a);function a(){var e;At(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qt(Dt(e=i.call.apply(i,[this].concat(n))),"onClick",(function(){var t=e.props,n=t.switchToModeRestoreLoginWithPhone,r=t.phone;l.a.send('Клик по "Войти с помощью смс" для перехода в восстановление логина'),n({phone:r,processName:Tt.g})})),e}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:Ut()},o.a.createElement(Pt.a,{onClick:this.onClick},"Войти с помощью смс"))}}])&&Nt(t.prototype,n),r&&Nt(t,r),a}(o.a.PureComponent);Bt.propTypes={switchToModeRestoreLoginWithPhone:c.a.func.isRequired,phone:c.a.string};var Ft={switchToModeRestoreLoginWithPhone:n("pXyMpKh7Ee/E8gzuP/VL").a},Ht=Object(i.c)((function(e){var t=e.auth,n=(void 0===t?{}:t).processedAccount;return{phone:(void 0===n?{}:n).phone}}),Ft)(Bt);function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kt(e);if(t){var o=Kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?Qt(e):t}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=Object(u.cn)("WelcomePage"),$t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(a,e);var t,n,r,i=Gt(a);function a(){var e;Vt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jt(Qt(e=i.call.apply(i,[this].concat(n))),"maybeRenderOtherAuthMethods",(function(){var t=e.props,n=t.isShowMailAuthBtn,r=t.isShowMessengerAuthBtn,i=t.isShowSMSAuthBtn,a=t.isShowRestoreNeoPhonishButton;return i||r||n||a?o.a.createElement(o.a.Fragment,null,i&&o.a.createElement("div",{className:Zt("otherMethod")},o.a.createElement(Rt,null)),r&&o.a.createElement("div",{className:Zt("otherMethod")},o.a.createElement(dt,null)),n&&o.a.createElement("div",{className:Zt("otherMethod")},o.a.createElement(Je,null)),a&&o.a.createElement("div",{className:Zt("otherMethod")},o.a.createElement(Ht,null))):null})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.addUserUrl,r=e.editUrl,o=e.welcomeUrl,i=e.setupMode,a=e.setupPane,c=e.backPane,u=e.hasUnitedAccounts,f=e.updateLoginValue,d=e.enableAuthMailStatus,p=e.account,h=e.login,m=e.isSocialAccount,b=e.isForceMailAuthEnable,y=e.isMailAuthEnabled,v=e.mailAuthExperiment,g=e.disableAuthMailStatus,O=e.hasOnlyOneSuggestedAccount,_=e.neoPhonish;l.a.goal(s.sc),c&&c!==o||(u?O||t(r):t(n)),h||m||!p||!p.login||p.login.startsWith(_.prefix)||f(p.login),b&&!v&&d(),b||!y||v||g(),i("welcome"),a(o)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.updatePasswordValue,n=e.changeNativeInputValue;t(""),n("passwd","")}},{key:"render",value:function(){var e=this.props,t=e.customTagline,n=e.hasSocialButton,r=e.isShowPasswordField,i=e.isShowMailAuthBtn,a=e.isShowMessengerAuthBtn,c=e.isForceMailAuthEnable,u=e.isMailAuthCaptchaRequired,s=e.isMessengerAuthCaptchaRequired;return o.a.createElement(pt.a,{cls:"welcome",dataT:"welcome"},o.a.createElement(ht.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),(!i||i&&!u)&&(!a||a&&!s)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Se,{hasSocialButton:n,isForceMailAuthEnable:c}),n&&o.a.createElement(Me,{isShowPasswordField:r})),this.maybeRenderOtherAuthMethods())}}])&&Yt(t.prototype,n),r&&Yt(t,r),a}(r.Component);$t.propTypes={addUserUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,welcomeUrl:c.a.string.isRequired,backPane:c.a.string,hasUnitedAccounts:c.a.bool.isRequired,customTagline:c.a.string.isRequired,account:c.a.shape({login:c.a.string}).isRequired,login:c.a.string,hasSocialButton:c.a.bool.isRequired,isShowPasswordField:c.a.bool.isRequired,isShowMailAuthBtn:c.a.bool.isRequired,isForceMailAuthEnable:c.a.bool.isRequired,isSocialAccount:c.a.bool.isRequired,isShowMessengerAuthBtn:c.a.bool,updatePasswordValue:c.a.func.isRequired,updateLoginValue:c.a.func.isRequired,setupBackPane:c.a.func.isRequired,setupMode:c.a.func.isRequired,setupPane:c.a.func.isRequired,changeNativeInputValue:c.a.func.isRequired,enableAuthMailStatus:c.a.func.isRequired,isMailAuthEnabled:c.a.bool,mailAuthExperiment:c.a.string,disableAuthMailStatus:c.a.func.isRequired,hasOnlyOneSuggestedAccount:c.a.bool.isRequired,isMailAuthCaptchaRequired:c.a.bool.isRequired,isMessengerAuthCaptchaRequired:c.a.bool.isRequired,isShowSMSAuthBtn:c.a.bool.isRequired,isShowRestoreNeoPhonishButton:c.a.bool,neoPhonish:c.a.shape({prefix:c.a.string})};t.a=Object(i.c)((function(e){var t=e.common,n=t.addUserUrl,r=t.editUrl,o=t.welcomeUrl,i=t.backPane,a=t.neoPhonish,c=t.isWebView,u=t.isWebViewWithSocialAuth,s=t.origin,l=e.auth,m=l.processedAccount,b=l.form,y=b.login,v=b.isForceOTP,g=l.unitedAccounts,O=void 0===g?{}:g,_=l.isWelcomePageTitleExp,E=l.suggestedAccounts,S=void 0===E?[]:E,w=e.customs.tagline,j=e.social.providers,C=e.mailAuth,R=C.mailAuthExperiment,P=C.mailAuthError,T=C.isUpdatedAuthLetterStatus,k=e.messengerAuth,A=k.isEnabled,N=k.error,I=m||{},M=I.phone,L=I.allowed_auth_methods,D=void 0===L?[]:L,x=I.preferred_auth_method,q=I.primaryAliasType,U=Object.keys(O).length>0,B=Object(d.b)(q)===d.a.LITE||"magic_link"===x,F=x||"password";D.indexOf("otp")>-1&&v&&(F="otp");var H=j.filter((function(e){var t=e.data;return"social_".concat(t.code)===F||D.includes("social_".concat(t.code))}))[0]||null,W="Войдите, чтобы продолжить",V=Boolean(D.length&&!D.some((function(e){return-1===e.indexOf("social_")&&"magic_x_token"!==e}))),Y=-1===p.a.indexOf(s)&&(u||!c)&&(Boolean(h.indexOf(F)>-1&&H)||D.some((function(e){return-1!==e.indexOf("social_")}))||V),z=Boolean("password"===F||D.indexOf("password")>-1),G=Boolean("otp"===F||D.indexOf("otp")>-1),X=Boolean(D.indexOf("magic_link")>-1),Q=D.includes("sms_code")&&(Object(f.j)(e,"sms-auth-on")||1===D.length),K=1===D.length&&"magic_link"===D[0]||D.includes("sms_code")&&D.includes("magic_link")&&2===D.length&&!(Q&&z),J=X||T,Z=A&&!K,$=!Q&&J&&Z;return _&&((z||!(z||G||Y||K))&&(W="Введите пароль"),G&&(W="Введите одноразовый пароль\n"),Y&&(W=z?"Введите пароль или войдите через соцсеть\n":"Войдите через соцсеть\n"),K&&(W="Для входа отправьте себе ссылку")),w&&(W=w),{addUserUrl:n,editUrl:r,welcomeUrl:o,backPane:i,hasUnitedAccounts:U,customTagline:W,account:m,login:y,hasSocialButton:Y,isShowPasswordField:z,isShowMailAuthBtn:J&&!$&&B&&!(Q&&z),isShowMessengerAuthBtn:$,isMailAuthEnabled:B,isMailAuthCaptchaRequired:"captcha.required"===P,isMessengerAuthCaptchaRequired:"captcha.required"===N,isForceMailAuthEnable:K,isMessengerAuthEnabled:Z,mailAuthExperiment:R,isSocialAccount:V,hasOnlyOneSuggestedAccount:1===S.length,isShowSMSAuthBtn:Q,isShowRestoreNeoPhonishButton:!D.includes("sms_code")&&!!M&&Object(f.j)(e,"domik-neophonish-exp-enable"),neoPhonish:a}}),(function(e){var t={updatePasswordValue:y.Lb,updateLoginValue:y.Jb,setupBackPane:y.wb,setupMode:y.xb,setupPane:b.w,changeNativeInputValue:v.a,enableAuthMailStatus:y.bb,disableAuthMailStatus:y.tb};return Object.assign({},Object(m.b)(t,e),{dispatch:e})}))($t)},PLopTGfJVcY9NXflKoFJ:function(e,t,n){},"Q+bL5cPDAKnwQPClvMDx":function(e,t,n){"use strict";function r(e,t){return e.replace("%link_start%","<a href=".concat(t,' class="link_theme_normal">')).replace("%link_end%","</a>")}n.d(t,"a",(function(){return r}))},"QJ0+ED0Rkc2TUKMaa26f":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r="/auth/register/lite",o="/auth/register/lite/form",i="/auth/register/lite/name",a="/auth/register/lite/eula"},"QVbIF+W9nkHnIvgbpiW3":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("MJovFwNIrFAmLe5Xoo3c"),u=n.n(c),s=n("DNml7VDdSAs10Z4giKjv"),l=function(e){var t=e.isDisabled;return o.a.createElement("div",{className:u()("passp-button passp-sign-in-button")},o.a.createElement(s.a,{type:"submit",text:"Войти",view:"action",disabled:t,width:"max",size:"l"}))};l.defaultProps={isDisabled:!1},l.propTypes={isDisabled:a.a.bool}},"QgjbgVDbzfInN/CjWaXi":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c}));var r={COMMON:"common",REGISTER:"register",AUTH:"authorize"},o="UPDATE_TRACK_ID",i="DELETE_TRACK_ID",a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t({type:o,payload:e})}},c=function(e){return function(t){return t({type:i,payload:{type:e}})}}},"RtoYEtkbxQ+mibaABznE":function(e,t,n){"use strict";var r=n("N6N5KCDRlmBrE6N3/28a"),o=n.n(r),i=n("TTjMwk/vMtCOdlpvRJfa"),a=n.n(i),c=n("W3MgEIO55ELSFhldjoS/"),u=n("O5/wDFcDcr7psfl422DM"),s=n("BiY5T7IoWQd4oP5CD4Ck"),l=n("eFeAaZwgvdSTBhzajFL3");function f(){return function(e,t){var n=t().common,r=n.backpath,o=n.profile_url,i=r||o;e(Object(s.hb)()),e(Object(l.a)(i))}}var d,p=n("gW+kGIULm/gsAM1O/w51"),h=n("xTYMmTVCxHhb8U90Af7w"),m=n("pxNQ4avko4wnceO2xkt9"),b=n("gGLUm6icyW4lmihzoT4E"),y=n("qyhOylcYgz7sofzu7jFu"),v=function(){return function(e,t){var n=t(),r=n.common,o=r.pane,i=r.socialSuggest;"socialSuggest"!==n.auth.mode&&(e(Object(s.wb)(o)),e(Object(y.w)(i)),e(Object(s.xb)("socialSuggest")),e(Object(b.d)(i)))}},g=n("pljtMiJ6cPwIsouCAJRc"),O=n("Cn0bb7dlXdz9iLHfBkZ3"),_={init:function(e){var t=this;t.setStore(e);var n=t.getStore().getState(),r=n.social.brokerParams.startUrl,o=n.common,i=o.retpath,c=o.backpath,s=o.origin,l=o.isWebView,f=n.settings,d=void 0===f?{}:f,p=n.auth,h=void 0===p?{}:p,m=n.customs,b=void 0===m?{}:m,y=h.process_uuid||d.process_uuid,v=b.display,g={},O=i||"".concat(location.protocol,"//").concat(location.host,"/profile");"yandex"===s&&(O=c||"".concat(location.protocol,"//").concat(location.host,"/profile")),g.resize=1,g.startUrl=r,("popup"===v||"touch"===v||t.isTouch()||l)&&(g.display="touch",g.retnopopup=O),g.process_uuid=y,window.addEventListener?(window.addEventListener("message",t.onSuccess.bind(this)),Object(u.n)("localStorage")&&window.addEventListener("storage",(function(e){e.isTrusted&&"socialResponse"===e.key&&t.emitEventWithDataFromStorage()}))):window.attachEvent&&window.attachEvent("onmessage",t.onSuccess.bind(this)),window.location.origin||(window.location.origin="".concat(window.location.protocol,"//").concat(window.location.hostname)),window.socialResponse=function(e){t.onSuccess({origin:location.origin,data:e})},a.a.init(g)},getStore:function(){return d},isTouch:function(){return o.a.isTouch},setStore:function(e){d=e},maybeEmitEventWithDataFromStorage:function(){var e=this;"socialSuggest"===o.a.util.getCookie("process")&&(d.dispatch(Object(g.b)(!0)),O.a.socialAuthCallback().then((function(t){var n=t.suggest;d.dispatch(Object(g.b)(!1)),e.initSocialSuggestProcess(n),e.clearCookies()})).catch((function(){d.dispatch(Object(g.b)(!1)),e.clearCookies()}))),Object(u.n)("localStorage")&&"socialSuggest"===window.localStorage.getItem("process")&&(this.emitEventWithDataFromStorage(),setTimeout((function(){window.localStorage.removeItem("process")}),2500))},clearCookies:function(){document.cookie="process=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="socialParams=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},emitEventWithDataFromStorage:function(){var e=JSON.parse(window.localStorage.getItem("socialResponse"));e&&(this.onSuccess({origin:location.origin,data:e}),setTimeout((function(){window.localStorage.removeItem("socialResponse")}),2500))},initSocialSuggestProcess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isAM;d.dispatch(Object(y.t)(t)),d.dispatch(Object(m.j)(e)),d.dispatch(v())},onSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getStore(),n=e.origin,r=e.data,o=void 0===r?{}:r,i=o.socialAuth,a=o.status,u=o.goToMagic,s=o.socialSuggest,l=o.suggest,d=t.getState(),m=d.common,b=m.origin,y=m.pane,v=void 0===y?"":y;if(n===location.origin&&(i||s))if(s)this.initSocialSuggestProcess(l);else if(!v.match(/\/auth\/social/)&&"ok"===a){if(u)return t.dispatch(Object(h.a)(!1));c.a.send(["Успешная авторизация с помощью соц.сети"]),c.a.goal("one_domik_social_auth_sucess"),"yandex"===b?t.dispatch(f()):t.dispatch(Object(p.a)())}},start:function(e){a.a.start(e)}};t.a=_},S1R2ndjcHFUwOgbQLnAG:function(e,t,n){},"Sv+DydT6rKBct5kRKGVV":function(e,t,n){"use strict";t.a={"login.can_register":"Такого аккаунта нет","login.empty":"Логин не указан","login.missingvalue":"Необходимо выбрать логин","login.invalid":"Такой логин не подойдет","login.not_available":"Логин введен некорректно или удален","login.prohibitedsymbols":"Такой логин не подойдет","login.startswithdigit":"Такой логин не подойдет","login.long":"Такой логин не подойдет","login.startswithdot":"Такой логин не подойдет","login.startswithhyphen":"Такой логин не подойдет","login.endswithhyphen":"Такой логин не подойдет","login.doubleddot":"Такой логин не подойдет","login.doubledhyphen":"Такой логин не подойдет","login.dothyphen":"Такой логин не подойдет","login.hyphendot":"Такой логин не подойдет","login.endwithdot":"Такой логин не подойдет","login.notavailable":"Логин введен некорректно или удален","account.disabled":'<span data-t="error-text">Аккаунт заблокирован</span>\n<div class="error-descr">Чтобы восстановить доступ к логину, обратитесь в <a href="https://yandex.ru/support/passport/troubleshooting/blocked.html">службу поддержки</a>.</div>',"account.disabled_on_deletion":"Аккаунт заблокирован","account.global_logout":"Что-то пошло не так. Попробуйте обновить страницу","account.not_found":"Такого аккаунта нет","action.impossible":"Введенные данные нельзя использовать для входа","captcha.invalid":"Символы введены неверно","captcha.empty":"Введите символы с картинки","captcha.not_matched":"Вы неверно ввели символы. Попробуйте еще раз","captcha.required":"Введите символы с картинки","captcha.missingvalue":"Введите символы с картинки","captcha.cannot_locate":"Введите символы с картинки","csrf_token.invalid":"Что-то пошло не так. Проверьте <a class='link link_theme_normal' href='https://yandex.ru/support/common/browsers-settings/browsers-cookies.html' target='_blank'>настройки cookie</a> и перезагрузите страницу","password.empty":"Пароль не указан","password.not_matched_2fa":"Неверный пин-код, одноразовый пароль или логин.","password.not_matched":"Неверный пароль","rfc_otp.invalid":"Неверный пароль","sessionid.overflow":"Список аккаунтов заполнен.",global:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз","number.empty":"Укажите номер телефона","number.invalid":"Пожалуйста, укажите корректный номер телефона","sms_limit.exceeded":"Превышено количество попыток подтверждения номера телефона. Попробуйте еще раз позже.","phone.confirmed":"Невозможно подтвердить телефон, попробуйте ввести другой номер","phone.blocked":"Номер телефона заблокирован","phone_secure.bound_and_confirmed":"","code.empty":"Укажите код подтверждения","code.invalid":"Неправильный код подтверждения","confirmations_limit.exceeded":"Превышен лимит проверки кода подтверждения. Отмените операцию или запросите код повторно","challenge.confirmations_limit.exceeded":"Превышен лимит проверки кода подтверждения. Попробуйте еще раз позже.","phone.not_found":"Данный номер больше не привязан к аккаунту. Вы можете привязать новый номер на странице управления телефонами.","email.invalid":"Неправильный формат адреса","email.already_confirmed":"Этот адрес уже привязан к вашему аккаунту\n","email.is_native":"Это ваш основной адрес. Его привязать нельзя","email.already_sent":"Слишком много попыток подтверждения для этого адреса, попробуйте позднее","key.empty":"Укажите код подтверждения","email.incorrect_key":"Неправильный код подтверждения","email.key_check_limit_exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее","email.not_found":"Данный адрес больше не привязан к аккаунту. Вы можете привязать новый адрес на странице управления адресами.","email.empty":"Вы не ввели адрес электронной почты.","email.send_limit_exceeded":"Превышено количество попыток зарегистрироваться с этим адресом электронной почты. Попробуйте использовать другой адрес или повторите попытку позднее.","email_confirmations_limit.exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее","social_profile.invalid":"Данный профиль больше не привязан к аккаунту. Вы можете привязать новый профиль на странице управления соц.профилями.","account.strong_password_policy_enabled":"При выбранной для вашей учетной записи политике аутентификации авторизация через соц.сети отключена.","social_profile.single_auth_method":"Данный профиль невозможно использовать для входа. Вы можете привязать новый профиль на странице управления соц.профилями.","oauth_token.invalid":"Что-то пошло не так. Войдите в аккаунт с помощью пароля.","track.invalid_state":"Что-то пошло не так. Попробуйте обновить страницу","account.invalid_type":"Не удалось войти данным аккаунтом. Если у вас включена двухфакторная авторизация, используйте для входа Яндекс.Ключ"}},"TTjMwk/vMtCOdlpvRJfa":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r,o){"use strict";"object"===t(e)&&e.exports?e.exports=o(n("uVEfJNZqYCye0ng9Cn7q")):o(r.passport)}(this,(function(e){"use strict";function n(){for(var e,n={},r=0;r<arguments.length;r++)if("object"===t(e=arguments[r])&&e)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}function r(e){var n=[];if("object"===t(e)&&e)for(var r in e)e.hasOwnProperty(r)&&n.push(r);return n}function o(e,n){var r=[];if("function"==typeof n&&"object"===t(e)&&e.length)for(var o=0;o<e.length;o++)r.push(n(e[o],o,e));return r}return"object"!==("undefined"==typeof window?"undefined":t(window))?{}:e.block("broker",{yaWindow:null,defaultParams:{startUrl:"/auth/social/start",retpath:location.protocol+"//"+location.host+"/auth/i-social__closer.html",retnopopup:!1,consumer:"passport",popupName:"social_passport",display:"popup",place:"fragment"},isClosed:function(){var e;if(!this.yaWindow||this.yaWindow&&void 0===this.yaWindow.closed)return!0;try{e=this.yaWindow.closed}catch(t){e=!0}return e},open:function(t){var i,a,c,u,s="scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0, left="+Math.round(((window.opera?window.innerWidth:screen.availWidth)-650)/2)+", top="+Math.round(((window.opera?window.innerHeight:screen.availHeight)-370)/2)+", width=650, height=370",l=!1,f=n(this.defaultParams,t),d=this.url;f.display&&"popup"!==f.display||f.currentWindow?(delete(a=e.util.getUrlParams(window.location.href)).uid,c=o(r(a),(function(e){return e+"="+a[e]})).join("&"),i="https://"+window.location.hostname+window.location.pathname+(c?"?":"")+c,f.retpath=f.retnopopup||i,l=!0):(u="ddom="+(f.ddom||(location.hostname===document.domain?"":document.domain)),f.retpath+=(f.retpath.match("#")?"&":"#")+u,"retnopopup"in f&&delete f.retnopopup),d+="?"+o(r(f),(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(f[e])})).join("&"),l?window.location.href=d:(this.yaWindow=window.open(d,this.popupName,s),this.yaWindow&&this.yaWindow.focus())},cleanup:function(){this.isClosed()||this.yaWindow.close(),this.yaWindow=null},start:function(e){this.cleanup(),this.open(e)},init:function(e){this.defaultParams=e?n(this.defaultParams,e):this.defaultParams,this.url=this.defaultParams.startUrl,delete this.defaultParams.startUrl}})}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},"Tj+VifeljIkLbukhQzjL":function(e,t,n){"use strict";function r(e,t,n,r){var o=/(&)?(login|phone_number|country)=\2/;return e.replace(o,t&&!n?"$1$2=".concat(t):"").replace(o,n?"$1$2=".concat(encodeURIComponent(n)):"").replace(o,r?"$1$2=".concat(r):"")}n.d(t,"a",(function(){return r}))},VAZ2EjCEkX4ay5t0RU1X:function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("eidTN+99QhledymTSSqQ"),l=n("dbQGcO8bADqwtDqc3mez"),f=n("NH34m/YMyHs61nOqvuoz"),d=n("W3MgEIO55ELSFhldjoS/"),p=n("Sv+DydT6rKBct5kRKGVV"),h=n("icG+8Jgv+BJiTL/fPTrX");var m=n("ZDmX7r9YifVbosUR2qgY"),b=n("Cn0bb7dlXdz9iLHfBkZ3"),y=n("BiY5T7IoWQd4oP5CD4Ck"),v=n("mNaMim9b+xb4df3rV6hq");function g(){return function(e,t){var n=t().common,r=n.profile_url,o={retpath:n.retpath||r,fretpath:n.fretpath,clean:n.clean,origin:n.origin};e(Object(y.ab)(!0)),b.a.request("auth/password/submit",o).done((function(t){var n=t.track_id,r=t.csrf_token;e(Object(y.Kb)(n,r))})).fail((function(){e(Object(v.a)())})).always((function(){return e(Object(y.ab)(!1))}))}}var O=n("qyhOylcYgz7sofzu7jFu"),_=n("buqWOCdf14bbF2aD2r0s"),E=n("68NuQ+EiIUXPlOiVfC2r"),S=n.n(E);function w(e){return function(t,n){var r=n(),o=r.common,i=o.csrf,a=o.retpath,c=o.fretpath,u=o.origin,s=o.from,l=r.auth,f=l.process_uuid,d=l.form.pdd_domain,p={csrf_token:i,login:e};f&&(p.process_uuid=f),a&&(p.retpath=a),c&&(p.fretpath=c),u&&(p.origin=u),s&&(p.service=s),d&&e&&!/@/.test(e)&&(p.login="".concat(p.login,"@").concat(d)),d&&(p.is_pdd="1"),t(Object(y.ab)(!0)),t(Object(y.rb)(null)),t(Object(y.Jb)(e)),b.a.request("auth/multi_step/start",p).done((function(r){var o=r.auth_methods,i=r.preferred_auth_method,a=r.track_id,c=r.csrf_token,u=r.magic_link_email,s=n().auth,l=s.unitedAccounts,f=s.isQRAuthEnabled,d=S()(l,(function(t){return t.login===e}))[0],p=o&&o[0]||"password";if("magic_x_token"===(d=d?Object.assign({},d,{allowed_auth_methods:d.allowed_auth_methods||o||[],preferred_auth_method:d.preferred_auth_method||i||p,email:u}):{isAddedAccount:!0,allowed_auth_methods:o,preferred_auth_method:p,avatarId:"0/0-0",email:u,login:e}).preferred_auth_method&&!f){var h=d.allowed_auth_methods;d.preferred_auth_method=h.filter((function(e){return"magic_x_token"!==e}))[0]||"password"}t(Object(y.Y)(d)),t(Object(y.Mb)(a,c))})).fail((function(){})).always((function(){t(Object(y.ab)(!1))}))}}var j=n("dVdlchGuZyN639S0A3so");var C=Object(u.cn)("MagicField");function R(e){var t,n,r,i=e.trackId,a=e.fieldError,c=e.icon,u=i?{backgroundImage:"url('/auth/magic/code/?track_id=".concat(i,"')")}:{};return o.a.createElement("div",{className:C({hidden:!i})},Boolean(a)&&o.a.createElement("div",{className:C("error"),dangerouslySetInnerHTML:{__html:a}}),o.a.createElement("div",{className:C("qr"),style:u},c&&o.a.createElement("span",{className:C("icon",(t={},n=c,r=!0,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},o.a.createElement(j.a,{type:c,size:"l"}))))}R.propTypes={fieldError:c.a.string,trackId:c.a.string,icon:c.a.oneOf(["yandexKey","yandex2"])};var P=n("ChNA47itMhrlI5HSOuk4"),T=n("iYno3SKv/BW0tduPFmp1"),k=n("WJOEWUhuaqB4LU1CIwDt"),A=function(){return o.a.createElement("span",{className:"Divider"})},N=n("MJovFwNIrFAmLe5Xoo3c"),I=n.n(N);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,r,i=q(a);function a(){var e;L(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(B(e=i.call.apply(i,[this].concat(n))),"_maybeRenderTitle",(function(){return e.props.hideTitle?null:o.a.createElement("h3",{className:"passp-install-yandex-app-title"},"Установить Яндекс")})),H(B(e),"_renderIcon",(function(t,n){var r=e.props.lang,i=!r||["ru","uk"].includes(r)?"ru":"en";return o.a.createElement("a",{className:"passp-install-yandex-app-link",href:n},o.a.createElement("span",{className:I()(["passp-icon","passp-".concat(t),"passp-".concat(t,"-").concat(i)])}))})),e}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("div",null,this._maybeRenderTitle(),o.a.createElement("div",{className:"passp-install-yandex-app-links passp-clearfix"},this._renderIcon("googleplay","https://redirect.appmetrica.yandex.com/serve/458404701881276453?c=passport_bage"),this._renderIcon("appstore","https://redirect.appmetrica.yandex.com/serve/386347106450828605?c=passport_bage")))}}])&&D(t.prototype,n),r&&D(t,r),a}(o.a.PureComponent);W.propTypes={lang:c.a.string.isRequired,hideTitle:c.a.bool};var V=Object(i.c)((function(e){return{lang:Object(h.d)(e)}}))(W),Y=n("pCjh69JJ2q8GXY1G76vp");function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=Object(u.cn)("MagicPromoPage"),te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(a,e);var t,n,r,i=Q(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),$(J(t=i.call(this,e)),"onCaptchaCheck",(function(){l.a.clearCaptchaState(),l.a.restart()})),$(J(t),"maybeRenderCaptcha",(function(){return t.props.isCaptchaRequired?o.a.createElement(Y.a,{onConfirmCallback:t.onCaptchaCheck}):null})),$(J(t),"maybeRenerQR",(function(){var e=t.props,n=e.trackId,r=e.fieldError,i=e.addUserUrl,a=e.fallbackLinkText,c=e.texts,u=e.isWebView,l=e.isAccountWith2FA,f=e.language,d=e.isCaptchaRequired,p=c.descriptionText;if(d)return null;var h=!f||["ru","uk"].includes(f)?"ru":"en";return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:ee("title"),dangerouslySetInnerHTML:{__html:p}}),o.a.createElement(R,{trackId:n,fieldError:r,icon:l?"yandexKey":"yandex2-".concat(h)}),o.a.createElement("div",{className:ee("controls")},o.a.createElement(s.a,{href:i,onClick:t.switchToOTP,weight:"medium"},a)),!l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(A,null),!u&&o.a.createElement(V,null)))})),t.switchToOTP=t.switchToOTP.bind(J(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.magicUrl,n=e.login,r=e.setupMode,o=e.setupPane,i=e.authPasswordSubmitForMagic,a=e.multiStepAuthStartForMagic;r("magic"),o(t),d.a.goal(f.uc),d.a.send([f.tc]),n&&a(n),i()}},{key:"componentDidUpdate",value:function(e){e.magicCSRFToken===this.props.magicCSRFToken?e.trackId!==this.props.trackId&&l.a.restart():l.a.restart()}},{key:"componentWillUnmount",value:function(){l.a.clearCaptchaState(),l.a.stop()}},{key:"switchToOTP",value:function(e){e.preventDefault();var t=this.props,n=t.switchToModeAddingAccount,r=t.forceOTPMethod,o=t.login,i=t.addUserUrl,a=t.editUrl,c=t.isSocialAccount,u=t.dispatch;if(o){r(!0);var s=c?a:i;u(Object(T.a)(k.b,{login:o,backPane:s}))}else n()}},{key:"render",value:function(){return o.a.createElement(P.a,{cls:"magic",dataT:"magic"},this.maybeRenderCaptcha(),this.maybeRenerQR())}}])&&G(t.prototype,n),r&&G(t,r),a}(r.Component);te.propTypes={addUserUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,magicUrl:c.a.string.isRequired,trackId:c.a.string,magicCSRFToken:c.a.string,tld:c.a.string.isRequired,fallbackLinkText:c.a.string.isRequired,multiStepAuthStartForMagic:c.a.func.isRequired,login:c.a.string,language:c.a.string,isTouch:c.a.bool.isRequired,isSocialAccount:c.a.bool.isRequired,fieldError:c.a.string,setupMode:c.a.func.isRequired,setupPane:c.a.func.isRequired,dispatch:c.a.func.isRequired,authPasswordSubmitForMagic:c.a.func.isRequired,switchToModeAddingAccount:c.a.func.isRequired,forceOTPMethod:c.a.func.isRequired,texts:c.a.object,isAccountWith2FA:c.a.bool,isWebView:c.a.bool,isCaptchaRequired:c.a.bool};t.a=Object(i.c)((function(e){var t=e.common,n=t.magicUrl,r=t.addUserUrl,o=t.editUrl,i=t.isWebView,a=e.auth,c=a.magicError,u=a.isFromLoginSuggest,s=a.isQRAuthEnabled,l=a.processedAccount,f=a.form.login,d=a.magicTrack,m=a.magicCSRF,b=a.isCaptchaRequired,y=e.settings,v=y.tld,g=y.ua.isTouch,O=l&&l.allowed_auth_methods||[],_=c&&(p.a[c]||p.a.global)||null,E=O.some((function(e){return e.indexOf("social_")>-1})),S=O.indexOf("magic")>-1,w=O.indexOf("magic_x_token")>-1,j=O.includes("magic")&&O.includes("otp"),C=Boolean(s&&(u&&w||!u)),R=Boolean(O.length&&!O.some((function(e){return-1===e.indexOf("social_")&&"magic_x_token"!==e}))),P="Или войдите по одноразовому паролю";return C&&(S||(P=u&&!E?"Войти с помощью пароля":"Войти с помощью пароля или соцсети"),R&&(P="Войти с помощью соцсети"),u||(P="Войти с помощью пароля или соцсети")),{magicUrl:n,addUserUrl:r,editUrl:o,isFromLoginSuggest:u,trackId:d,magicCSRFToken:m,login:f,tld:v,isTouch:g,isWebView:i,fieldError:_,fallbackLinkText:P,isSocialAccount:R,texts:function(e,t){var n='<span class="passp-magic__photo-icon" aria-hidden="true"></span>',r={title:"Войдите с помощью приложения Яндекс",descriptionText:"Откройте приложение Яндекс, нажмите на иконку %icon в поисковой строке и наведите камеру на QR-код".replace("%icon",n)};e||(r.title="Войдите с помощью приложения Яндекс или Яндекс.Ключ",r.descriptionText="Откройте приложение Яндекс или Яндекс.Ключ, нажмите на иконку %icon и наведите камеру на QR-код".replace("%icon",n));t&&(r.title="Войдите с помощью приложения Яндекс.Ключ",r.descriptionText="Откройте приложение Яндекс.Ключ и наведите камеру на QR-код");return r}(f,j),isAccountWith2FA:j,language:Object(h.d)(e),isCaptchaRequired:b}}),(function(e){var t={setupMode:y.xb,setupPane:O.w,switchToModeAddingAccount:_.a,authPasswordSubmitForMagic:g,multiStepAuthStartForMagic:w,forceOTPMethod:y.cb};return Object.assign({},Object(m.b)(t,e),{dispatch:e})}))(te)},"VXLs6oAydZN+d2v1fSYl":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("BiY5T7IoWQd4oP5CD4Ck");function i(){return function(e,t){var n=t(),i=n.common.welcomeUrl;"welcome"!==n.auth.mode&&(e(Object(o.Fb)()),e(Object(r.d)(i)))}}},"VZKgTsxv9+NTdyOLv6SA":function(e,t,n){},"W3MgEIO55ELSFhldjoS/":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n("MXMQwgl0pPNdNuA+oSOb"),o=n.n(r),i=n("WwZV+0g8pRxIfTSFjg9I"),a=n("z/Ug44arcHnnmInRoI/0"),c={initialized:!1,init:function(e){var t=e.getState(),n=document.querySelector("body").dataset||{},r=n.metricsId,i=n.version,a=n.userType;this.headerMetrics=[t.metrics.header],o.a.init(r,t.metrics.experiments,i,a),this.initialized=!0},setHeader:function(e){this.headerMetrics=[e]},send:function(e){var t=this;this.initialized&&setTimeout((function(){o.a.count(t.headerMetrics.concat(e))}),0)},goal:function(e,t){this.initialized&&o.a.reachGoal(e,t)}};t.a=c;var u=function(){return function(e,t){var n=t(),r=Object(i.c)(n),o=n.signup,u=void 0===o?{}:o,s=n.metrics,l=void 0===s?{}:s,f=u.mode,d=l.header;return r===a.i?(c.setHeader("Восстановление логина"),void c.send("Показ восстановления")):r===a.g?(c.setHeader("Восстановление логина для неофониша"),void c.send("Показ восстановления для неофониша")):Object(i.f)(r)?(c.setHeader("Регистрация ".concat(f)),void c.send("Показ регистрации ".concat(f))):void c.setHeader(d)}}},WBoglmoudMUSk9XWNuxe:function(e,t,n){"use strict";n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return o.b})),n.d(t,"c",(function(){return o.e})),n.d(t,"d",(function(){return C.b}));var r=n("fi7sVlHuU93LEbukopgn"),o=n("koIp2P181fHTfc4gFYRx"),i=n("joROYenWse71KCSIszZL"),a=n("ZhSnxcFTtIAlY+v3R+s6"),c=n("FO5VaR1qDYhXlc1jCgw9"),u=n("WwZV+0g8pRxIfTSFjg9I"),s=n("WJOEWUhuaqB4LU1CIwDt"),l=n("s/FDDScv+AdgQla/TjIC"),f=n("iYno3SKv/BW0tduPFmp1"),d=n("icG+8Jgv+BJiTL/fPTrX"),p=n("Yp2QB2jYYmLrYZQDlfoW"),h=n("JLFc6U7sd0PMI6Bh60mb"),m=n("6QkgGlmAmJL/UXgTfwXy"),b=n("W3MgEIO55ELSFhldjoS/");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&"object"===y(e)&&t.every((function(t){return e.hasOwnProperty(t)}))}function g(e,t){t.type}function O(e,t,n){switch(t.type){case r.b.GET_SMS:n.sendMessageToNativeApi(o.c.GET_SMS,{},(function(t){var n;v(t,["value"])&&e.dispatch((n=t.value,function(e,t){var r=t(),o=r.userEntryFlow,u=void 0===o?{}:o,s=r.pagePopup,l=void 0===s?{}:s,f=u.step;return l.isShowPagePopup&&"authConfirmationBySMS"===l.pagePopupType?(b.a.send("Вставка смс кода из мобильного апи"),e(Object(p.P)({field:m.a,value:n})),void e(Object(m.c)())):f===i.f.PHONE_CONFIRM?(b.a.send("Вставка смс кода из мобильного апи"),e(Object(a.i)()),e(Object(p.P)({field:h.a.PHONE_CODE,value:n})),void e(Object(c.c)(i.f.PHONE_CONFIRM))):void b.a.send("Не удалось вставить смс код из нативного апи")}))}));break;case r.b.AUTH_SUCCEED:n.sendMessageToNativeApi(o.c.SAVE_LOGIN_CREDENTIALS,{login:t.payload.login,password:t.payload.password});break;case r.b.READY:n.sendMessageToNativeApi(o.c.READY,{status:t.payload.status});break;case r.b.REQUEST_SWC:n.sendMessageToNativeApiOnce(o.c.REQUEST_SWC,{},(function(t){var n,r;v(t,["login","password"])&&e.dispatch((n=t.login,r=t.password,function(e){e(Object(f.a)(s.b,{login:n},(function(){e(Object(f.a)(l.a,r))})))}))}));break;case r.b.START_SOCIAL_AUTH:n.sendMessageToNativeApi(o.c.SOCIAL_AUTH,{provider:t.payload.provider});break;case r.b.SHOW_DEBUG_INFO:n.sendMessageToNativeApi(o.c.SHOW_DEBUG_INFO,{});break;case r.b.SEND_METRICS:n.sendMessageToNativeApi(o.c.SEND_METRICS,{identifier:t.payload.identifier,parameters:t.payload.parameters});break;case r.b.GET_PHONE_REGION_CODE:n.sendMessageToNativeApi(o.c.GET_PHONE_REGION_CODE,{},(function(t){var n;v(t,["phoneRegionCode"])&&e.dispatch((n=t.phoneRegionCode,function(e,t){Object(d.c)(t())[h.a.PHONE]||e(Object(p.P)({field:h.a.PHONE,value:n}))}))}));break;case r.b.REQUEST_SAVED_EXPERIMENTS:n.sendMessageToNativeApi(o.c.REQUEST_SAVED_EXPERIMENTS,{},(function(t){v(t)&&e.dispatch(Object(r.m)(t))}));break;case r.b.REQUEST_PHONE_NUMBER_HINT:n.sendMessageToNativeApi(o.c.REQUEST_PHONE_NUMBER_HINT,{},(function(t){var n;v(t,["phoneNumber"])&&e.dispatch((n=t.phoneNumber,function(e,t){var r=t(),o=r.userEntryFlow,a=void 0===o?{}:o;e(Object(p.P)({field:h.a.PHONE,value:n}));var s=Object(u.c)(r),l=Object(u.d)(s);(a.step||Array.isArray(l)&&l[0])===i.f.PHONE&&e(Object(c.c)(i.f.PHONE))}))}))}}var _=n("zSfSJsTIbdYxEs4RAUvt");function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,e),w(this,"_outgoingRequests",{}),w(this,"_eventsLog",[]),w(this,"_onceMessagesSend",{}),w(this,"_eventsSubscriber",void 0),this.version=t,this.platform=n,this.options=r,this._nativeSendMessage=this._getNativeMessageSender(),window.nativeAMResponse={receive:this._getNativeMessageReceiver()}}var t,n,r;return t=e,(n=[{key:"sendMessageToNativeApi",value:function(e,t,n){var r=Object(_.a)(),o={version:this.version,message:e,requestId:r,data:t};n&&"function"==typeof n&&(this._outgoingRequests[r]=n),this._nativeSendMessage(o)}},{key:"sendMessageToNativeApiOnce",value:function(e,t,n){this._onceMessagesSend[e]||(this._onceMessagesSend[e]=!0,this.sendMessageToNativeApi(e,t,n))}},{key:"setSubscriber",value:function(e){return this._eventsSubscriber=e,function(){this._eventsSubscriber=void 0}.bind(this)}},{key:"getEvents",value:function(){return this._eventsLog}},{key:"_getNativeMessageReceiver",value:function(){var e=this;return function(t,n){n=e._normalizePayload(n);var r=e._outgoingRequests[t];r&&"function"==typeof r&&(delete e._outgoingRequests[t],e._safeCallReceiver(r,n)),e._logEvent("incoming",{requestId:t,payload:n})}}},{key:"_getNativeMessageSender",value:function(){var e=this,t=function(){b.a.send("Попытка отправить сообщение нативному слою на неизвестной платформе ".concat(e.platform))};return this.platform===o.d.ANDROID&&window.nativeAMAndroid&&window.nativeAMAndroid.send?t=this._createMessageSender((function(e){return window.nativeAMAndroid.send(JSON.stringify(e))})):this.platform===o.d.IOS&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeAM&&window.webkit.messageHandlers.nativeAM.postMessage&&(t=this._createMessageSender((function(e){return window.webkit.messageHandlers.nativeAM.postMessage(e)}))),t}},{key:"_createMessageSender",value:function(e){var t=this;return function(n){e(n),t._logEvent("outgoing",n)}}},{key:"_normalizePayload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return"string"==typeof e?JSON.parse(e):e}catch(t){return e}}},{key:"_safeCallReceiver",value:function(e,t){try{e(t)}catch(e){b.a.send("[AM] Ошибка при обработке нативного сообщения")}}},{key:"_logEvent",value:function(e,t){if(this.options.logEvents){var n={direction:e,message:t,date:new Date};this._eventsLog.push(n),this._eventsSubscriber&&"function"==typeof this._eventsSubscriber&&this._eventsSubscriber(n)}}}])&&S(t.prototype,n),r&&S(t,r),e}(),C=n("C5copWHEZLqYOtOxYHav");function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return e[t]}))}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(r.a).includes(e.type)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(r.b).includes(e.type)}var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.am,n=void 0===t?{}:t;n.debug&&Object(C.c)(e);var r=new j(0,n.platform,{logEvents:n.debug});return n.debug&&(window.__AM_NATIVE_MOBILE_TRANSPORT__=r),function(e){return function(t){return function(n){return P(n)&&setTimeout((function(){g(0,n)}),0),T(n)&&setTimeout((function(){O(e,n,r)}),0),t(n)}}}}},WJOEWUhuaqB4LU1CIwDt:function(e,t,n){"use strict";n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return A}));var r=n("68NuQ+EiIUXPlOiVfC2r"),o=n.n(r),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("VXLs6oAydZN+d2v1fSYl"),c=n("xTYMmTVCxHhb8U90Af7w"),u=n("buqWOCdf14bbF2aD2r0s"),s=n("GWbkqWWFGcC2wNwmmBsB"),l=n("Tj+VifeljIkLbukhQzjL"),f=n("W3MgEIO55ELSFhldjoS/"),d=n("NH34m/YMyHs61nOqvuoz");function p(){return function(e,t){var n=t(),r=n.auth.form,o=r.registrationLogin,i=r.registrationType,a=r.registrationPhoneNumber,c=r.registrationCountry,u=n.common,s=u.registration_url_with_params,p=u.lite_registration_url_with_params,h="portal"===i,m=h?s:p;f.a.send([d.N,h?d.P:d.M]),window.location.href=Object(l.a)(m,o,a,c)}}var h=n("pXyMpKh7Ee/E8gzuP/VL"),m=n("gGLUm6icyW4lmihzoT4E"),b=n("z/Ug44arcHnnmInRoI/0"),y=n("FO5VaR1qDYhXlc1jCgw9"),v=n("ZhSnxcFTtIAlY+v3R+s6"),g=n("O5/wDFcDcr7psfl422DM"),O=n("JR0gMBnH1G7ZT7pBXXBz"),_=n("Hotb6bLBAZw9GrEYBPZD"),E=n("qyhOylcYgz7sofzu7jFu"),S=n("icG+8Jgv+BJiTL/fPTrX"),w=n("pljtMiJ6cPwIsouCAJRc"),j=n("Cn0bb7dlXdz9iLHfBkZ3"),C=function(e){return function(t,n){var r=n(),o=r.router,a=void 0===o?{}:o,c=r.common,u=void 0===c?{}:c,s=r.signup,l=void 0===s?{}:s,f=a.location,d=(void 0===f?{}:f).search,p=u.pane,h=l.config,C=(void 0===h?{}:h).registerWithFullPersonalInfoOrigins,R=void 0===C?[]:C,P="".concat(b.d).concat(d),T=Object(S.m)(r);if(t(Object(O.f)(T?_.b:_.c)),t(Object(E.v)(p)),t(Object(E.w)(P)),t(Object(i.xb)("register")),!e)return t(Object(m.d)(P)),void t(Object(w.b)(!1));j.a.userEntryFlowSubmit().then((function(){return t(Object(y.a)({phone:e,route:P,processName:R?T?b.e:b.f:T?b.b:b.c}))})).catch((function(){t(Object(v.l)(Object(g.c)("global","global"))),t(Object(m.d)(P))}))}},R=n("xSpN8Kyw4VlgAPhFVdtL"),P=!1,T=function(e){return function(t){t(Object(i.xb)("")),t(k({login:e}))}};function k(e,t){var n=e.login,r=e.backPane,l=void 0===r?"":r,m=e.isRegister,y=void 0!==m&&m,v=e.isAuthFromSocialSuggest,g=void 0!==v&&v;return function(e,r){var m=r(),v=m.socialSuggest,O=void 0===v?{}:v,_=O.authTrackId,E=O.processUUID,w=Object(S.m)(m);e(Object(i.ab)(!0)),e(Object(i.qb)(!1));var P=m.common,T=P.csrf,k=P.retpath,A=P.fretpath,N=P.origin,I=P.from,M=m.auth,L=M.process_uuid,D=M.form.pdd_domain,x=m.am,q=(x=void 0===x?{}:x).isAm,U=x.appId,B={csrf_token:T,login:n};L&&(B.process_uuid=L),k&&(B.retpath=k),A&&(B.fretpath=A),N&&(B.origin=N),I&&(B.service=I),D&&n&&!/@/.test(n)&&(B.login="".concat(B.login,"@").concat(D)),D&&(B.is_pdd="1"),g&&(B.social_track_id=_,B.process_uuid=E),q&&U&&(B.isAm=q,B.appId=U),e(Object(i.Jb)(n)),j.a.request("auth/multi_step/start",B).done((function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=v.allowed_account_types,O=void 0===g?[]:g,_=v.phone_number,E=v.primary_alias_type,j=_&&_.international;if(v.can_register){if(j&&O.includes(R.a.NEOPHONISH)){if(w)return e(C(j));if(Object(S.j)(m,"domik-phone-autostart-on"))return e(Object(h.a)({phone:j,processName:b.g}))}return e(Object(i.T)({isCanRegister:!0,registrationLogin:v.login||n,registrationType:v.account_type||"portal",registrationPhoneNumber:v.phone_number&&v.phone_number.original||"",registrationCountry:v.country||""})),e(Object(i.ab)(!1)),"lite"===v.account_type?void e(Object(s.a)()):y?void e(p()):(e(Object(i.rb)("login.can_register")),f.a.send([d.oc,d.gc,d.hc]),void("magic"===r().auth.mode&&e(Object(u.a)())))}e(Object(i.T)({isCanRegister:!1})),f.a.send([d.oc,d.gc,d.jc]);var P=v.auth_methods,T=v.preferred_auth_method,k=v.track_id,A=v.csrf_token,N=v.magic_link_email,I=r(),M=I.auth,L=M.unitedAccounts,D=M.form.isForceOTP,x=M.isQRAuthEnabled,q=I.settings.ua,U=o()(L,(function(e){return e.login===n}))[0];U=U?Object.assign({},U,{allowed_auth_methods:U.allowed_auth_methods||P||[],preferred_auth_method:U.preferred_auth_method||T||P&&P[0]||"password",email:N,phone:j}):{isAddedAccount:!0,allowed_auth_methods:P,preferred_auth_method:P[0]||"password",avatarId:"0/0-0",email:N,login:n,phone:j},l&&e(Object(i.wb)(l));var B=U.preferred_auth_method;if("magic_x_token"===B&&!x){var F=U.allowed_auth_methods;U.preferred_auth_method=F.filter((function(e){return"magic_x_token"!==e}))[0]||"password"}U.primaryAliasType=E,e(Object(i.Y)(U)),e(Object(i.Mb)(k,A));var H="magic"===B||"magic_x_token"===B&&x,W=q&&q.isTouch;!H||D||W?(e(Object(a.a)()),t&&"function"==typeof t&&t()):e(Object(c.a)(!0))})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.phone_number,r=t.errors,o=void 0===r?[]:r,a=t.primary_alias_type,c=n&&n.international,s=o[0];if("action.impossible"===s&&Object(R.b)(a)===R.a.NEOPHONISH)return e(Object(h.a)({phone:c,processName:b.g}));f.a.send([d.oc,d.gc,d.ic,s]),e(Object(i.rb)(s)),e(Object(i.T)({isCanRegister:!1})),t.can_be_restored&&e(Object(i.qb)(!0)),y||e(Object(u.a)())})).always((function(){e(Object(i.ab)(!1))}))}}function A(){return function(e,t){var n=t().am,r=void 0===n?{}:n;r.isAm&&"relogin"===r.mode&&r.login&&!P&&(P=!0,e(T(r.login)))}}},WKSiwh2w4AbQ7M4ZZhXj:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("CCXVZ27A5l6hmPXwLTrH"),o=n("Kgh9kKUzqRPXqIsdiAKz"),i=n("etT0u9nWCwE0v9oNNR28"),a=n("PFkJ+x8U9pDZf+GYtiPc"),c=n("VAZ2EjCEkX4ay5t0RU1X"),u=n("0xnSXkruYfyBM/j8Ku9B"),s=n("FBB4UUWfM/iz0AJy2xMy"),l=n("mJL0XUsWpGmKhULiOoZ/"),f=n("z/Ug44arcHnnmInRoI/0"),d=n("QJ0+ED0Rkc2TUKMaa26f");function p(e){return y(e)||b(e)||m(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function b(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function y(e){if(Array.isArray(e))return v(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={fallback:Object(s.a)()},O=Object(r.a)({resolved:{},chunkName:function(){return"PhoneRequestPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(14).then(n.bind(null,"NQr4v8dAbvaVT3S5lmkg"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"NQr4v8dAbvaVT3S5lmkg"}},g),_=Object(r.a)({resolved:{},chunkName:function(){return"EmailRequestPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(10).then(n.bind(null,"i6c5EFyh9+cUL3g3J2HQ"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"i6c5EFyh9+cUL3g3J2HQ"}},g),E=Object(r.a)({resolved:{},chunkName:function(){return"RegisterLitePasswordForm"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(19).then(n.bind(null,"5tFqrn6BKyQQDLnVufDU"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"5tFqrn6BKyQQDLnVufDU"}},g),S=Object(r.a)({resolved:{},chunkName:function(){return"PreRegisterPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(15).then(n.bind(null,"YUoOdg4TO4zaLopJtrl8"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"YUoOdg4TO4zaLopJtrl8"}},g),w=Object(r.a)({resolved:{},chunkName:function(){return"RegisterLiteEnterCode"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(16).then(n.bind(null,"d5ThvD39kOgM7pDgYAMm"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"d5ThvD39kOgM7pDgYAMm"}},g),j=Object(r.a)({resolved:{},chunkName:function(){return"RegisterLiteNameForm"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(18).then(n.bind(null,"7AAvnCHZeZnphPhFzWNV"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"7AAvnCHZeZnphPhFzWNV"}},g),C=Object(r.a)({resolved:{},chunkName:function(){return"AvatarRequestPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(3).then(n.bind(null,"hZu+lvNlDjcepZ/ibhsF"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"hZu+lvNlDjcepZ/ibhsF"}},g),R=Object(r.a)({resolved:{},chunkName:function(){return"RegisterLiteEula"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(17).then(n.bind(null,"EWjZrwhEiPFunn9qb7+L"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"EWjZrwhEiPFunn9qb7+L"}},g),P=Object(r.a)({resolved:{},chunkName:function(){return"Challenge"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(8).then(n.bind(null,"AXXSJdxrT7DT6NLQxayS"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"AXXSJdxrT7DT6NLQxayS"}},g),T=Object(r.a)({resolved:{},chunkName:function(){return"AuthWithLetterPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(2).then(n.bind(null,"xz+Qay54QQMi9sNc8oaS"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"xz+Qay54QQMi9sNc8oaS"}},g),k=Object(r.a)({resolved:{},chunkName:function(){return"UserEntryFlow"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(24).then(n.bind(null,"oDx8Re+OlceVZEulT7TD"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"oDx8Re+OlceVZEulT7TD"}},g),A=Object(r.a)({resolved:{},chunkName:function(){return"SignUp"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(22).then(n.bind(null,"e/hMyg5KemEY1L9oejpn"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"e/hMyg5KemEY1L9oejpn"}},g),N=Object(r.a)({resolved:{},chunkName:function(){return"ChangePassword"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(9).then(n.bind(null,"uBUCxIPo8km7Bv5IFZxr"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"uBUCxIPo8km7Bv5IFZxr"}},g),I=Object(r.a)({resolved:{},chunkName:function(){return"SocialSuggest"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(23).then(n.bind(null,"mhPfjOk2QVqKfaVLL7SU"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"mhPfjOk2QVqKfaVLL7SU"}},g),M=Object(r.a)({resolved:{},chunkName:function(){return"AmDebug"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(0).then(n.bind(null,"EFYsgHY8Lic1y3kkeXo+"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"EFYsgHY8Lic1y3kkeXo+"}},g),L=Object(r.a)({resolved:{},chunkName:function(){return"AmFinish"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(1).then(n.bind(null,"+NrZGGuGsKWAvtxDrmiF"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"+NrZGGuGsKWAvtxDrmiF"}},g);function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[{path:"/auth",exact:!0,component:i.a},{path:"/auth/list",exact:!0,component:o.a},{path:"/auth/add",exact:!0,component:i.a},{path:"/auth/magic",exact:!0,component:c.a},{path:"/auth/welcome",exact:!0,component:a.a},{path:"/auth/link",exact:!0,component:T},{path:"/auth/preregister",exact:!0,component:S},{path:"/register/link",exact:!0,component:T},{path:"/auth/phone",exact:!0,component:e.isAdditionalDataRequestEnabled?O:o.a},{path:"/auth/email",exact:!0,component:e.isAdditionalDataRequestEnabled?_:o.a},{path:"/auth/avatar",exact:!0,component:e.isAdditionalDataRequestEnabled?C:o.a},{path:"/auth/challenge",exact:!0,component:P},{path:f.j,exact:!0,component:k},{path:f.h,exact:!0,component:k},{path:d.d,exact:!0,component:w},{path:d.c,exact:!0,component:E},{path:d.b,exact:!0,component:j},{path:d.a,exact:!0,component:R},{path:"/auth/phoneconfirm",exact:!0,component:u.a},{path:"/phoneconfirm",exact:!0,component:u.a},{path:f.d,exact:!0,component:A},{path:"/auth/changepassword",exact:!0,component:N},{path:"/auth/social-suggest",exact:!0,component:I},{path:"/am/finish",exact:!0,component:L}];return e.isAmDebugPageEnabled&&t.push({path:"/am/debug",exact:!0,component:M}),[].concat(t,p(l.a))}},"WiYX8/zkxBCHx90Q2RVM":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("2XiBpSUPIXqJnJWBL+lj"),o=n.n(r),i=n("a4EMkKqamYWCMMPV7UeQ"),a=n.n(i);function c(e){return String(e).length<2?"0".concat(e):String(e)}function u(e){var t=e.startTime,n=e.endTime,r=e.isUnixTimeStamp,o=function(e,t,n){return e>t?0:n?Math.floor((t-e)/60):Math.floor((t-e)/1e3/60)}(t,n,r),i=function(e,t,n){return e>t?0:n?Math.floor((t-e)%60):Math.floor((t-e)/1e3%60)}(t,n,r);return a.a.createElement("span",{className:"phone-confirmation-timer"},c(o),":",c(i))}u.propTypes={startTime:o.a.number.isRequired,endTime:o.a.number.isRequired,isUnixTimeStamp:o.a.bool}},WlPi4ffSX0L5iiVPiVYK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return p}));var r="SET_CHANGE_PASSWORD_DATA",o="SET_CHANGE_PASSWORD_STEP",i="SET_CHANGE_PASSWORD_PHONE_STATUS",a="SET_CHANGE_PASSWORD_QUESTION",c="SET_PHONE_NUMBER_UPDATED",u="SET_CHANGE_PASSWORD_PHONE_WARNING";function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r,payload:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"captcha";return{type:o,payload:e}}function f(e){return{type:u,payload:e}}function d(e){return{type:c,payload:e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:i,payload:e}}},"WwZV+0g8pRxIfTSFjg9I":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return y}));var r=n("O5/wDFcDcr7psfl422DM"),o=n("icG+8Jgv+BJiTL/fPTrX"),i=n("Hotb6bLBAZw9GrEYBPZD"),a=n("koIp2P181fHTfc4gFYRx"),c=n("joROYenWse71KCSIszZL"),u=n("z/Ug44arcHnnmInRoI/0"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?{}:t,c=e.common,s=void 0===c?{}:c,l=e.signup,f=void 0===l?{}:l,d=e.am,p=void 0===d?{}:d,h=n.location,m=void 0===h?{}:h,b=f.mode,y=f.config,v=void 0===y?{}:y,g=v.registerWithFullPersonalInfoOrigins,O=void 0===g?[]:g,_=s.pane,E=s.origin,S=void 0===E?"":E,w=m.pathname,j=Object(r.l)("/"===w?_:w),C=p.isAm&&p.regType===a.e.NEOPHONISH,R=Object(o.m)(e)||C;if(b===i.a)return u.a;switch(j){case u.d:return O.includes(S)||p.isAm&&"turbo"===p.mode?R?u.e:u.f:R?u.b:u.c;case u.j:return u.i;case u.h:return u.g;default:return}},l=function(e,t){var n=d(t);return n[n.indexOf(e)+1]},f=function(e,t){var n=d(t);return n[n.indexOf(e)-1]},d=function(e){switch(e){case u.c:return c.d;case u.b:return c.b;case u.f:return c.e;case u.e:return c.c;case u.i:case u.g:default:return c.a}},p=function(e,t){return d(e).includes(t)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[u.b,u.c,u.a,u.e,u.f].includes(e)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[u.b,u.e].includes(e)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[u.i,u.g].includes(e)},y=function(e,t){return function(e){return b(e)||h(e)}(e)&&t&&t!==d(e)[0]}},"YGKqAHV1POlG7uih+owy":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("gW+kGIULm/gsAM1O/w51"),a=n("NoFeXeyUaLnlF3HDY2SY"),c=n("AeLhLclXWlGhw6c78Mpd"),u=n("mdXLC9fJiJb4bctGYyqB");function s(e){return function(t,n){if(!e||!e.trim())return t(Object(a.q)(["email.empty"])),void t(Object(o.ab)(!1));var s=n(),l=s.additionalDataRequest.track_id,f=s.auth,d=f.processedAccount,p=f.defaultAccount,h=s.common,m=h.profile_url,b=h.csrf,y=d||p,v={email:e,track_id:l,csrf_token:b,validator_ui_url:m,retpath:m,code_only:"yes",uid:y?y.uid:""};t(Object(a.n)()),r.a.request("email/send_confirmation_email_v2",v).done((function(){t(Object(u.a)("request_email_confirmation_code","Показ привязки емейла","Отправка кода")),t(Object(a.o)()),t(Object(o.ab)(!1)),t(Object(o.X)(!0)),t(Object(o.W)("emailConfirmation"))})).fail((function(e){for(var n=e.errors.length,r=0;r<n;r++){var u=e.errors[r];if("password.required"===u)return void t(Object(c.a)());if("email.already_confirmed"===u)return void t(Object(i.a)())}t(Object(a.q)(e.errors)),t(Object(o.ab)(!1))}))}}},Yp2QB2jYYmLrYZQDlfoW:function(e,t,n){"use strict";n.d(t,"s",(function(){return o})),n.d(t,"w",(function(){return i})),n.d(t,"x",(function(){return a})),n.d(t,"y",(function(){return c})),n.d(t,"z",(function(){return u})),n.d(t,"C",(function(){return s})),n.d(t,"A",(function(){return l})),n.d(t,"B",(function(){return f})),n.d(t,"E",(function(){return d})),n.d(t,"t",(function(){return p})),n.d(t,"u",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"v",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return O})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return E})),n.d(t,"j",(function(){return S})),n.d(t,"m",(function(){return w})),n.d(t,"D",(function(){return j})),n.d(t,"F",(function(){return C})),n.d(t,"f",(function(){return R})),n.d(t,"r",(function(){return P})),n.d(t,"a",(function(){return T})),n.d(t,"i",(function(){return k})),n.d(t,"p",(function(){return A})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return I})),n.d(t,"d",(function(){return M})),n.d(t,"q",(function(){return L})),n.d(t,"H",(function(){return D})),n.d(t,"O",(function(){return x})),n.d(t,"N",(function(){return q})),n.d(t,"P",(function(){return U})),n.d(t,"M",(function(){return B})),n.d(t,"L",(function(){return F})),n.d(t,"K",(function(){return H})),n.d(t,"I",(function(){return W})),n.d(t,"J",(function(){return V})),n.d(t,"G",(function(){return Y}));var r=n("W3MgEIO55ELSFhldjoS/"),o="UPDATE_EMPTY_ERRORS",i="UPDATE_HINT_CUSTOM_QUESTION_STATE",a="UPDATE_HINT_QUESTION_STATES",c="UPDATE_PHONE_CODE_STATE",u="UPDATE_PHONE_STATES_TO_DEFAULTS",s="UPDATE_STATES",l="UPDATE_PHONE_VALUES_TO_DEFAULTS",f="UPDATE_QUESTION_VALUES",d="UPDATE_VALUES",p="UPDATE_ERRORS",h="UPDATE_ERRORS_VALID",m="SET_GROUP_ERRORS",b="UPDATE_GLOBAL_HINT_STATUS",y="SET_FIELD_ERROR_ACTIVE",v="CHANGE_CALL_CONFIRMATION_PROCESS",g="CHANGE_PHONE_CONFIRMATION_TYPE",O="FORCE_CHECKED_CONFIRMATION_CODE",_="HUMAN_CONFIRMATION_DONE",E="SET_CALL_CONFIRMATION_TIMER",S="SET_CONFIRMATION_CODE_LENGTH",w="SET_MAGIC_CONFIRMATION_CODE",j="UPDATE_VALIDATION_METHOD",C="VALIDATE_PHONE_FOR_CALL",R="GET_QUESTIONS_LIST",P="UPDATE_CONFIRMATION_FETCHING_STATUS",T="CHANGE_ACTIVE_FIELD",k="SET_CAPTCHA_REQUIRED",A="TOGGLE_PASSWORD_VISIBILITY_STATE",N="SET_PASSWORD_WEIGHT",I="SUGGEST_PASSWORD",M="CLEAR_FORM",L="TOGGLE_SERVICE_SUBSCRIPTION_PERMISSION";function D(e){return{type:k,isRequired:e}}function x(e){return function(t,n){var o=n().form.prefix;t({type:s,data:e}),"valid"===e.status&&"phone"!==e.field&&(r.a.send(["Успешное заполнение",e.field]),r.a.goal("".concat(o,"_field_valid_").concat(e.field)))}}function q(e){return{type:f,data:e}}function U(e){return{type:d,data:e}}function B(e){return{type:p,data:e}}function F(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:L,isChecked:e}}var H=function(){return function(e){return e({type:A})}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:N,payload:{passwordWeight:e}})}},V=function(e){return function(t){return t({type:I,payload:{suggestedPassword:e}})}},Y=function(){return function(e){return e({type:M})}}},ZPKPTo2Myo1BDNy0Alk9:function(e,t,n){},"ZhSnxcFTtIAlY+v3R+s6":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"m",(function(){return y})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return O})),n.d(t,"i",(function(){return _})),n.d(t,"g",(function(){return E}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("Yp2QB2jYYmLrYZQDlfoW"),i=n("pljtMiJ6cPwIsouCAJRc"),a=n("QgjbgVDbzfInN/CjWaXi"),c=n("WwZV+0g8pRxIfTSFjg9I"),u=n("W3MgEIO55ELSFhldjoS/"),s="[USER_ENTRY_FLOW] CHANGE_STEP",l="[USER_ENTRY_FLOW] CLEAR_STATE",f="[USER_ENTRY_FLOW] SET_USER_ENTRY_PROCESSED_UID",d="[USER_ENTRY_FLOW] SET_PROCESS_ERROR",p="[USER_ENTRY_FLOW] CLEAR_PROCESS_ERROR",h="[USER_ENTRY_FLOW] CAPTCHA_IS_REQUIRED",m=function(e){return function(t){return t({type:s,payload:{step:e}})}},b=function(){return function(e){return e({type:l})}},y=function(e){return function(t){return t({type:f,payload:{processedUid:e}})}},v=function(){return function(e){e(Object(i.b)(!0)),r.a.userEntryFlowSubmit().then((function(){e(b()),e(Object(o.G)()),e(Object(i.b)(!1))}))}},g=function(){return function(e,t){var n=t(),r=Object(c.c)(n);Object(c.g)(r)||Object(c.f)(r)||(e(Object(u.b)()),e(b()),e(Object(o.G)()),e(Object(a.d)(a.b.REGISTER)))}},O=function(e){return function(t){return t({type:d,payload:{processError:e}})}},_=function(){return function(e){return e({type:p})}},E=function(e){return function(t){return t({type:h,payload:{isCaptchaRequired:e}})}}},ZvoUnaEkezIMkAn4IFvW:function(e,t,n){},a4EMkKqamYWCMMPV7UeQ:function(e,t){e.exports=React},"aS2ZYnAbJ8g/EILNnmO/":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("NoFeXeyUaLnlF3HDY2SY"),a=n("gW+kGIULm/gsAM1O/w51"),c=n("AeLhLclXWlGhw6c78Mpd"),u=n("mdXLC9fJiJb4bctGYyqB");function s(e){return function(t,n){if(!e||!e.trim())return t(Object(i.q)(["number.empty"])),void t(Object(o.ab)(!1));var s=n(),l=s.additionalDataRequest,f=l.track_id,d=l.action,p=s.settings.lang,h=s.common.csrf,m={number:e,track_id:f,csrf_token:h,display_language:p};t(Object(i.n)()),r.a.request("phone/confirm_and_bind_secure/submit_v2",m).done((function(e){t(Object(u.a)("request_phone_confirmation_code","secure"===d?"Показ превращения телефона в защищенный":"Показ привязки телефона","Отправка кода")),t(Object(i.p)(e)),t(Object(o.ab)(!1)),t(Object(o.X)(!0)),t(Object(o.W)("additionalDataRequestPhoneConfirmation"))})).fail((function(e){for(var n=e.errors.length,r=0;r<n;r++){var u=e.errors[r];if("password.required"===u)return void t(Object(c.a)());if("phone.confirmed"===u||"phone_secure.bound_and_confirmed"===u)return void t(Object(a.a)())}t(Object(i.q)(e.errors)),t(Object(o.ab)(!1))}))}}},bgXyrsqSC6Iqs5Ce6LQm:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y}));var r=n("icG+8Jgv+BJiTL/fPTrX"),o=n("pljtMiJ6cPwIsouCAJRc"),i=n("1hgyDyPvGAR756qJDrVH"),a=n("NH34m/YMyHs61nOqvuoz"),c=n("BiY5T7IoWQd4oP5CD4Ck"),u=n("ZhSnxcFTtIAlY+v3R+s6"),s=n("DykVKCzoc0ACbI/E+LI/"),l=n("QgjbgVDbzfInN/CjWaXi"),f=n("Yp2QB2jYYmLrYZQDlfoW"),d=n("JLFc6U7sd0PMI6Bh60mb"),p=n("O5/wDFcDcr7psfl422DM"),h=n("W3MgEIO55ELSFhldjoS/"),m=n("Cn0bb7dlXdz9iLHfBkZ3"),b=function(e){var t=e.trackId,n=e.firstname,f=e.lastname,d=e.uid;return function(e,b){var y=b(),v=Object(r.f)(y),g=y.auth,O=void 0===g?{}:g,_=y.am,E=void 0===_?{}:_,S=O.isChallengeExperiment;e(Object(o.b)(!0)),m.a.neoPhonishAuth({trackId:t,firstname:n,lastname:f,uid:d,retpath:v}).then((function(n){var r=n.status,f=n.redirectUrl,b=n.state,y=n.retpath;if("ok"===r){if("auth_challenge"===b&&S)return e(Object(o.b)(!1)),void e(Object(i.a)());var g=function(){return b&&f?window.location=f:(h.a.goal(a.Bc),h.a.send([a.Dc]),window.location=y||v)};return E.isAm?(e(Object(o.b)(!1)),setTimeout((function(){g()}))):g()}var O=n.errors,_=(void 0===O?[]:O)[0];if("phone.not_confirmed"===_)return m.a.getTrack({trackId:t,type:l.b.AUTH}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;n?(e(Object(s.q)(n)),e(Object(c.X)(!0)),e(Object(u.m)(d)),e(Object(c.W)("neoPhonishAuthConfirmationBySMS"))):e(Object(u.l)(Object(p.c)("global","global"))),e(Object(o.b)(!1))}));e(Object(c.X)(!1)),e(Object(u.l)(Object(p.c)("neoPhonishAuth",_))),e(Object(o.b)(!1))}))}},y=function(){return function(e,t){var n=t(),i=Object(r.c)(n),a=n.userEntryFlow,c=(void 0===a?{}:a).processedUid,u=i.lastname,s=i.firstname,h=i.phoneCode,y=Object(r.h)(n,l.b.AUTH);e(Object(o.b)(!0));var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,r=void 0===n?[]:n,i=r[0]||"global";e(Object(f.M)({field:d.a.PHONE_CODE,error:i?Object(p.e)(d.a.PHONE_CODE,i):{}})),e(Object(o.b)(!1))};m.a.checkPhoneConfirmationCode({trackId:y,code:h}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.status;if("ok"===n)return e(b({trackId:y,firstname:s,lastname:u,uid:c}));v(t)})).catch(v)}}},buqWOCdf14bbF2aD2r0s:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("BiY5T7IoWQd4oP5CD4Ck");function i(){return function(e,t){var n=t(),i=n.common,a=i.addUserUrl,c=i.editUrl,u=n.auth,s=u.unitedAccounts,l=void 0===s?{}:s;"addingAccount"!==u.mode&&(e(Object(r.d)(a)),Object.keys(l).length>0?e(Object(o.wb)(c)):e(Object(o.wb)(null)),e(Object(o.Ab)()))}}},bvVAxzEE7n2YSJ79RNaz:function(e,t,n){},byNhiHpzgd5ufDm35wOs:function(e,t,n){},"cOnnby8arSm0/7TtIi5q":function(e,t,n){},cQi5AvBgZ32PC7TuH5OJ:function(e,t,n){},"cVaAHdyqK6SlfOPrCbC+":function(e,t,n){"use strict";var r=n("gGLUm6icyW4lmihzoT4E"),o=n("JR0gMBnH1G7ZT7pBXXBz"),i=n("qyhOylcYgz7sofzu7jFu"),a=n("BiY5T7IoWQd4oP5CD4Ck"),c=n("Yp2QB2jYYmLrYZQDlfoW"),u=n("Hotb6bLBAZw9GrEYBPZD"),s=n("WwZV+0g8pRxIfTSFjg9I"),l=n("z/Ug44arcHnnmInRoI/0"),f=n("icG+8Jgv+BJiTL/fPTrX"),d=n("WBoglmoudMUSk9XWNuxe");t.a=function(){return function(e,t){var n=t(),p=Object(s.c)(n),h=n.router.location.search,m=n.common.pane,b=n.auth.form,y=void 0===b?{}:b,v=n.am,g=void 0===v?{}:v,O=y.registrationLogin,_="".concat(l.d).concat(h),E=g.isAm&&g.regType===d.c.NEOPHONISH,S=Object(f.m)(n)||E;O&&!Object(s.g)(p)&&e(Object(c.P)({field:"login",value:O})),e(Object(o.f)(S?u.b:u.c)),e(Object(i.v)(m)),e(Object(i.w)(_)),e(Object(a.xb)("register")),e(Object(r.d)(_))}}},dVdlchGuZyN639S0A3so:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("6xqEtxIjWYePk0CSapzW"),a=n.n(i),c=n("1i/I0NfxC1HkZ/9lQ7J5");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(c.cn)("PasspIcon"),l=function(e){var t,n=e.size,r=void 0===n?"s":n,i=e.type,a=e.place,c=e.withHover,l=e.dataT,f=e.fillParent;return o.a.createElement("span",{className:s((t={},u(t,i,!0),u(t,"size",r),u(t,"place",a),u(t,"withHover",c),u(t,"fill",f),t)),"data-t":l?"icon:".concat(i,":").concat(l):"icon:".concat(i)})};l.propTypes={size:a.a.oneOf(["s","m","l"]),type:a.a.string.isRequired,place:a.a.oneOf(["button"]),dataT:a.a.string,withHover:a.a.bool,fillParent:a.a.bool}},dbQGcO8bADqwtDqc3mez:function(e,t,n){"use strict";var r=n("BiY5T7IoWQd4oP5CD4Ck"),o=n("FUZ6AA4Oce8/2wMDn7Ki"),i=n("mNaMim9b+xb4df3rV6hq"),a=n("Cn0bb7dlXdz9iLHfBkZ3");function c(){return function(e,t){var n=t().common,o=n.csrf,i=n.retpath,c={csrf_token:o};i&&(c.retpath=i),a.a.request("reAuthPasswordSubmit",c).done((function(t){var n=t.track_id,o=t.csrf_token;e(Object(r.Kb)(n,o))}))}}var u,s=n("NH34m/YMyHs61nOqvuoz"),l=n("W3MgEIO55ELSFhldjoS/"),f={init:function(e){this.setStore(e)},onSuccess:function(e){var t;if(e.origin===location.origin&&e.data.socialAuth){var n=this.getStore(),o=n.getState,a=n.dispatch;(t=o()).common.retpath?Object(r.gb)(t.common.retpath):a(Object(i.a)())}},setStore:function(e){u=e},getStore:function(){return u},start:function(e){this.restart(e)},restart:function(){var e=this,t=this.getStore().getState();e.track_id=t.auth.magicTrack,e.csrf_token=t.auth.magicCSRF,e.trackNotFoundErrorCount=0,e.timeoutErrorCount=0,e.stop(),e._interval=300,window.intervalTimeout=setTimeout((function(){e._interval=1e3}),6e4),window.redirectTimeout=setTimeout((function(){window.location.reload(!0)}),6e5),e._stopped=!1,e.restartPolling()},restartPolling:function(){var e=this;e._stopped||setTimeout((function(){e.poll()}),e._interval)},poll:function(){var e=this,t=$.ajax("/auth/new/magic/status/",{data:{track_id:e.track_id,csrf_token:e.csrf_token},dataType:"json",timeout:1e4,type:"POST"}),n=e.getStore().dispatch;t.fail((function(){e.timeoutErrorCount>1&&(e.stop(),n(Object(r.sb)("global"))),e.timeoutErrorCount++,e.restartPolling()})),t.done((function(t){var i;if("auth_challenge"===t.state)return e.stop(),void(window.location.href=t.redirectUrl);if("ok"===t.status&&"otp_auth_finished"===t.state)return e.stop(),l.a.goal(s.Bc),void(window.location.href="/auth/finish/?track_id=".concat(e.track_id));if(t.errors){if("password.not_matched"===(i=t.errors[0])&&(i="password.not_matched_2fa"),"captcha.required"===i)return e.stop(),n(Object(o.s)(e.track_id)),void n(Object(r.U)(!0));"track.not_found"===i&&(e.trackNotFoundErrorCount>5&&(e.stop(),n(Object(r.sb)(i)),n(c())),e.trackNotFoundErrorCount++),-1===["internal.temporary","backend.redis_failed","track.not_found","oauth_token.invalid"].indexOf(i)&&(e.stop(),n(Object(r.sb)(i)),n(c()))}e.restartPolling()}))},clearCaptchaState:function(){(0,this.getStore().dispatch)(Object(r.U)(!1))},stopPoll:function(){this._stopped=!0},stop:function(){this.stopPoll(),clearTimeout(window.intervalTimeout),clearTimeout(window.redirectTimeout)}};t.a=f},eFeAaZwgvdSTBhzajFL3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("BiY5T7IoWQd4oP5CD4Ck"),o=n("gGLUm6icyW4lmihzoT4E");function i(e){return function(t,n){var i=n(),a=i.common.editUrl,c=i.auth,u=(void 0===c?{}:c).mode;t(Object(r.ab)(!0)),"edit"!==u&&t(Object(o.e)(a)),Object(r.gb)(e)}}},"eidTN+99QhledymTSSqQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("6xqEtxIjWYePk0CSapzW"),a=n.n(i),c=n("uNsBkTB0tkTcZcJjw4EW"),u=n("XfvJxrq+6ZjARc247lgD"),s=n("hBpDEBGRCZixtQAFbSC1"),l=n("iigY27Eudt4gvnyI01Im"),f=n("XWZpnkTRTYX0o0DlXbqG"),d=Object(c.withBemMod)(Object(f.b)(),{weight:"medium"}),p=Object(c.withBemMod)(Object(f.b)(),{weight:"bold"});function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=Object(c.compose)(u.a,d,p,s.a)(l.a),y=function(e){var t=e.view,n=void 0===t?"default":t,r=e.dataT,i=m(e,["view","dataT"]);return o.a.createElement(b,h({view:n,"data-t":r?"link:".concat(n,":").concat(r):"link:".concat(n)},i))};y.propTypes={target:a.a.string,view:a.a.string,href:a.a.string,dataT:a.a.string,pseudo:a.a.bool,weight:a.a.oneOf(["normal","medium","bold"])}},etT0u9nWCwE0v9oNNR28:function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("MJovFwNIrFAmLe5Xoo3c"),c=n.n(a),u=n("2XiBpSUPIXqJnJWBL+lj"),s=n.n(u),l=n("NH34m/YMyHs61nOqvuoz"),f=n("iYno3SKv/BW0tduPFmp1"),d=n("WJOEWUhuaqB4LU1CIwDt"),p=n("Tj+VifeljIkLbukhQzjL"),h=n("icG+8Jgv+BJiTL/fPTrX");var m=n("ZDmX7r9YifVbosUR2qgY"),b=n("GWbkqWWFGcC2wNwmmBsB"),y=n("cVaAHdyqK6SlfOPrCbC+"),v=n("BiY5T7IoWQd4oP5CD4Ck");var g=n("6OWwt9yvRw7ShcN4G3nV"),O=n("Sv+DydT6rKBct5kRKGVV"),_=n("W3MgEIO55ELSFhldjoS/"),E=n("uK9xiV8SwhymVpEWNYWz");var S=n("AFgMZ7oQJHD2/+zDS46y"),w=n("gGLUm6icyW4lmihzoT4E");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r,i=P(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),N(k(t=i.call(this,e)),"ref",o.a.createRef()),N(k(t),"focus",(function(){t.ref.current&&t.ref.current.focus&&t.ref.current.focus()})),t.fieldOptions={autoCorrect:"off",autoCapitalize:"off",autoComplete:"username"};var n=e.fieldLink,r=e.isRestoreLoginEnabled,c=e.dispatch;return t.fieldLink=Object.assign({},n),r&&(t.fieldLink.onClick=function(){n.onClick(),c((function(e,t){var n=t(),r=n.common.restoreLoginUrl;"restoreLogin"!==n.auth.mode&&(e(Object(v.Eb)()),e(Object(w.d)(r)))}))}),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.isNoTabletTouch||setTimeout(this.focus,300)}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.onChangeLogin,r=e.fieldError,i=e.fieldLabel,a=e.accountDisabledFieldLink,c=e.isShowFieldLink,u=e.isAccountDisabledStatus;return o.a.createElement(S.b,{size:"l",ref:this.ref,label:i,value:t,name:"login",type:"text",error:r,link:u?a:this.fieldLink,options:this.fieldOptions,isShowFieldLink:c,onChange:n,view:"floating-label"})}}])&&C(t.prototype,n),r&&C(t,r),a}(r.Component);I.defaultProps={fieldValue:""},I.propTypes={login:s.a.string.isRequired,onChangeLogin:s.a.func.isRequired,dispatch:s.a.func.isRequired,fieldLink:s.a.shape({url:s.a.string.isRequired,text:s.a.string.isRequired,onClick:s.a.func.isRequired}).isRequired,fieldError:s.a.string.isRequired,fieldLabel:s.a.string.isRequired,accountDisabledFieldLink:s.a.object,isAccountDisabledStatus:s.a.bool,isShowFieldLink:s.a.bool.isRequired,isNoTabletTouch:s.a.bool.isRequired,isRestoreLoginEnabled:s.a.bool.isRequired};var M=Object(i.c)((function(e){var t=e.settings,n=t.isNoTabletTouch,r=t.tld,o=e.common,i=o.restoration_login_url,a=o.restoreLoginUrl,c=o.restoration_url,u=e.auth,s=u.loginError,f=u.isRestoreLoginEnabled,d=u.isRestoreLoginTextExp,p=u.isDefaultTextsExp,h=u.isAbleToRestore,m=u.isAuthButtonAndTextExp,b=u.authButtonAndTextExperimentNumber,y={url:f?a:i,text:d?"Вспомнить логин":"Не помню логин",pseudo:f,onClick:function(){_.a.send([l.oc,l.I])}},v=u.form.login,g={url:h?c.replace("login=login",v?"login=".concat(v):""):"https://yandex.%tld/support/passport/troubleshooting/blocked.html".replace("%tld",r),text:h?"Восстановить доступ":"Обратиться в поддержку",onClick:function(){_.a.send([l.oc,l.I])}},S=function(e){if(!e)return"";if("captcha.required"===e)return"";return Object(E.a)(O.a[e]||O.a.global)}(s),w="account.disabled_on_deletion"===s,j=!S||S!==O.a.global&&-1===["captcha.required","csrf_token.invalid","account.disabled","sessionid.overflow"].indexOf(s),C="Введите логин, почту или телефон";return p&&(C="Введите почту или телефон"),m&&(C=[2,4].includes(b)?"Почта, логин или телефон":"Почта или телефон"),{isNoTabletTouch:n,fieldLink:y,accountDisabledFieldLink:g,fieldError:S,isShowFieldLink:j,isRestoreLoginEnabled:f,isAccountDisabledStatus:w,fieldLabel:C,loginError:s}}))(I),L=n("DNml7VDdSAs10Z4giKjv");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?H(e):t}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(a,e);var t,n,r,i=B(a);function a(){var e;x(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(H(e=i.call.apply(i,[this].concat(n))),"sendMetrics",(function(){_.a.send([l.oc,l.H])})),V(H(e),"onClick",(function(t){var n=e.props,r=n.isRegisterWithSuggestToRestoreByPhoneInDaHouse,o=n.switchToModeRegisterLite,i=n.switchToModeRegister,a=n.isNeoPhonishRegisterExp,c="portal"!==n.registrationType;e.sendMetrics(),(r||a)&&(t.preventDefault(),i()),c&&(t.preventDefault(),o())})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.login,n=e.url;return o.a.createElement("div",{className:"passp-button passp-register-button"},o.a.createElement(L.a,{type:"link",url:n,onClick:this.onClick,text:"Зарегистрировать %1".replace("%1",t),view:"pseudo",width:"max",size:"l"}))}}])&&q(t.prototype,n),r&&q(t,r),a}(o.a.PureComponent);Y.propTypes={login:s.a.string,url:s.a.string.isRequired,switchToModeRegisterLite:s.a.func.isRequired,switchToModeRegister:s.a.func,registrationType:s.a.string.isRequired,isPreRegisterExp:s.a.bool,isPreRegisterWithSocialExp:s.a.bool,isRegisterWithSuggestToRestoreByPhoneInDaHouse:s.a.bool,isNeoPhonishRegisterExp:s.a.bool};var z=Y;function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,e);var t,n,r,i=J(a);function a(){var e;X(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return te($(e=i.call.apply(i,[this].concat(n))),"sendMetrics",(function(){return _.a.send([l.oc,l.G])})),te($(e),"onClick",(function(t){var n=e.props,r=n.isRegisterWithSuggestToRestoreByPhoneInDaHouseExp,o=n.isNeoPhonishRegisterExp,i=n.isAmCustomRegType,a=n.switchToModeRegister;e.sendMetrics(),(r||o||i)&&(t.preventDefault(),a())})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.url;return o.a.createElement("div",{className:"passp-button passp-exp-register-button"},o.a.createElement(L.a,{type:"link",url:e,text:"Зарегистрироваться",view:"pseudo",onClick:this.onClick,size:"l",width:"max"}))}}])&&Q(t.prototype,n),r&&Q(t,r),a}(o.a.Component);ne.propTypes={url:s.a.string.isRequired,isRegisterWithSuggestToRestoreByPhoneInDaHouseExp:s.a.bool.isRequired,isNeoPhonishRegisterExp:s.a.bool.isRequired,isAmCustomRegType:s.a.bool,switchToModeRegister:s.a.func.isRequired};var re=n("WBoglmoudMUSk9XWNuxe"),oe={switchToModeRegister:y.a},ie=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auth,n=void 0===t?{}:t,r=e.am,o=void 0===r?{}:r,i=n.isRegisterWithSuggestToRestoreByPhoneInDaHouse;return{isRegisterWithSuggestToRestoreByPhoneInDaHouseExp:i,isNeoPhonishRegisterExp:Object(h.m)(e),isAmCustomRegType:o.isAm&&Object.keys(re.c).map((function(e){return re.c[e]})).includes(o.regType)}}),oe)(ne),ae=n("QVbIF+W9nkHnIvgbpiW3");function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(a,e);var t,n,r,i=le(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).changeLoginValue=t.changeLoginValue.bind(de(t)),t.submitLoginForm=t.submitLoginForm.bind(de(t)),t.handlePasswordChange=t.handlePasswordChange.bind(de(t)),t.state={isPasswordChanged:!1},t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e()}},{key:"componentWillUnmount",value:function(){(0,this.props.setLoginError)("")}},{key:"changeLoginValue",value:function(e){(0,this.props.updateLoginValue)(e)}},{key:"handlePasswordChange",value:function(e){e.target.value&&this.setState({isPasswordChanged:!0})}},{key:"submitLoginForm",value:function(e){e.preventDefault();var t=this.props,n=t.addUserUrl,r=t.login;(0,t.dispatch)(Object(f.a)(d.b,{login:r,backPane:n}))}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.retpath,r=e.fretpath,i=e.clean,a=e.csrf,u=e.isCanRegister,s=e.registrationLogin,l=e.registrationUrl,f=e.registrationExpUrl,d=e.hasCaptcha,p=e.authUrl,h=e.loading,m=e.switchToModeRegisterLite,b=e.switchToModeRegister,y=e.registrationType,v=e.isPreRegisterExp,O=e.isPreRegisterWithSocialExp,_=e.isRegisterWithSuggestToRestoreByPhoneInDaHouse,E=e.isNeoPhonishRegisterExp,S=e.isNewLogoExp;return o.a.createElement("div",{className:c()("passp-login-form",{"passp-login-form_can-register":u,"passp-login-form_has-captcha":d,"passp-login-form_reduce-margin":S})},o.a.createElement("form",{onSubmit:this.submitLoginForm,method:"post",action:p},o.a.createElement("input",{type:"hidden",name:"retpath",value:n}),o.a.createElement("input",{type:"hidden",name:"fretpath",value:r}),o.a.createElement("input",{type:"hidden",name:"clean",value:i}),o.a.createElement("input",{type:"hidden",name:"service",value:""}),o.a.createElement("input",{type:"hidden",name:"origin",value:""}),o.a.createElement("input",{type:"hidden",name:"policy",value:""}),o.a.createElement("input",{type:"hidden",name:"is_pdd",value:""}),o.a.createElement("input",{type:"hidden",name:"csrf_token",value:a}),d&&o.a.createElement(g.a,null),o.a.createElement(M,{login:t,onChangeLogin:this.changeLoginValue}),!this.state.isPasswordChanged&&o.a.createElement("input",{className:"passp-hidden-password-field",type:"password",id:"hiddenPassword",name:"hidden-password",onChange:this.handlePasswordChange,tabIndex:-1,autoComplete:"off","aria-hidden":!0}),o.a.createElement(z,{login:s,url:l,isPreRegisterExp:v,isPreRegisterWithSocialExp:O,switchToModeRegisterLite:m,switchToModeRegister:b,registrationType:y,isRegisterWithSuggestToRestoreByPhoneInDaHouse:_,isNeoPhonishRegisterExp:E}),o.a.createElement(ae.a,{isDisabled:h}),!u&&o.a.createElement(ie,{url:f})))}}])&&ue(t.prototype,n),r&&ue(t,r),a}(r.Component);he.defaultProps={retpath:"",fretpath:"",clean:"",csrf:"",isCanRegister:!1,loading:!1},he.propTypes={registrationUrl:s.a.string.isRequired,registrationExpUrl:s.a.string.isRequired,login:s.a.string.isRequired,retpath:s.a.string,fretpath:s.a.string,clean:s.a.string,csrf:s.a.string,addUserUrl:s.a.string.isRequired,authUrl:s.a.string.isRequired,backPane:s.a.string,mode:s.a.string,isCanRegister:s.a.bool.isRequired,loading:s.a.bool.isRequired,registrationLogin:s.a.string,hasCaptcha:s.a.oneOfType([s.a.bool,s.a.object]),updateLoginValue:s.a.func.isRequired,setupBackPane:s.a.func.isRequired,canRegister:s.a.func.isRequired,setLoginError:s.a.func.isRequired,dispatch:s.a.func.isRequired,registrationType:s.a.string.isRequired,switchToModeRegisterLite:s.a.func.isRequired,switchToModeRegister:s.a.func,getLiteRegisterTrack:s.a.func,isPreRegisterExp:s.a.bool,isPreRegisterWithSocialExp:s.a.bool,isRegisterWithSuggestToRestoreByPhoneInDaHouse:s.a.bool,isNeoPhonishRegisterExp:s.a.bool,isNewLogoExp:s.a.bool,onMount:s.a.func};var me=Object(i.c)((function(e){var t=e.auth,n=t.form,r=n.login,o=n.isCanRegister,i=n.registrationLogin,a=n.registrationType,c=n.registrationPhoneNumber,u=n.registrationCountry,s=t.loginError,l=t.mode,f=t.loading,d=t.isPreRegisterExp,m=t.isPreRegisterWithSocialExp,b=t.isRegisterWithSuggestToRestoreByPhoneInDaHouse,y=e.common,v=y.registration_url,g=y.registration_url_with_params,O=y.retpath,_=y.fretpath,E=y.clean,S=y.csrf,w=y.addUserUrl,j=y.backPane,C=y.authUrl,R=y.liteRegisterUrl,P=g;return"portal"!==a&&(P=R),{registrationUrl:Object(p.a)(P,i,c,u),registrationExpUrl:v,registrationType:a,login:r,retpath:O,fretpath:_,clean:E,csrf:S,addUserUrl:w,backPane:j,isCanRegister:o,registrationLogin:i,hasCaptcha:Boolean(s&&s.indexOf("captcha")>-1),authUrl:C,mode:l,loading:f,isPreRegisterExp:d,isPreRegisterWithSocialExp:m,isRegisterWithSuggestToRestoreByPhoneInDaHouse:b,isNeoPhonishRegisterExp:Object(h.m)(e),isNewLogoExp:Object(h.j)(e,"passport-new-logo-on")}}),(function(e){var t={updateLoginValue:v.Jb,setupBackPane:v.wb,canRegister:v.T,setLoginError:v.rb,switchToModeRegisterLite:b.a,switchToModeRegister:y.a,onMount:d.a};return Object.assign({},Object(m.b)(t,e),{dispatch:e})}))(he),be=n("GMNkzy/zbaSBYdP6Cvxp"),ye=n("ChNA47itMhrlI5HSOuk4"),ve=n("hbhwtfwpwcJBep3jxV99"),ge=n("KLFLb2oMSurwp/8+w02t");var Oe=n("fi7sVlHuU93LEbukopgn"),_e=n("qyhOylcYgz7sofzu7jFu");var Ee=n("tCkh2Qrmkk8kxTyPmKAs");function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Te(e):t}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(a,e);var t,n,r,i=Re(a);function a(){var e;we(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ae(Te(e=i.call.apply(i,[this].concat(n))),"maybeRenderHelpLink",(function(){var t=e.props,n=t.origin,r=t.yandexSupportUrl;if("china"===n)return o.a.createElement(ge.a,{target:"_blank",href:r},"Сообщить о проблеме")})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.setupMode,r=e.setupPane,o=e.addUserUrl,i=e.editUrl,a=e.hasUnitedAccounts;!e.isAm&&a&&t(i),n("addingAccount"),r(o),_.a.send([l.oc]),_.a.goal(l.pc),this.props.onMount&&"function"==typeof this.props.onMount&&this.props.onMount()}},{key:"render",value:function(){var e=this.props,t=e.isCanRegister,n=e.customTagline,r=e.isWebView,i=e.isWebViewWithSocialAuth,a=e.origin;return o.a.createElement(ye.a,{cls:"add-account",dataT:"add-account"},o.a.createElement("div",{className:c()({"passp-add-account-page_has-social-block":!0,"passp-add-account-page_can-register":t})},o.a.createElement(ve.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),o.a.createElement(me,null),!Ee.a.includes(a)&&(!r||i)&&o.a.createElement(be.a,null)),this.maybeRenderHelpLink())}}])&&je(t.prototype,n),r&&je(t,r),a}(r.Component);Ne.propTypes={isWebView:s.a.bool,isWebViewWithSocialAuth:s.a.bool,isCanRegister:s.a.bool.isRequired,customTagline:s.a.string.isRequired,setupBackPane:s.a.func.isRequired,canRegister:s.a.func.isRequired,setupMode:s.a.func.isRequired,setupPane:s.a.func.isRequired,addUserUrl:s.a.string,editUrl:s.a.string,onMount:s.a.func,hasUnitedAccounts:s.a.bool,origin:s.a.string,yandexSupportUrl:s.a.string.isRequired,isAm:s.a.bool};t.a=Object(i.c)((function(e){var t=e.auth,n=t.form.isCanRegister,r=t.unitedAccounts,o=void 0===r?{}:r,i=t.isDefaultTextsExp,a=t.isAuthButtonAndTextExp,c=t.authButtonAndTextExperimentNumber,u=e.common,s=void 0===u?{}:u,l=e.customs.tagline,f=e.am,d=void 0===f?{}:f,p=s.addUserUrl,h=s.editUrl,m=s.isWebView,b=s.isWebViewWithSocialAuth,y=s.origin,v=s.yandex_support_url,g=Object.keys(o).length>0,O="Войдите, чтобы продолжить";return i&&(O="Введите почту или телефон для продолжения"),a&&(O=[2,4].includes(c)?"Введите почту, логин или телефон для продолжения":"Введите почту или телефон для продолжения"),l&&(O=l),{addUserUrl:p,editUrl:h,isCanRegister:n,hasUnitedAccounts:g,customTagline:O,isWebView:m,isWebViewWithSocialAuth:b,origin:y,yandexSupportUrl:v,isAm:d.isAm}}),(function(e){var t={setupBackPane:v.wb,canRegister:v.T,setupMode:v.xb,setupPane:_e.w,onMount:Oe.f};return Object.assign({},Object(m.b)(t,e),{dispatch:e})}))(Ne)},"exOCWzlfu86/I8jXI0mZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));var r="SET_AUTH_MESSENGER_ERROR",o="AUTH_MESSENGER_SENT";function i(e){return{type:r,error:e}}function a(e){return{type:o,code:e}}},fdvIBlOQlZTMBA80mYxn:function(e,t){e.exports=ReactDOM},fi7sVlHuU93LEbukopgn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"k",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"c",(function(){return v}));var r=n("ozXO7EVOUamPcLi5fknR"),o=n("koIp2P181fHTfc4gFYRx");function i(e){return"nativeMobileApi/".concat(e)}var a={UPDATE_SAVED_EXPERIMENTS:i("UPDATE_SAVED_EXPERIMENTS")},c={READY:i("READY"),AUTH_SUCCEED:i("AUTH_SUCCEED"),REQUEST_SWC:i("REQUEST_SWC"),START_SOCIAL_AUTH:i("START_SOCIAL_AUTH"),SHOW_DEBUG_INFO:i("SHOW_DEBUG_INFO"),SEND_METRICS:i("SEND_METRICS"),GET_SMS:i("GET_SMS"),GET_PHONE_REGION_CODE:i("GET_PHONE_REGION_CODE"),REQUEST_SAVED_EXPERIMENTS:i("REQUEST_SAVED_EXPERIMENTS"),REQUEST_PHONE_NUMBER_HINT:i("REQUEST_PHONE_NUMBER_HINT")};function u(e,t,n){return{type:c.AUTH_SUCCEED,payload:{login:e,password:t,avatarUrl:n}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ok";return{type:c.READY,payload:{status:e}}}function l(){return function(e,t){var n=t().am;(void 0===n?{}:n).isAm&&e({type:c.REQUEST_SWC})}}function f(e){return{type:c.START_SOCIAL_AUTH,payload:{provider:e}}}function d(){return function(e,t){var n=t().am,o=void 0===n?{}:n;o.isAm&&o.debug&&e(Object(r.push)("/am/debug".concat(location.search)))}}function p(){return{type:c.SHOW_DEBUG_INFO}}function h(){return function(e,t){var n=t().am,r=void 0===n?{}:n;r.isAm&&r.platform===o.d.ANDROID&&e({type:c.GET_SMS})}}function m(){return{type:c.GET_PHONE_REGION_CODE}}function b(){return{type:c.REQUEST_SAVED_EXPERIMENTS}}function y(e){return{type:a.UPDATE_SAVED_EXPERIMENTS,payload:{experiments:e}}}function v(){return function(e,t){var n=t().am;(void 0===n?{}:n).isAm&&e({type:c.REQUEST_PHONE_NUMBER_HINT})}}},"gW+kGIULm/gsAM1O/w51":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("BiY5T7IoWQd4oP5CD4Ck"),o=n("eFeAaZwgvdSTBhzajFL3");function i(){return function(e,t){var n=t().common,i=n.retpath,a=n.profile_url,c=i||a;e(Object(r.ib)()),e(Object(o.a)(c))}}},hbhwtfwpwcJBep3jxV99:function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("LzmKygd9FPlNlMcSJp0Y"),u=Object(c.cn)("passp-title"),s=function(e){var t=e.cls,n=void 0===t?"":t,r=e.children,i=e.dataT;return o.a.createElement("h1",{"data-t":i?"title:".concat(i):"title",className:"".concat(u()," ").concat(n||"")},r)};s.defaultProps={isPopupTitle:!1},s.propTypes={cls:a.a.string,dataT:a.a.string,children:a.a.node.isRequired},t.a=s},hcsxn9XihIPLQs8XbotM:function(e,t,n){},"iCK235f/imKRe7hxV26u":function(e,t,n){"use strict";t.a={fb:"Facebook",gg:"Google",tw:"Twitter",vk:"ВКонтакте",mr:"Mail.ru",ok:"Одноклассники"}},"iYno3SKv/BW0tduPFmp1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("F0RLjjE+ZbZkCivh5+sy"),o=n("BiY5T7IoWQd4oP5CD4Ck");function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i){var a=i();t(Object(o.ab)(!0)),a.auth.isCaptchaRequired?t(Object(r.a)({action:e,actionArguments:n})):t(e.apply(void 0,n))}}},"icG+8Jgv+BJiTL/fPTrX":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"l",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"m",(function(){return g})),n.d(t,"g",(function(){return _}));var r=n("im/2hw6sv00xkN4JTKUO"),o=n("QgjbgVDbzfInN/CjWaXi"),i=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.form}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.values||{}})),a=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.form}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.errors||{}})),c=(Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.version||"unknown"})),Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.metricsUserType||"null"})),Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.ua||e.uatraits||{}}))),u=function(e){var t=c(e);return t.isMobile&&!t.isTablet},s=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.language||e.lang})),l=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.common}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.experiments&&e.experiments.flags||[]})),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(e).includes(t)},d=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.tracks}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=d(e),r=n["".concat(t,"TrackId")]||"";return r||t!==o.b.COMMON||(r=e.common&&e.common.track_id),r},h=function(e){var t=d(e),n=Object.keys(t);return n[0]&&t[n[0]]||e.common&&e.common.track_id},m=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.common}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.retpath||e.profile_url})),b=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"ru"!==e.tld||225!==e.countryId})),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.common,n=void 0===t?{}:t,r=e.settings,o=void 0===r?{}:r,i=e.auth,a=void 0===i?{}:i;return n.process_uuid||o.process_uuid||a.process_uuid},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.common,n=void 0===t?{}:t,r=e.auth,o=void 0===r?{}:r,i=o.authorizedAccountsDefaultUid,a=o.defaultAccount,c=void 0===a?{}:a;return n.uid||i||c.uid},g=(Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.metrics}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.counterId})),function(e){var t=e.common,n=void 0===t?{}:t,r=n.origin,o=n.neoPhonish,i=void 0===o?{}:o,a=i.origins,c=void 0===a?[]:a,u=i.originsMask,s=void 0===u?[]:u,l=i.originsAB,d=void 0===l?[]:l,p=i.originsMaskAB,h=void 0===p?[]:p,m=i.excludedOrigins,b=void 0===m?[]:m,y=f(e,i.exp);if(!r||!y)return!1;if(b.includes(r))return!1;var v=c.includes(r),g=Boolean(s.filter((function(e){return r.startsWith(e)})).length),O=f(e,i.originsABExp),_=f(e,i.originsABDesktopExp),E=d.includes(r),S=Boolean(h.filter((function(e){return r.startsWith(e)})).length);return v||g||(O||_)&&(E||S)}),O={tw:"Twitter",vk:"ВКонтакте",ok:"Одноклассники",mr:"Mail.ru",gg:"Google",fb:"Facebook",apl:"Apple"},_=function(e){return O[e]}},j3yvTzmGRDq8gXphz6Lb:function(e,t,n){},j507Ne3irpF5r6q7cCCJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("6xqEtxIjWYePk0CSapzW"),a=n.n(i),c=n("uNsBkTB0tkTcZcJjw4EW"),u=n("sBaTQOlnZZ5iBg+Jomw1"),s=n("6d5/yvw1sAnDGibWt5Ll"),l=n("C+ANjGl2wThaTyOu0dY5"),f=n("rtpCDoS0m3SmWPISBbx1"),d=n("bCHG6I2WK/oSJFQb5I3p"),p=n("3Jjt4JzrtX/oRJH/mVDw"),h=n("sFYLEVJMD9dtxisiNpKE"),m=n("WlV/eZ3wKr1mVMZ+X3Ca"),b=n("S/jMEqeLqZLXGprKquna"),y=n("0loECjQ1PcaD/V5AcbBX"),v=n("etCetlsB1xHiCEzTsUFI"),g=n("4dBSrGBKFBos+ZOphiYh"),O=Object(c.withBemMod)(Object(g.b)(),{size:"family-l"}),_=Object(c.withBemMod)(Object(g.b)(),{size:"family-m"}),E=Object(c.withBemMod)(Object(g.b)(),{size:"xm"}),S=Object(c.withBemMod)(Object(g.b)(),{size:"subscription"}),w=Object(c.withBemMod)(Object(g.b)(),{size:"smarttv-xl"}),j=Object(c.withBemMod)(Object(g.b)(),{size:"smarttv-l"}),C=Object(c.withBemMod)(Object(g.b)(),{view:"auth-smart-tv"}),R=Object(c.withBemMod)(Object(g.b)(),{view:"oauth-authorize"}),P=Object(c.withBemMod)(Object(g.b)(),{view:"white"}),T=Object(c.withBemMod)(Object(g.b)(),{view:"plus"});function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var N=Object(c.compose)(u.a,s.a,E,l.a,O,_,S,w,j,f.a,d.a,p.a,h.a,C,R,P,T,m.a,b.a,y.a)(v.a),I=function(e){var t=e.type,n=void 0===t?"button":t,r=e.view,i=void 0===r?"action":r,a=e.text,c=e.onClick,u=e.size,s=e.children,l=e.dataT,f=A(e,["type","view","text","onClick","size","children","dataT"]);return o.a.createElement(N,k({onClick:c,type:n,view:i,size:u,"data-t":l?"button:".concat(i,":").concat(l):"button:".concat(i)},f),s||a)};I.propTypes={view:a.a.oneOf(["default","pseudo","action","clear","white","auth-smart-tv","plus"]),size:a.a.oneOf(["s","m","xm","l","family-m","family-l","subscription","smarttv-l","smarttv-xl"]),width:a.a.oneOf(["max","auto"]),type:a.a.string,text:a.a.string,url:a.a.string,id:a.a.string,target:a.a.string,onClick:a.a.func,disabled:a.a.bool,progress:a.a.bool,icon:a.a.object,children:a.a.node,dataT:a.a.string}},jYcy1MhAhKzIb7fthSxd:function(e,t,n){},joROYenWse71KCSIszZL:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return d}));var r,o=n("JLFc6U7sd0PMI6Bh60mb");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={PHONE:"phone",PHONE_CONFIRM:"phoneConfirm",PERSONAL_DATA:"personalData",ACCOUNTS:"accounts",LOGIN:"login",PASSWORD:"password",EULA:"eula",PERSONAL_DATA_AND_PHONE:"personalDataAndPhone"},c=[a.PHONE,a.PHONE_CONFIRM,a.PERSONAL_DATA,a.ACCOUNTS,a.LOGIN,a.PASSWORD,a.EULA],u=[a.PHONE,a.PHONE_CONFIRM,a.PERSONAL_DATA,a.ACCOUNTS,a.EULA],s=[a.PERSONAL_DATA_AND_PHONE,a.PHONE_CONFIRM,a.ACCOUNTS,a.LOGIN,a.PASSWORD,a.EULA],l=[a.PERSONAL_DATA_AND_PHONE,a.PHONE_CONFIRM,a.ACCOUNTS,a.EULA],f=[a.PHONE,a.PHONE_CONFIRM,a.PERSONAL_DATA,a.ACCOUNTS],d=(i(r={},a.PERSONAL_DATA,[o.a.FIRSTNAME,o.a.LASTNAME]),i(r,a.PERSONAL_DATA_AND_PHONE,[o.a.FIRSTNAME,o.a.LASTNAME,o.a.PHONE]),i(r,a.PHONE,[o.a.PHONE]),i(r,a.LOGIN,[o.a.LOGIN]),i(r,a.PASSWORD,[o.a.PASSWORD]),r)},"kGO7r7O97efk/I83mQaI":function(e,t,n){},koIp2P181fHTfc4gFYRx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c}));var r=5,o=10,i={ANDROID:"android",IOS:"ios"},a={GET_SMS:"getSms",SAVE_LOGIN_CREDENTIALS:"saveLoginCredentials",READY:"ready",REQUEST_SWC:"requestLoginCredentials",SOCIAL_AUTH:"socialAuth",SHOW_DEBUG_INFO:"showDebugInfo",SEND_METRICS:"sendMetrics",GET_PHONE_REGION_CODE:"getPhoneRegionCode",REQUEST_SAVED_EXPERIMENTS:"requestSavedExperiments",REQUEST_PHONE_NUMBER_HINT:"requestPhoneNumberHint"},c={NEOPHONISH:"neophonish",PORTAL:"portal"}},lcqdJj1tl4sVeURHyfVH:function(e,t,n){},"mIDa3R1+msWIixVV1Ueb":function(e,t,n){},"mJL0XUsWpGmKhULiOoZ/":function(e,t,n){"use strict";var r=n("CCXVZ27A5l6hmPXwLTrH"),o=n("FBB4UUWfM/iz0AJy2xMy"),i={fallback:Object(o.a)()},a=Object(r.a)({resolved:{},chunkName:function(){return"RestorePasswordStart"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(21).then(n.bind(null,"y71gQQJ5+HIE7Tcrp5xC"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"y71gQQJ5+HIE7Tcrp5xC"}},i),c=Object(r.a)({resolved:{},chunkName:function(){return"CaptchaPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(7).then(n.bind(null,"ZrpnXOLDV3wroobScV6k"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"ZrpnXOLDV3wroobScV6k"}},i),u=Object(r.a)({resolved:{},chunkName:function(){return"MethodPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(12).then(n.bind(null,"I+hyaTYk+9KoaoO7a1p5"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"I+hyaTYk+9KoaoO7a1p5"}},i),s=Object(r.a)({resolved:{},chunkName:function(){return"MethodConfirmPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(11).then(n.bind(null,"2B5K9ZbaKqs5s9rPY0CZ"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"2B5K9ZbaKqs5s9rPY0CZ"}},i),l=Object(r.a)({resolved:{},chunkName:function(){return"RestorePasswordFinish"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(20).then(n.bind(null,"a81f1HkN8bVEO3eoWVGR"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"a81f1HkN8bVEO3eoWVGR"}},i),f=Object(r.a)({resolved:{},chunkName:function(){return"BindPhonePage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(6).then(n.bind(null,"K9P2eixAPjPauuvm0Dtb"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"K9P2eixAPjPauuvm0Dtb"}},i),d=Object(r.a)({resolved:{},chunkName:function(){return"BindHintPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(5).then(n.bind(null,"zatTJkX+odfh7OXcSmCY"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"zatTJkX+odfh7OXcSmCY"}},i),p=Object(r.a)({resolved:{},chunkName:function(){return"BindConfirmPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(4).then(n.bind(null,"J1GMvWXk/eBneCAa/NPP"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"J1GMvWXk/eBneCAa/NPP"}},i),h=Object(r.a)({resolved:{},chunkName:function(){return"NotifyPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(13).then(n.bind(null,"Jw86cCtpfJq/DXuSMaTL"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"Jw86cCtpfJq/DXuSMaTL"}},i),m=[{path:"/auth/restore/password/notify",exact:!0,component:h},{path:"/auth/restore/password",exact:!0,component:a},{path:"/auth/restore/password/captcha",exact:!0,component:c},{path:"/auth/restore/password/method",exact:!0,component:u},{path:"/auth/restore/password/method-confirm",exact:!0,component:s},{path:"/auth/restore/password/finish",exact:!0,component:l},{path:"/auth/restore/password/bind-phone",exact:!0,component:f},{path:"/auth/restore/password/bind-hint",exact:!0,component:d},{path:"/auth/restore/password/bind-phone-confirm",exact:!0,component:p}];t.a=m},"mNaMim9b+xb4df3rV6hq":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("Cn0bb7dlXdz9iLHfBkZ3"),i=n("qyhOylcYgz7sofzu7jFu"),a=n("BiY5T7IoWQd4oP5CD4Ck");function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var c=n().common.addUserUrl;t(Object(a.ab)(!0)),o.a.request("auth/accounts").done((function(u){var s=u.csrf;o.a.setCsrfToken(s),t(Object(i.z)(s)),t(Object(a.zb)(u.accounts)),"edit"===n().auth.mode&&0===Object.keys(u.accounts.unitedAccounts).length&&t(Object(r.d)(c)),e||t(Object(a.ab)(!1))})).fail((function(e){t(Object(a.yb)(e.errors)),t(Object(a.ab)(!1))}))}}},"mai37+hLBRaO7Fi3CWwD":function(e,t,n){},"mdOyFph3JCXMilPf+Ich":function(e,t,n){},mdXLC9fJiJb4bctGYyqB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("NH34m/YMyHs61nOqvuoz"),o=n("W3MgEIO55ELSFhldjoS/");function i(e,t,n){return function(i,a){var c=a().additionalDataRequest.action,u=t||"";"skip_phone"!==e&&"show_phone"!==e||(u=("add"===c?"Показ привязки телефона":"secure"===c&&"Показ превращения телефона в защищенный")||"admit"===c&&"Показ актуализации телефона"||"Показ привязки телефона"),"skip_email"!==e&&"show_email"!==e||(u=("add"===c?"Показ привязки емейла":"restore"===c&&"Показ превращения емейла в защищенный")||"Показ привязки емейла"),"skip_social"!==e&&"show_social"!==e||(u=("add"===c?"Показ привязки социальщика":"allow_auth"===c&&"Показ включения авторизации социальщика")||"Показ привязки социальщика"),o.a.goal("".concat(r.a,"_").concat(e)),o.a.send([u,n])}}},mnQejR5GxZY5Mi6PE0Mk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="SET_ACCOUNTS_SUGGEST",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return t({type:r,payload:{accounts:e}})}}},mpwtxDFM8rSrgjcCjkSH:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("OX/wkVklJcgTEff1wL6D"),a=n("2zFAvgXZRXm915c1LW+m"),c=n("DoQaHn2w4kPN7lMBHsaC");function u(){return function(e,t){var n=t(),u=n.challenge,s=u.phoneId,l=u.isStandAloneChallenge,f=n.common,d={phoneId:s,track_id:f.track_id,csrf_token:f.csrf};if(e(Object(o.ab)(!0)),e(Object(a.f)({code:"",text:""})),l)return e(Object(a.e)({isConfirmWithCall:!1})),void e(Object(i.a)());r.a.request("auth/validate_phone_by_id",d).done((function(t){var n=t.valid_for_call;e(Object(a.e)({isConfirmWithCall:!!n})),e(Object(i.a)())})).fail((function(t){var n=Array.isArray(t.errors)&&t.errors[0];e(Object(c.a)(n))})).always((function(){e(Object(o.ab)(!1))}))}}},mqFCprKjV9lbuLnHjH3i:function(e,t,n){},n1f70h0hngwYBvYcINt6:function(e,t,n){},"nPO+y6YDb3bA1kgNAiHj":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,e);var t,n,r,i=l(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).startTimer=t.startTimer.bind(d(t)),t.stopTimer=t.stopTimer.bind(d(t)),t.timerInterval=null,t.state={currentCountdown:30},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"startTimer",value:function(){var e=this,t=this.props.onTimerEnd;this.setState({currentCountdown:30}),this.timerInterval=setInterval((function(){e.setState((function(e){return{currentCountdown:e.currentCountdown-1}})),e.state.currentCountdown<=1&&(e.stopTimer(),t&&"function"==typeof t&&t())}),1e3)}},{key:"stopTimer",value:function(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null),this.setState({currentCountdown:0})}},{key:"render",value:function(){var e=this.state.currentCountdown;return e<=1?null:o.a.createElement("span",{className:"passp-timer"},"00:",e<10?"0".concat(e):e)}}])&&u(t.prototype,n),r&&u(t,r),a}(r.Component);h.propTypes={onTimerEnd:a.a.func}},orGJv1osmJpP2TM33F0c:function(e,t,n){"use strict";var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=["alt","ctrl","shift","meta"],i={8:"backspace",9:"tab",13:"enter",32:"space"};t.a={init:function(e){var t=document.querySelector("body").dataset.extendedLogging,n=e.trackId;this.trackId=n,this.onFocusInOut=this.onFocusInOut.bind(this),this.onKeyDownUp=this.onKeyDownUp.bind(this),t&&this.trackUserActions()},destroy:function(){var e=$(document);document.removeEventListener?(document.removeEventListener("focus",this.onFocusInOut,!0),document.removeEventListener("blur",this.onFocusInOut,!0)):(e.off("focusin",this.onFocusInOut),e.off("focusout",this.onFocusInOut)),e.off("keyup",this.onKeyDownUp),e.off("keydown",this.onKeyDownUp)},trackUserActions:function(){var e=$(document);document.addEventListener?(document.addEventListener("focus",this.onFocusInOut,!0),document.addEventListener("blur",this.onFocusInOut,!0)):(e.on("focusin",this.onFocusInOut),e.on("focusout",this.onFocusInOut)),e.on("keyup",this.onKeyDownUp),e.on("keydown",this.onKeyDownUp)},onFocusInOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?{}:t,o=e.type,i=n.name,a=n.value,c=void 0===a?"":a,u=n.tagName,s=o.match(/^focus$|^focusin$/)?"focus":"blur";"INPUT"===u&&r.a.log({action:"field:"+s,track_id:this.trackId,withTrackId:!0,field:{name:i,length:c.length}},{encrypt:!0})},onKeyDownUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=e.type,a=e.keyCode;if(!("password"===t.type||"keydown"===n&&this.isKeyDown)){var c=[],u=n+":symbol";this.isKeyDown="keydown"===n,a in i&&(u=n+":"+i[a]),o.forEach((function(t){e["".concat(t,"Key")]&&c.push(t)}));var s={action:u,track_id:this.trackId,withTrackId:!0};0!==c.length&&(s.modificators=c),r.a.log(s,{encrypt:!0})}}}},pCjh69JJ2q8GXY1G76vp:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=n("a4EMkKqamYWCMMPV7UeQ"),i=n.n(o),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("ysMlxi1yQ/4ftbKMQCqh"),l=n("DNml7VDdSAs10Z4giKjv"),f=n("z3qqbj39i+miilZ9Wcps"),d=n("AFgMZ7oQJHD2/+zDS46y");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object(u.cn)("CaptchaField"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o=y(a);function a(){var e;h(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(g(e=o.call.apply(o,[this].concat(n))),"fieldRef",i.a.createRef()),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.fieldRef.current&&this.fieldRef.current.focus&&this.fieldRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.introSound,n=e.captchaSound,r=e.imageUrl,o=e.loading,a=e.loadingAudio,c=e.playing,u=e.type,s=e.captchaKey,l=e.captchaAnswer,p=e.lang,h=e.fieldError,m=e.dispatch,b=e.forcedError,y=e.fieldView,v=e.view,g=e.env;return i.a.createElement("div",{className:E("wrapper",{view:v})},i.a.createElement("input",{type:"hidden",name:"captcha_key",value:s||""}),i.a.createElement("div",{className:E("field",{view:v})},i.a.createElement(d.b,{size:"l",label:"Введите символы с картинки",value:l,name:d.a.CAPTCHA,type:"text",error:h||b,view:y,ref:this.fieldRef})),i.a.createElement("div",{className:E("image",{view:v})},i.a.createElement(f.a,{isMobile:!1,lang:p,introSound:t,captchaSound:n,imageUrl:r,loading:o,loadingAudio:a,playing:c,type:u,dispatch:m,visible:!0,env:g})))}}])&&m(t.prototype,n),r&&m(t,r),a}(o.Component);S.defaultProps={captcha:{captchaKey:""}},S.propTypes={isCaptchaRequired:c.a.bool.isRequired,isShowCaptcha:c.a.bool.isRequired,introSound:c.a.object,captchaSound:c.a.object,imageUrl:c.a.string,loading:c.a.bool,loadingAudio:c.a.bool,playing:c.a.bool,type:c.a.string,captchaKey:c.a.string,captchaAnswer:c.a.string.isRequired,lang:c.a.string.isRequired,fieldError:c.a.object,forcedError:c.a.object,dispatch:c.a.func.isRequired,isNoTabletTouch:c.a.bool,fieldView:c.a.string,view:c.a.string,env:c.a.shape({type:c.a.string})};var w=n("icG+8Jgv+BJiTL/fPTrX");var j=Object(r.c)((function(e){var t=e.settings,n=t.ua,r=t.env,o=void 0===r?{}:r,i=e.form,a=e.captcha,c=a.introSound,u=a.captchaSound,s=a.imageUrl,l=a.loading,f=a.loadingAudio,d=a.playing,p=a.type,h=a.key,m=i.errors,b=i.values;return{isNoTabletTouch:(n.isMobile||n.isTouch)&&!n.isTablet,captchaAnswer:b.captcha,lang:Object(w.d)(e),fieldError:m.captcha,introSound:c,captchaSound:u,imageUrl:s,loading:l,loadingAudio:f,playing:d,type:p,captchaKey:h,env:o}}),null,null,{forwardRef:!0})(S),C=n("W3MgEIO55ELSFhldjoS/");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=Object(u.cn)("CaptchaScreen"),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,r,o=A(a);function a(){var e;P(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return L(I(e=o.call.apply(o,[this].concat(n))),"checkCaptcha",(function(t){var n=e.props,r=n.checkCaptcha,o=n.onConfirmAction,i=n.onConfirmActionArguments,a=n.onConfirmCallback;t.preventDefault(),r({action:o,actionArguments:i,callback:a})})),e}return t=a,(n=[{key:"componentDidMount",value:function(){C.a.send("Показ экрана ввода капчи")}},{key:"componentWillUnmount",value:function(){(0,this.props.updateValues)({field:d.a.CAPTCHA,value:""})}},{key:"render",value:function(){var e=this.props.loading;return i.a.createElement("form",{onSubmit:this.checkCaptcha,className:D()},i.a.createElement("div",{className:D("head")},i.a.createElement(s.a,null,"Введите символы с картинки")),i.a.createElement("div",{className:D("body")},i.a.createElement(j,{isCaptchaRequired:!0,isShowCaptcha:!0,fieldView:"floating-label",view:"column"})),i.a.createElement("div",{className:D("controls")},i.a.createElement(l.a,{text:"Далее",onClick:this.checkCaptcha,width:"max",size:"l",type:"submit",disabled:e})))}}])&&T(t.prototype,n),r&&T(t,r),a}(i.a.PureComponent);x.propTypes={onConfirmAction:c.a.func,onConfirmActionArguments:c.a.array,onConfirmCallback:c.a.func,checkCaptcha:c.a.func.isRequired,updateValues:c.a.func.isRequired,loading:c.a.bool};var q=n("F0RLjjE+ZbZkCivh5+sy"),U=n("Yp2QB2jYYmLrYZQDlfoW"),B={checkCaptcha:q.a,updateValues:U.P},F=Object(r.c)((function(e){var t=e.auth;return{loading:(void 0===t?{}:t).loading}}),B)(x)},"pXyMpKh7Ee/E8gzuP/VL":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("z/Ug44arcHnnmInRoI/0"),i=n("FO5VaR1qDYhXlc1jCgw9"),a=n("ZhSnxcFTtIAlY+v3R+s6"),c=n("qyhOylcYgz7sofzu7jFu"),u=n("BiY5T7IoWQd4oP5CD4Ck"),s=n("O5/wDFcDcr7psfl422DM"),l=n("pljtMiJ6cPwIsouCAJRc"),f=n("Cn0bb7dlXdz9iLHfBkZ3"),d=function(e){var t=e.phone,n=e.processName,d=void 0===n?o.i:n;return function(e,n){var p,h=n(),m=h.router,b=void 0===m?{}:m,y=h.common,v=void 0===y?{}:y,g=b.location,O=(void 0===g?{}:g).search,_=v.pane;switch(d){case o.g:p=o.h;break;case o.i:default:p=o.j}var E="".concat(p).concat(O);if(e(Object(c.v)(_)),e(Object(c.w)(E)),e(Object(u.xb)("restoreLogin")),!t)return e(Object(r.d)(E)),void e(Object(l.b)(!1));f.a.userEntryFlowSubmit().then((function(){return e(Object(i.a)({phone:t,route:E,processName:d}))})).catch((function(){e(Object(a.l)(Object(s.c)("global","global"))),e(Object(r.d)(E))}))}}},pljtMiJ6cPwIsouCAJRc:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));n("Cn0bb7dlXdz9iLHfBkZ3"),n("4CLY6EXHBdRASoqLgoNs"),n("qyhOylcYgz7sofzu7jFu"),n("ozXO7EVOUamPcLi5fknR");var r="UPDATE_TOKENS_SUCCESS";function o(e){return{type:"DOMIK_IS_LOADING",loading:e}}},pxNQ4avko4wnceO2xkt9:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"m",(function(){return _})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return w}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("O5/wDFcDcr7psfl422DM"),i=function(e){return{status:e.status,firstname:e.firstname,lastname:e.lastname,socialProviderCode:e.social_provider_code,email:e.email}},a=n("icG+8Jgv+BJiTL/fPTrX"),c=n("pljtMiJ6cPwIsouCAJRc"),u=n("Yp2QB2jYYmLrYZQDlfoW"),s=n("AFgMZ7oQJHD2/+zDS46y"),l=n("W3MgEIO55ELSFhldjoS/"),f=n("NH34m/YMyHs61nOqvuoz"),d="[SOCIAL_SUGGEST] INIT_SOCIAL_SUGGEST_PROCESS",p="[SOCIAL_SUGGEST] SET_REGISTER_LITE_STATE",h="[SOCIAL_SUGGEST] SET_REGISTER_SOCIAL_STATE",m="[SOCIAL_SUGGEST] CHANGE_STATE",b="[SOCIAL_SUGGEST] CLEAR_STATE",y="[SOCIAL_SUGGEST] EDIT_FORM_STATE",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:d,payload:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t({type:m,payload:e})}},O=function(){return function(e){return e({type:b})}},_=function(){return function(e){return e({type:y})}},E=function(){return function(e,t){var n=t(),c=n.socialSuggest,l=(void 0===c?{}:c).registerLiteTrackId,f=Object(a.d)(n);r.a.getRegisterLiteState({trackId:l,language:f}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i(t),r=n.firstname,o=n.lastname;e(Object(u.P)({field:s.a.FIRSTNAME,value:r})),e(Object(u.P)({field:s.a.LASTNAME,value:o})),e({type:p,payload:n})})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.error;e({type:p,payload:Object(o.c)("registration",n[0])})}))}},S=function(){return function(e,t){var n=["firstname","lastname"],i=t(),s=i.socialSuggest,d=void 0===s?{}:s,h=d.registerLiteState,m=void 0===h?{}:h,b=d.registerLiteTrackId,y=Object(a.f)(i),v=m.email,g=Object(a.c)(i),O=Object(a.b)(i),E=g.firstname,S=g.lastname,w=[],j={track_id:b,firstname:E,lastname:S,eula_accepted:"on",login:v,retpath:y};n.forEach((function(t){if(!g[t])return w.push({field:t,code:"missingvalue"}),e(Object(u.M)({field:t,error:Object(o.e)(t,"missingvalue")}));O[t]&&O[t].code&&w.push({field:t,code:O[t].code})})),w.length||(e(Object(c.b)(!0)),r.a.registerLite(j).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status,n=e.errors,r=e.retpath;if("ok"===t)return l.a.send([f.zc,"Успешное подтверждение регистрации лайта"]),location.replace(r||y);throw n})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.error,i=void 0===r?[]:r,a=[];i.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.startsWith(t)&&a.push({field:t,error:Object(o.e)(t,e)})}))})),a.length?(a.forEach((function(t){return e(Object(u.M)(t))})),e(_())):e({type:p,payload:Object(o.c)("registration",i[0])}),e(Object(c.b)(!1)),l.a.send([f.zc,"Ошибка регистрации лайта"])})))}},w=function(){return function(e,t){var n=t(),i=n.socialSuggest,d=void 0===i?{}:i,p=n.captcha,m=void 0===p?{}:p,b=n.form,y=void 0===b?{}:b,v=d.registerSocialTrackId,g=d.profile,O=void 0===g?{}:g,_=Object(a.f)(n),E=Object(a.c)(n),S=Object(a.b)(n),w=E.firstname,j=E.lastname,C=O.name,R=[],P=C?[]:["firstname","lastname"],T={track_id:v,eula_accepted:"on",captcha:E.captcha,key:m.key,retpath:_};C||(T.firstname=w,T.lastname=j),y.keepUnsubscribedValue&&(T.unsubscribe_from_maillists=y.keepUnsubscribedValue),P.forEach((function(t){if(!E[t])return R.push({field:t,code:"missingvalue"}),e(Object(u.M)({field:t,error:Object(o.e)(t,"missingvalue")}));S[t]&&S[t].code&&R.push({field:t,code:S[t].code})})),R.length||(e(Object(c.b)(!0)),r.a.registerSocial(T).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status,n=e.errors,r=e.retpath;if("ok"===t)return l.a.send([f.zc,"Успешное подтверждение регистрации социальщика"]),location.replace(r||_);throw n})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,r=void 0===n?[]:n;if(e(Object(c.b)(!1)),r[0]&&r[0].code&&r[0].code.startsWith("captcha"))return e(Object(u.M)({field:s.a.CAPTCHA,error:Object(o.e)(s.a.CAPTCHA,r[0].code)}));e({type:h,payload:Object(o.c)("registration",r[0])}),l.a.send([f.zc,"Ошибка регистрации социальщика"])})))}}},qyhOylcYgz7sofzu7jFu:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"p",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"q",(function(){return g})),n.d(t,"s",(function(){return O})),n.d(t,"x",(function(){return _})),n.d(t,"r",(function(){return E})),n.d(t,"z",(function(){return S})),n.d(t,"v",(function(){return w})),n.d(t,"y",(function(){return j})),n.d(t,"w",(function(){return C})),n.d(t,"u",(function(){return R})),n.d(t,"t",(function(){return P}));n("ozXO7EVOUamPcLi5fknR");var r="SAVE_ACTION_FOR_REPEAT",o="SET_EDIT_MODE",i="SHOW_REG_POPUP",a="CURRENT_PAGE_CHANGED",c="UPDATE_TRACK",u="GET_TRACK",s="GET_TRACK_SUCCESS",l="GET_TRACK_FAIL",f="SETUP_BACK_PANE",d="SETUP_PANE",p="GET_COUNTRIES",h="GET_TIMEZONES",m="TOGGLE_BACK_PANE_VISIBILITY",b="SET_QUESTIONS",y="SET_IS_AM",v="UPDATE_CSRF";function g(e){return{type:"CONNECTION_ERROR",error:e}}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return{type:r,actionToCall:e,payload:n}}function _(e){return{type:i,show:e}}function E(){return function(e,t){var n=t().common,r=n.defaultPage,o=n.authURL;o?location.replace(o):location.replace("/auth?retpath=".concat(r))}}function S(e){return{type:v,token:e}}function w(e){return function(t){t({type:f,pane:e})}}function j(e){return function(t){t({type:m,isBackPaneVisible:e})}}function C(e){return function(t){t({type:d,pane:e})}}function R(e){return{type:b,questions:e}}var P=function(e){return function(t){return t({type:y,payload:{isAM:e}})}}},"s/FDDScv+AdgQla/TjIC":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("icG+8Jgv+BJiTL/fPTrX"),a=n("4CLY6EXHBdRASoqLgoNs"),c=n("qyhOylcYgz7sofzu7jFu"),u=n("gGLUm6icyW4lmihzoT4E"),s=n("gW+kGIULm/gsAM1O/w51"),l=n("mNaMim9b+xb4df3rV6hq");var f=n("yi2HOavEOLsMrMN95lAZ"),d=n("1hgyDyPvGAR756qJDrVH"),p=n("NH34m/YMyHs61nOqvuoz"),h=n("fi7sVlHuU93LEbukopgn"),m=n("W3MgEIO55ELSFhldjoS/"),b=n("QgjbgVDbzfInN/CjWaXi");function y(){return function(e,t){var n=t().common,r=n.changePasswordUrl,i=n.pane;e(Object(o.wb)(i)),e(Object(c.w)(r)),e(Object(o.xb)("change-password")),e(Object(u.d)(r))}}var v=n("WlPi4ffSX0L5iiVPiVYK"),g=n("Yp2QB2jYYmLrYZQDlfoW");var O=["social_gg","social_fb","social_tw","social_mr","social_vk","social_ok"];function _(e){return function(t,n){var O=n(),_=O.common,S=_.track_id,w=_.csrf,j=_.isWebView,C=O.auth,R=C.isAdditionalDataRequestEnabled,P=C.form.isForceOTP,T=C.processedAccount,k=O.am,A=void 0===k?{}:k,N=Object(i.f)(O),I=Object(i.j)(O,"change-password-forced-enable"),M=T&&T.allowed_auth_methods||[],L=T&&T.preferred_auth_method||"password";M.indexOf("otp")>-1&&P&&(L="otp");var D={track_id:S,csrf_token:w,password:e,retpath:N};t(Object(o.ab)(!0)),r.a.request("auth/multi_step/commit_password",D).done((function(n){if(n){var a=n.retpath,f=n.status,_=n.state,S=n.redirect_url,w=a&&-1!==a.indexOf("am_social=true");if(m.a.goal(p.Bc),m.a.send([E(O),p.dc,p.fc]),A.isAm&&"ok"===f&&!_&&"password"===(T.preferred_auth_method||"password")&&T.login&&T.login!==T.phone&&t(Object(h.l)(T.login,e)),"ok"===f&&!_){if(w||!R)return window.location=a||N;t((function(e,t){var n=t(),a=n.common,f=void 0===a?{}:a,d=f.askEmailUrl,p=f.askPhoneUrl,h=f.askAvatarUrl,m=f.profileSecurityWithCustoms,b=Object(i.j)(n,"dozapros-weak-password-exp");r.a.request("auth/accounts").done((function(t){var n={csrf_token:t.csrf,uid:t.accounts.defaultAccount&&t.accounts.defaultAccount.uid};e(Object(c.z)(t.csrf)),r.a.request("auth/additional_data/ask_v2",n).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.state,r=t.action,i=t.track_id;return e(Object(o.db)(t)),e(Object(o.wb)(null)),"password"===n&&"weak"===r&&b?location.replace("".concat(m,"&track_id=").concat(i)):"phone"===n?(e(Object(l.a)()),void e(Object(u.d)(p))):"email"===n?(e(Object(l.a)()),void e(Object(u.d)(d))):"avatar"===n?(e(Object(l.a)()),void e(Object(u.d)(h))):void e(Object(s.a)())})).fail((function(){e(Object(s.a)())}))})).fail((function(){e(Object(s.a)())}))}))}if("auth_challenge"!==_){if("change_password"!==_||!I&&!j)return A.isAm?(t(Object(o.ab)(!1)),setTimeout((function(){if(_&&S)return window.location=S}))):_&&S?window.location=S:void 0;t((function(e,t){var n=Object(i.h)(t(),b.b.COMMON);e(Object(o.ab)(!0)),r.a.request("auth/password/state",{track_id:n}).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.status,i=t.state;"ok"===o&&(e(Object(g.G)()),e(Object(v.j)("")),e(Object(v.k)("")),e(Object(v.i)(!1)),e(y()),e(Object(v.g)(i)),i.question&&e(Object(g.N)({hint_question_id:i.question.id,hint_question:i.question.text})),r.a.writeStatbox({track_id:n,mode:"change_password_force",action:"opened"}))})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(o.ub)(t))})).always((function(){e(Object(o.ab)(!1))}))}))}else t(Object(d.a)())}else t(Object(o.ab)(!1))})).fail((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.errors[0],r=O.auth.isCaptchaRequired;m.a.send([E(O),p.dc,p.ec,n]),["captcha.required","captcha.invalid"].indexOf(n)>-1&&(t(Object(o.U)(!0)),r&&t(Object(a.a)())),(["password.not_matched","password.empty","rfc_otp.invalid"].includes(n)||"otp"===L&&["captcha.required","captcha.invalid"].includes(n))&&(t(Object(o.Lb)("")),t(Object(f.a)("passwd",""))),t(Object(o.ub)(n)),t(Object(o.ab)(!1))}))}}function E(e){var t=e.auth,n=t.form.isForceOTP,r=t.processedAccount,o=e.social.providers,i=(r||{}).allowed_auth_methods||[],a=(r||{}).preferred_auth_method||"password";i.indexOf("otp")>-1&&n&&(a="otp");var c=o.filter((function(e){var t=e.data;return"social_".concat(t.code)===a}))[0]||null,u=Boolean("password"===a||i.indexOf("password")>-1),s=Boolean(O.indexOf(a)>-1&&c);return u&&s?p.wc:u?p.rc:p.qc}},s7ETookYgfkMG6aMgioe:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return p}));var r="GET_SUGGESTED_LOGINS",o="UPDATE_REG_ERROR",i="registration",a="registration_pdd",c="registration_pdd_mobile",u="registration_mobile",s="SET_SUGGESTION_VALIDATING_STATUS",l="CLEAR_SUGGESTED_LOGINS";function f(e){return{type:o,data:e}}function d(e){return{type:"UPDATE_FETCHING_STATUS",isFetching:e}}function p(e){return{type:r,data:e}}},tCkh2Qrmkk8kxTyPmKAs:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["teacher","marketb2b","pay"]},uK9xiV8SwhymVpEWNYWz:function(e,t,n){"use strict";function r(e){var t=e;return"."===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t}n.d(t,"a",(function(){return r}))},uVEfJNZqYCye0ng9Cn7q:function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r,o){"use strict";"object"===t(e)&&e.exports?e.exports=o(n("N6N5KCDRlmBrE6N3/28a")):o(r.passport)}(this,(function(e){"use strict";if("object"!==("undefined"==typeof window?"undefined":t(window)))return{};var n={blur:1,change:1,click:1,dblclick:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,drag:1,drop:1,dragend:1,focus:1,focusin:1,focusout:1,keydown:1,keypress:1,keyup:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mouseout:1,mouseover:1,mouseup:1,resize:1,scroll:1,submit:1},r=/^(([^\.\s]+)(?:\.[^\s]+)*)\s?(.+)?$/;return e.blocks={},e.block=function(t,n,r){var o,i=e.blocks;if(1===arguments.length)return i[t];2===arguments.length&&(r=n,n="block"),n=i[n]||{};var a=function(){};return a.prototype=n,o=new a,$.extend(o,r),o.id=t,o.parent=n,o.inited=new $.Deferred,i[t]=o,o},e.block("block",{construct:function(e,t){this.$el=$(e),this.initEvents(),this.init(t),this.options=t||{}},init:function(){},initEvents:function(){var e,t,o=this.events||{};for(e in o){if("function"!=typeof this[o[e]])throw new Error("Method "+o[e]+" is undefined in "+this.id+" block, but is referenced in events hash.");if(!(t=e.match(r)))throw new Error('Wrong rule "'+e+'"');var i=this[o[e]].bind(this);["blur","focusout"].indexOf(t[2])>-1&&(i=function(e){return function(){setTimeout(e,50)}}(i)),t[3]?this.$el.on(t[1],t[3],i):(t[2]in n?this.$el:$(document)).on(t[1],i)}},$:function(e){return this.$el.find(e)},emit:function(e,t){$(document).emit(e+"."+this.id,Array.prototype.slice.call(arguments,1))}}),e}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},"ukVIfyanD1vF/Y5DRUch":function(e,t,n){},vAACgmZ4g5j2dhb8F80G:function(e,t,n){},"vyaJ0c2b5A79Hlqfuti+":function(e,t,n){},"woy4sHNOI7s+OSvKAhVR":function(e,t,n){"use strict";var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("AFgMZ7oQJHD2/+zDS46y"),u=n("6OWwt9yvRw7ShcN4G3nV"),s=n("DNml7VDdSAs10Z4giKjv"),l=n("Es9rmdkpPfO71ZhahEM7"),f=n("Sv+DydT6rKBct5kRKGVV");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,i=b(a);function a(){var e;p(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(v(e=i.call.apply(i,[this].concat(n))),"ref",o.a.createRef()),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&this.ref.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.isCaptchaRequired,n=e.phoneNumber,r=e.handlePhoneChange,i=e.errors,a=void 0===i?[]:i,d=e.sentConfirmationCode,p=e.goBack,h=e.action,m=null;return a.length>0&&(m=f.a[a[0]]?f.a[a[0]]:f.a.internal),o.a.createElement(l.a,{cls:"enter-phone",dataT:"enter-phone"},o.a.createElement(c.b,{size:"l",label:"Номер телефона",value:n,name:"phoneNumber",type:"text",error:m,onChange:r,view:"floating-label",ref:this.ref}),t&&o.a.createElement(u.a,null),o.a.createElement("div",{"data-t":"phone_submit",className:"passp-button"},o.a.createElement(s.a,{type:"submit",text:"add"===h?"Привязать":"Подтвердить",view:"action",width:"max",size:"l",onClick:d})),p&&o.a.createElement("div",{"data-t":"phone_skip",className:"passp-button"},o.a.createElement(s.a,{type:"button",text:"Не сейчас",view:"pseudo",width:"max",size:"l",onClick:p})))}}])&&h(t.prototype,n),r&&h(t,r),a}(r.Component);_.propTypes={isCaptchaRequired:a.a.bool.isRequired,phoneNumber:a.a.string.isRequired,handlePhoneChange:a.a.func.isRequired,errors:a.a.array.isRequired,sentConfirmationCode:a.a.func.isRequired,goBack:a.a.func,action:a.a.string.isRequired},t.a=_},"xQe/YKjkt8zVf8FV4Pkx":function(e,t,n){},xSpN8Kyw4VlgAPhFVdtL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={NEOPHONISH:"neophonish",LITE:"lite"},o={21:r.NEOPHONISH,5:r.LITE},i=function(e){return o[e]}},xTYMmTVCxHhb8U90Af7w:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("BiY5T7IoWQd4oP5CD4Ck");function i(e){return function(t,n){var i=n(),a=i.common,c=a.pane,u=a.magicUrl;"magic"!==i.auth.mode&&(t(Object(o.wb)(c)),t(Object(r.d)(u)),t(Object(o.Bb)(e)))}}},"xct5rEhJqmV6vd+vFm00":function(e,t,n){},xk86jm087z7uHPch9i2c:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("exOCWzlfu86/I8jXI0mZ"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("NH34m/YMyHs61nOqvuoz"),c=n("W3MgEIO55ELSFhldjoS/");function u(){return c.a.send([a.E]),function(e,t){var n=t(),u=n.common,s=u.csrf,l=u.track_id,f={csrf_token:s,language:n.settings.lang,send_to:"messenger",track_id:l};e(Object(i.ab)(!0)),r.a.request("auth/send_magic_letter",f).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"ok"===t.status){var n=t.code;e(Object(o.d)(n)),e(Object(i.X)(!0)),e(Object(i.W)("authMessenger")),c.a.send([a.l])}else e(Object(o.c)("global"))})).fail((function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";if("bot_api.request_failed"===n)return e(Object(i.X)(!0)),e(Object(i.W)("authMessengerInfo")),void e(Object(i.ub)(""));e(Object(o.c)(n)),c.a.send([a.k,n])})).always((function(){e(Object(i.ab)(!1))}))}}},y1lFHCm6B2gquSkTr2oB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={firstname:{errors:{empty:"Пожалуйста, укажите имя",missingvalue:"Пожалуйста, укажите имя",toolong:"Пожалуйста, укажите более короткий вариант имени, до 50 символов",invalid:"Не заполнено или некорректное значение в поле Имя","firstname.invalid":"Не заполнено или некорректное значение в поле Имя","firstname.long":"Пожалуйста, укажите более короткий вариант имени, до 50 символов"}},lastname:{errors:{empty:"Пожалуйста, укажите фамилию",missingvalue:"Пожалуйста, укажите фамилию",toolong:"Пожалуйста, укажите более короткий вариант фамилии, до 50 символов",invalid:"Не заполнено или некорректное значение в поле Фамилия","lastname.invalid":"Не заполнено или некорректное значение в поле Фамилия","lastname.long":"Пожалуйста, укажите более короткий вариант фамилии, до 50 символов"}},login:{errors:{"login.empty":"Необходимо выбрать логин","login.missingvalue":"Необходимо выбрать логин",missingvalue:"Необходимо выбрать логин","login.invalid":"Такой логин не подойдет","login.domain_invalid_type":"неправильный адрес электронной почты",notavailable:"К сожалению, логин занят","login.not_available":"К сожалению, логин занят","login.prohibitedsymbols":"Такой логин не подойдет","login.startswithdigit":"Такой логин не подойдет","login.long":"Такой логин не подойдет","login.startswithdot":"Такой логин не подойдет","login.startswithhyphen":"Такой логин не подойдет","login.endswithhyphen":"Такой логин не подойдет","login.doubleddot":"Такой логин не подойдет","login.doubledhyphen":"Такой логин не подойдет","login.dothyphen":"Такой логин не подойдет","login.hyphendot":"Такой логин не подойдет","login.endwithdot":"Такой логин не подойдет","login.like_password":"Логин не может совпадать с паролем"},descriptions:{"login.invalid":"Пожалуйста, используйте латиницу, цифры, точку и дефис","login.not_available":"Попробуйте изменить его или выберите один из свободных","login.prohibitedsymbols":"Пожалуйста, используйте латиницу, цифры, точку и дефис","login.startswithdigit":"Логин не должен начинаться с цифры","login.long":"Логин слишком длинный, максимальное количество символов в логине - 30","connect.login.long":"Логин слишком длинный, максимальное количество символов в логине - 40","login.startswithdot":"Логин не должен начинаться с точки","login.startswithhyphen":"Логин не должен начинаться с дефиса","login.endswithhyphen":"Логин не должен заканчиваться дефисом","login.doubleddot":"Логин не должен содержать две точки подряд","login.doubledhyphen":"Логин не должен содержать два дефиса подряд","login.dothyphen":"Логин не должен содержать точку и дефис подряд","login.hyphendot":"Логин не должен содержать дефис и точку подряд","login.endwithdot":"Логин не должен заканчиваться точкой"}},domain:{errors:{missingvalue:"Вам нужно ввести имя домена организации","domain.missingvalue":"Вам нужно ввести имя домена организации","domain.already_exists":"Это имя занято","domain.invalid":"Такой домен не подойдет","domain.invalid_type":"Такой домен не подойдет","domain.containssubdomain":"Поддомен не может быть зарегистрирован"},descriptions:{"domain.invalid":"Вы ввели недопустимые символы. Используйте буквы латинского алфавита и цифры","domain.containssubdomain":"Нельзя зарегистрировать домен, содержащий точку. Используйте буквы латинского алфавита и цифры","domain.already_exists":"Пожалуйста, введите другое имя"}},password:{errors:{not_matched:"Неправильный пароль!","password.not_matched":"Неправильный пароль!",likelogin:"Пароль не может совпадать с логином",tooshort:"Пароль слишком короткий","password.short":"Пароль слишком короткий","strong_pwd.tooshort":"Пароль должен содержать не менее 10 символов",weak:"Пароль слишком простой","warning.weak":"Пароль легко подобрать",prohibitedsymbols:"Пароль содержит запрещённые символы",missingvalue:"Необходимо выбрать пароль",empty:"Необходимо выбрать пароль","password.empty":"Необходимо выбрать пароль",missingvalue_current:"Необходимо ввести текущий пароль",empty_current:"Необходимо ввести текущий пароль",likeoldpassword:"Пароль не должен совпадать с текущим",equals_previous:"Пароль не должен совпадать с текущим","password.equals_previous":"Пароль не должен совпадать с текущим","password.found_in_history":"Совпадает с одним из предыдущих",foundinhistory:"Совпадает с одним из предыдущих",likephonenumber:"Пароль не может совпадать с телефоном",toolong:"Пароль слишком длинный"},descriptions:{likelogin:"Такой пароль легко взломать. Придумайте другой пароль",tooshort:"Используйте хотя бы 6 символов","password.short":"Используйте хотя бы 6 символов",weak:"Используйте большие и маленькие буквы, добавьте цифры","warning.weak":"Замените одну или две маленькие буквы большими, добавьте цифры",prohibitedsymbols:'Для пароля можно использовать только буквы латинского алфавита, цифры и символы: `!@#$%^&*()_=+[]{};:"\\|,.',likeoldpassword:"Такой пароль легко взломать. Придумайте другой пароль",foundinhistory:"Такой пароль легко взломать. Придумайте другой пароль",likephonenumber:"Такой пароль легко взломать. Придумайте другой пароль"}},password_confirm:{errors:{empty:"Необходимо ввести пароль еще раз",missingvalue:"Необходимо ввести пароль еще раз",notequal:"Подтверждение не совпадает с паролем"}},current_password:{errors:{missingvalue:"Необходимо ввести текущий пароль"}},phone:{errors:{missingvalue:"Пожалуйста, укажите номер телефона","number.empty":"Пожалуйста, укажите номер телефона","phone_number.empty":"Пожалуйста, укажите номер телефона","number.invalid":"Недопустимый формат номера","phone_number.invalid":"Недопустимый формат номера","code.invalid":"Неправильный код, попробуйте ещё раз","code.missingvalue":"Пожалуйста, введите код","sms_limit.exceeded":"Превышен лимит отправляемых сообщений, попробуйте позже",badphonenumber:"Недопустимый формат номера",needsconfirmation:"Пожалуйста, подтвердите номер телефона",couldnotsend:"Не получилось отправить код для подтверждения номера",compromised:"Этот номер уже подтверждён для трёх аккаунтов. Введите другой",bound_and_confirmed:"Невозможно подтвердить телефон, попробуйте еще раз позже","confirmations_limit.exceeded":"Превышено количество попыток привязки для данного номера. Измените номер или повторите попытку позднее.",limitexceeded_one_number:"Превышено количество попыток подтверждения телефона. Попробуйте еще раз позже",invalidsecurephone:"Неправильный номер телефона",not_matched:"Неправильный номер телефона",invalidcaptcha:"Для получения кода введите символы с картинки","phone.compromised":"Этот номер уже используется в качестве основного для нескольких аккаунтов. Используйте другой номер","calls_limit.exceeded":"Превышен лимит звонков, попробуйте позже","call_confirm.failed":"Не удалось дозвониться","csrf_token.invalid":"Что-то пошло не так. Попробуйте обновить страницу","action.not_required":"Этот телефон уже защищен"}},phoneCode:{errors:{missingvalue:"Пожалуйста, введите код","code.invalid":"Неправильный код, попробуйте ещё раз","code.missingvalue":"Пожалуйста, введите код","code.empty":"Пожалуйста, введите код","sms_limit.exceeded":"Превышен лимит отправляемых сообщений, попробуйте позже",needsconfirmation:"Пожалуйста, подтвердите номер телефона",couldnotsend:"Не получилось отправить код для подтверждения номера",compromised:"Этот номер уже подтверждён для трёх аккаунтов. Введите другой",bound_and_confirmed:"Невозможно подтвердить телефон, попробуйте еще раз позже","confirmations_limit.exceeded":"Превышено количество попыток привязки для данного номера. Измените номер или повторите попытку позднее.",limitexceeded_one_number:"Превышено количество попыток подтверждения телефона. Попробуйте еще раз позже",invalidsecurephone:"Неправильный номер телефона",not_matched:"Неправильный номер телефона",invalidcaptcha:"Для получения кода введите символы с картинки","phone.compromised":"Этот номер уже используется в качестве основного для нескольких аккаунтов. Используйте другой номер","calls_limit.exceeded":"Превышен лимит звонков, попробуйте позже","call_confirm.failed":"Не удалось дозвониться","csrf_token.invalid":"Что-то пошло не так. Попробуйте обновить страницу"}},hint:{hintQuestionErrors:{missingvalue:"Пожалуйста, выберите контрольный вопрос",toolong:"Контрольный вопрос слишком длинный",empty:"Пожалуйста, укажите свой вопрос"},hintAnswerErrors:{missingvalue:"Необходимо указать ответ на контрольный вопрос",toolong:"Ответ на контрольный вопрос слишком длинный"}},hint_answer:{errors:{empty:"Необходимо указать ответ на контрольный вопрос",missingvalue:"Необходимо указать ответ на контрольный вопрос",toolong:"Ответ на контрольный вопрос слишком длинный"}},hint_question_custom:{errors:{missingvalue:"Пожалуйста, выберите контрольный вопрос",toolong:"Контрольный вопрос слишком длинный",empty:"Пожалуйста, укажите свой вопрос"}},captcha:{errors:{missingvalue:"Необходимо ввести символы","answer.empty":"Необходимо ввести символы","captcha.empty":"Необходимо ввести символы","captcha.cannot_locate":"Ошибка проверки контрольных символов. Попробуйте еще раз","captcha.not_matched":"Вы неверно ввели символы. Попробуйте еще раз","csrf_token.invalid":"Что-то пошло не так. Попробуйте обновить страницу"}},registration:{errors:{sessionidoverflow:"Аккаунт успешно зарегистрирован",registrationsmssendperiplimitexceeded:"Лимит попыток подтверждения телефона исчерпан."},descriptions:{sessionidoverflow:'К сожалению, мы не можем сразу авторизовать вас, так как одновременно можно работать не более чем с 15 аккаунтами.\nДля того, чтобы авторизоваться зарегистрированным пользователем, нужно выйти из любого другого аккаунта.\nРедактировать список ваших текущих аккаунтов можно на странице <a href="/auth">авторизации</a>.'}},global:{errors:{global:"Паспорт не смог обработать запрос. Попробуйте позднее или обновите страницу.",smthWrong:"Что-то пошло не так. Попробуйте обновить страницу"}},findAccountsByNameAndPhone:{errors:{"rate.limit_exceeded":"Что-то пошло не так"},descriptions:{"rate.limit_exceeded":"Превышено количество попыток проверки данных. Пожалуйста, попробуйте еще раз позже. "}},neoPhonishAuth:{errors:{"rate.limit_exceeded":"Не удалось войти в аккаунт"},descriptions:{"rate.limit_exceeded":"Превышено количество попыток авторизации. Пожалуйста, попробуйте еще раз позже."}},email:{errors:{"email.invalid":"Неправильный формат адреса","email.already_confirmed":"Этот адрес уже привязан к вашему аккаунту\n","email.is_native":"Это ваш основной адрес. Его привязать нельзя","email.already_sent":"Слишком много попыток подтверждения для этого адреса, попробуйте позднее","email.not_found":"Данный адрес больше не привязан к аккаунту. Вы можете привязать новый адрес на странице управления адресами.","email.empty":"Вы не ввели адрес электронной почты.","email.send_limit_exceeded":"Превышено количество попыток зарегистрироваться с этим адресом электронной почты. Попробуйте использовать другой адрес или повторите попытку позднее.","email_confirmations_limit.exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее"}},email_code:{errors:{"key.empty":"Укажите код подтверждения","email.incorrect_key":"Неправильный код подтверждения","email.key_check_limit_exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее"}},publicId:{errors:{missingvalue:"Вы не ввели адрес","public_id.empty":"Вы не ввели адрес","public_id.not_available":"Этот адрес занят","public_id.long":"Адрес слишком длинный","public_id.startswithdigit":"Адрес не может начинаться с цифры","public_id.startswithdot":"Адрес не может начинаться с точки","public_id.startswithhyphen":"Адрес не может начинаться с дефиса","public_id.endwithdot":"Адрес не может заканчиваться точкой","public_id.endswithhyphen":"Адрес не может заканчиваться дефисом","public_id.doubleddot":"Пожалуйста, не используйте две точки подряд","public_id.doubledhyphen":"Пожалуйста, не используйте два дефиса подряд","public_id.prohibitedsymbols":"В адресе можно использовать только цифры и латинские буквы","public_id.dothyphen":"Пожалуйста, не ставьте точку и дефис подряд","public_id.hyphendot":"Пожалуйста, не ставьте точку и дефис подряд","public_id.update_not_allowed":'Вы уже меняли адрес дважды. Если нужно изменить его ещё раз, напишите в <a href="https://yandex.ru/support/passport/feedback.html">службу поддержки</a>',"public_id.invalid":"Введенное значение некорректно"}}}},y6zHL681wM3mpFoylwtR:function(e,t,n){},"y7VlRLmEuOF+TGEj3xHV":function(e,t,n){},yi2HOavEOLsMrMN95lAZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("JLFc6U7sd0PMI6Bh60mb");function o(e,t){return function(){if("undefined"!=typeof window){var n=document.getElementById("".concat(r.b).concat(e));n&&(n.value=t)}}}},"ysMlxi1yQ/4ftbKMQCqh":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("LzmKygd9FPlNlMcSJp0Y"),u=Object(c.cn)("Title"),s=function(e){var t=e.children,n=e.size,r=e.dataT,i=e.align;return o.a.createElement("h2",{"data-t":r?"title:".concat(r):"title",className:u({size:n,align:i||"center"})},t)};s.propTypes={children:a.a.node.isRequired,size:a.a.string,dataT:a.a.string,align:a.a.oneOf(["center"])}},"ysbeRVOxGmwF+XVZrUFR":function(e,t,n){},"z/Ug44arcHnnmInRoI/0":function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return d}));var r="/auth/restore/login",o="/auth/restore/neo",i="/auth/reg",a="ENTRY_RESTORE",c="ENTRY_RESTORE_NEOPHONISH_PROCESS",u="ENTRY_REGISTER",s="ENTRY_REGISTER_NEOPHONISH",l="ENTRY_REGISTER_BROWSER_PROCESS",f="ENTRY_REGISTER_WITH_FULL_PERSONAL_INFO_PROCESS",d="ENTRY_REGISTER_WITH_FULL_PERSONAL_INFO_NEOPHONISH_PROCESS"},"z/xYuaAAFgNzShO7QABT":function(e,t,n){},"z3qqbj39i+miilZ9Wcps":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("a4EMkKqamYWCMMPV7UeQ"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("MJovFwNIrFAmLe5Xoo3c"),u=n.n(c),s=n("B/+x7wOHvlrE/6Q4CYQo"),l=n("FUZ6AA4Oce8/2wMDn7Ki"),f=n("4CLY6EXHBdRASoqLgoNs"),d=n("IWyIY6v871rrx6jPCZuR"),p=n("EnGa9mvY6eOwANLjrgCs"),h=n("znTbw0iOKLShrW2tHvtf");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){g(n,e);var t=_(n);function n(e){var r;return b(this,n),j(S(r=t.call(this,e)),"changeCaptchaType",(function(){var e=r.props,t=e.type,n=e.dispatch;n("text"===t?Object(p.a)(!0):Object(h.a)()),n(Object(l.k)())})),j(S(r),"reloadCaptcha",(function(){r.props.dispatch(Object(f.a)())})),j(S(r),"playCaptcha",(function(){r.props.dispatch(Object(p.a)())})),r.isAudioCaptchaEnabled=!1,r.isLoading=!0,r}return v(n,[{key:"componentDidMount",value:function(){var e=this;this.isLoading=!1,$.ajax({url:"https://yastatic.net/howler/2.1.2/howler.min.js",dataType:"script",cache:!0,scriptAttrs:{crossorigin:"anonymous"},success:function(){e.isAudioCaptchaEnabled=!0,e.props.dispatch(Object(h.a)(!0))},error:function(){e.props.dispatch(Object(h.a)())}}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(l.l)())}},{key:"render",value:function(){var e=this.props,t=e.imageUrl,n=e.env,r=e.captchaKey,i=e.introSound,a=e.type,c=e.loading,u=e.loadingAudio,s=e.playing,l=e.visible,f=e.lang,d=e.dispatch,p=Boolean(("ru"===f||"tr"===f)&&!this.isLoading&&this.isAudioCaptchaEnabled);return o.a.createElement("div",{className:"captcha captcha_type_".concat(a)},Boolean(l)&&o.a.createElement("div",{className:"captcha__container"},"text"===a&&o.a.createElement(R,{onClick:this.reloadCaptcha,imageUrl:t,env:n,captchaKey:r,loading:c,dispatch:d}),"audio"===a&&p&&o.a.createElement(P,{loading:u,introSound:i,playing:s,dispatch:d,playCaptcha:this.playCaptcha})),o.a.createElement("div",{className:"captcha__footer clearfix"},!this.isLoading&&o.a.createElement("div",{className:"captcha__reload",onClick:this.reloadCaptcha,role:"button",tabIndex:"0"},o.a.createElement("span",{className:"captcha__reload-icon"}),"Другой код"),p&&o.a.createElement("div",{className:"captcha__change-type",onClick:this.changeCaptchaType,role:"button",tabIndex:"0"},o.a.createElement("span",{className:"captcha__change-type-icon"}),"text"===a?"Послушать код":"Текстовый код")))}}]),n}(r.PureComponent);C.propTypes={imageUrl:a.a.string,captchaKey:a.a.string,env:a.a.shape({type:a.a.string}),introSound:a.a.object,captchaSound:a.a.object,type:a.a.string.isRequired,loading:a.a.bool.isRequired,loadingAudio:a.a.bool.isRequired,playing:a.a.bool.isRequired,visible:a.a.bool.isRequired,lang:a.a.string.isRequired,isMobile:a.a.bool,dispatch:a.a.func.isRequired};var R=function(e){g(n,e);var t=_(n);function n(){return b(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.imageUrl,r=e.captchaKey,i=e.env,a=void 0===i?{}:i,c="development"===a.type||"testing"===a.type;return t?o.a.createElement(s.a,{progress:!0,size:"l"}):o.a.createElement("img",{src:n,onClick:this.props.onClick,className:"captcha__image",alt:c?"captcha image key_".concat(r):"captcha image","aria-label":c?"captcha image key_".concat(r):"captcha image"})}}]),n}(r.Component);R.propTypes={onClick:a.a.func.isRequired,dispatch:a.a.func.isRequired,imageUrl:a.a.string,loading:a.a.bool.isRequired,captchaKey:a.a.string,env:a.a.shape({type:a.a.string})};var P=function(e){g(n,e);var t=_(n);function n(){return b(this,n),t.apply(this,arguments)}return v(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(d.a)())}},{key:"render",value:function(){var e=this.props,t=e.playing,n=e.loading,r=e.playCaptcha;return n?o.a.createElement(s.a,{progress:!0,size:"l"}):o.a.createElement("div",{className:u()("captcha__audio ",{captcha__audio_playing:t}),onClick:r})}}]),n}(r.Component);P.propTypes={dispatch:a.a.func.isRequired,playing:a.a.bool.isRequired,loading:a.a.bool.isRequired,introSound:a.a.object,captchaSound:a.a.object,playCaptcha:a.a.func.isRequired}},"z7Oi9rc5+MJTcyjtMHC3":function(e,t,n){"use strict";var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("s7ETookYgfkMG6aMgioe");var i=n("Yp2QB2jYYmLrYZQDlfoW");function a(e,t){return"valid"===t?function(n){n(Object(i.O)({field:e,status:t})),n(Object(i.M)({field:e,error:{code:"",text:""},active:!1}))}:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n(Object(i.O)({field:e,status:t})),n(Object(i.M)({field:e,error:r,errorDescription:o,active:a}))}}var c=n("W3MgEIO55ELSFhldjoS/"),u=n("y1lFHCm6B2gquSkTr2oB");function s(e){return function(t,n){var s=n(),l=s.common,f=l.csrf,d=l.track_id,p=s.form.prefix,h="/registration/finish?track_id=".concat(d),m=e;m.csrf_token=f,m.track_id=d,m.eula_accepted="on",r.a.request("registration-".concat(-1!==p.indexOf("complete")?"complete":"connect"),m).then((function(e){"ok"===e.status&&(window.location.href=e.target||h,c.a.send(["Форма","Успешная регистрация"]),c.a.goal("".concat(p,"_form_success")))})).fail((function(e){if(t(Object(o.i)(!1)),e&&Array.isArray(e.error)&&e.error[0]){var n,r,s,l=e.error[0];if("captcha.required"===l)return t(Object(o.j)({status:"",code:"",text:""})),void t(Object(i.H)(!0));if("string"==typeof l){var f=l.split(".");n=f[0],s=f[1],r=l}else n=l.field,s=r=l.code;if("domain.invalid_type"===r&&(r="domain.invalid"),"sessionidoverflow"!==r&&"sessionid.overflow"!==l&&"sessionid.overflow"!==r)if("registrationsmssendperiplimitexceeded"!==r)if(u.a[n]&&(u.a[n].errors[r]||u.a[n].errors[s]))a(n,"not_valid")(t,{code:r,text:u.a[n].errors[r]||u.a[n].errors[s]}),c.a.send(["Форма","Показ ошибок",r]),c.a.goal("".concat(p,"_form_fail"));else{var d={status:"global",code:"global",text:u.a.global.errors.smthWrong};t(Object(o.j)(d))}else{var h={status:"error",code:"registrationsmssendperiplimitexceeded",text:u.a.registration.errors.registrationsmssendperiplimitexceeded};t(Object(o.j)(h))}else{var m={status:"error",code:"sessionidoverflow",text:u.a.registration.errors.sessionidoverflow,descriptionText:u.a.registration.descriptions.sessionidoverflow};t(Object(o.j)(m))}}else{var b={status:"global",code:"global",text:u.a.global.errors.smthWrong};t(Object(o.j)(b))}}))}}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e===o.f||e===o.e||-1!==e.indexOf("complete");return t?s:f},f=function(e){return function(t,n){var i,s=n(),l=s.settings.uatraits,f=s.common,d=f.track_id,p=f.csrf,h=f.currentPage,m=f.retpath,b=s.additionalStep,y=void 0===b?{}:b,v=s.form.type,g=l.isMobile&&!l.isTablet,O="/registration/finish?track_id=".concat(d),_=e||t((function(e,t){var n=t(),r=n.form,o=n.settings,a=r.values,c=r.validation,u=o.tmxSession,s=c.method,l=Object.assign({},a);return"captcha"===s&&"99"===a.hint_question_id&&(l.hint_question=a.hint_question_custom),l["human-confirmation"]=s,i&&(l.money_eula_accepted="on",l.tmx_session=u),l})),E=g?o.d:o.c;_.csrf_token=p,_.track_id=d,_.eula_accepted="on",v&&(_.type=v),r.a.request("registration-alternative",_).then((function(e){if("ok"===e.status)return c.a.send(["Форма","Успешная регистрация"]),c.a.goal("".concat(E,"_form_success")),y.type&&["avatar","qr"].includes(y.type)?void(location.href=y.path||m):void(location.href=e.target||O);t(Object(o.j)({status:"error",code:"global",text:u.a.global.errors.smthWrong,descriptionText:""}))})).fail((function(e){if(t(Object(o.i)(!1)),e&&Array.isArray(e.error)){var n=e.error,r=n[0]&&n[0].code,i=n.find((function(e){return e.field})),s={status:"error",code:r||"global",text:u.a.global.errors.global,descriptionText:""};return"registrationsmssendperiplimitexceeded"===r?(s.text=u.a.registration.errors.registrationsmssendperiplimitexceeded,void t(Object(o.j)(s))):"sessionidoverflow"===r?(s.text=u.a.registration.errors.sessionidoverflow,s.descriptionText=u.a.registration.descriptions.sessionidoverflow,void t(Object(o.j)(s))):("registrationalreadycompletederror"===r&&(window.location.href=h),c.a.send(["Форма","Показ ошибок",r]),c.a.goal("".concat(E,"_form_fail")),n&&i&&r?void n.forEach((function(e){a(e.field,"not_valid")(t,{code:e.code,text:u.a[e.field].errors?u.a[e.field].errors[e.code]:u.a.global.errors.global})})):void t(Object(o.j)(s)))}t(Object(o.j)({status:"error",code:"global",text:u.a.global.errors.smthWrong,descriptionText:""}))}))}},d=n("4CLY6EXHBdRASoqLgoNs");var p={submitRegistration:function(e){var t=Object.assign({},e);return function(e,n){var i,c=n(),s=c.common.from,f=c.settings.origin,p=c.form,h=p.prefix,m=p.captchaRequired,b=p.keepUnsubscribedValue,y=c.registrationType,v=c.experimentsList,g=void 0===v?{}:v,O=l(h,y),_=g.isPlusPromo,E=g.plusPromoCode;(s&&(t.from=s),_&&E&&(t.plus_promo_code=E),b&&(t.keepUnsubscribedValue=!0),f&&(t.origin=f),e(Object(o.i)(!0)),"captcha"===t["human-confirmation"]||m)?e((i=t,function(e,t){var n=t(),c=n.form.prefix,s={track_id:n.common.track_id,csrf_token:n.common.csrf,answer:n.form.values.captcha},f=l(c,n.registrationType),p=u.a.captcha.errors,h={code:"",text:""};r.a.request("checkHuman",s).done((function(t){var r=t?t.status:"error",o="lite"===n.registrationType?i&&i.email:i;"ok"===r?e(f(o)):"error"===r&&(h.code=t.errors[0],h.text=p[t.errors[0]],a("captcha","not_valid")(e,h))})).fail((function(t){h.code=t.errors&&t.errors[0]||"captcha.cannot_locate",h.text=p[h.code],a("captcha","not_valid")(e,h),e(Object(d.a)()),e(Object(o.i)(!1))}))})):e(O(t))}},asyncRegistration:function(e){var t=e.trackId;delete e.trackId;var n=Object.assign({},e,{track_id:t,eula_accepted:"y"===e.eula_accepted?"on":"off"});return new Promise((function(e,t){r.a.request("registration-alternative",n).then(e).fail((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(n.error)){var r=n.error,o=r[0]&&r[0].code;if("registrationalreadycompletederror"===o)return void e(n)}t(n)}))}))},registerNeoPhonish:function(e){var t=e.trackId;return e.track_id=t,delete e.trackId,new Promise((function(t,n){r.a.request("registration-neophonish",e).then(t).fail(n)}))},prepareFormData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=["hint_question_id","phoneCode"],i=Object.assign({},e),a="code_sent"===i.phoneCodeStatus&&"valid"===i.phoneCode;return"lite"===r&&o.push("emailCode","emailCodeStatus","login"),"lite"!==r&&o.push("email"),(a||"captcha"===t)&&o.push("phoneCodeStatus"),"phone"===t&&o.push("hint_question_id","hint_question_custom","hint_question","hint_answer","captcha"),"captcha"===t&&o.push("phone"),n&&o.push("password_confirm"),o.forEach((function(e){delete i[e]})),i}};t.a=p},znTbw0iOKLShrW2tHvtf:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("Cn0bb7dlXdz9iLHfBkZ3");var o=n("7/9pYbQkeaSMYb1NzrDG"),i=n("FUZ6AA4Oce8/2wMDn7Ki");function a(e){return function(t){var n=window.Howl,r=e.voice&&e.voice.intro_url&&e.voice.url;if(t((function(e,t){var n=t().captcha,r=n.introSound,o=n.captchaSound;r&&"function"==typeof r.unload&&r.unload(),o&&"function"==typeof o.unload&&o.unload()})),!n||!r)return t(Object(i.n)());var a=null,c=new Promise((function(r,i){return(a=new n({src:e.voice.intro_url,html5:!0,preload:!0,format:["mp3"]})).on("load",(function(){return r()})),a.on("loaderror",(function(){return i()})),a.on("end",(function(){return t(Object(o.a)())})),a})),u=null,s=new Promise((function(r,o){return(u=new n({src:e.voice.url,html5:!0,preload:!0,format:["mp3"]})).on("load",(function(){return r()})),u.on("loaderror",(function(){return o()})),u.on("end",(function(){return t(Object(i.j)(!1))})),u}));return Promise.all([c,s]).then((function(){return t(Object(i.o)(e.key,a,u))})).catch((function(){return t(Object(i.n)())}))}}var c=n("2RwP39fxF+52d7V4pFC1"),u=n("icG+8Jgv+BJiTL/fPTrX"),s=n("QgjbgVDbzfInN/CjWaXi");function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var o=n(),l=o.common,f=l.track_id,d=l.uid,p=l.captchaScaleFactor,h=o.captcha,m=h.ocr,b=h.trackId,y=Object(u.d)(o),v=b||f||Object(u.h)(o,s.b.COMMON);t(Object(i.r)());var g={track_id:v,uid:d,language:y,ocr:m};p&&(g.scale_factor=p),b&&(g.track_id=b),r.a.request("textcaptcha",g,{abortPrevious:!0}).done((function(n){return t(Object(i.q)(n.key,n.image_url)),t(e?a(n):Object(c.a)(n))})).fail((function(e){t(Object(i.p)(e))}))}}}});
//# sourceMappingURL=https://s3.mds.yandex.net/passport-source-maps/core/v0.2.190-14/react.authv2.react.ru.js.map